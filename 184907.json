{"path":"solr/core/src/test/org/apache/solr/search/facet/TestJsonRangeFacets#doFacetValueTypeValidation(Client).mjava","commits":[{"id":"1c841e27891873cab110ebeb89f124a8ec470176","date":1586527220,"type":0,"author":"Munendra S N","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/facet/TestJsonRangeFacets#doFacetValueTypeValidation(Client).mjava","pathOld":"/dev/null","sourceNew":"  private void doFacetValueTypeValidation(Client client) throws Exception {\n    indexSimple(client);\n\n    // range faceting with start, end, and gap\n    client.testXQ(params(\"q\", \"*:*\", \"rows\",  \"0\",\n        \"json.facet\", \"{num:{type: range, field:num_i,start:0,gap:2,end:10,mincount:1,other:all}}\"),\n        \"/response/lst[@name='facets']/long[@name='count'][.=6]\", // count\n        \"/response/lst[@name='facets']/lst[@name='num']/arr[@name='buckets']/lst[1]/int[@name='val'][.=2]\", // value\n        \"/response/lst[@name='facets']/lst[@name='num']/arr[@name='buckets']/lst[1]/long[@name='count'][.=2]\", // count\n        \"*[count(/response/lst[@name='facets']/lst[@name='num']/arr[@name='buckets']/lst)=2]\", // no of entries\n        \"/response/lst[@name='facets']/lst[@name='num']/lst[@name='before']/long[@name='count'][.=2]\", // before\n        \"/response/lst[@name='facets']/lst[@name='num']/lst[@name='after']/long[@name='count'][.=0]\", // after\n        \"/response/lst[@name='facets']/lst[@name='num']/lst[@name='between']/long[@name='count'][.=3]\" // between\n    );\n\n    // range faceting with ranges specified\n    client.testXQ(params(\"q\", \"*:*\", \"rows\",  \"0\",\n        \"json.facet\", \"{num:{type: range, field:num_i,ranges:[{from:0, to:4},{from:-4,to:2}],mincount:1}}\"),\n        \"/response/lst[@name='facets']/long[@name='count'][.=6]\", // count\n        \"/response/lst[@name='facets']/lst[@name='num']/arr[@name='buckets']/lst[1]/str[@name='val'][.='[0,4)']\", // value\n        \"/response/lst[@name='facets']/lst[@name='num']/arr[@name='buckets']/lst[1]/long[@name='count'][.=2]\", // count\n        \"*[count(/response/lst[@name='facets']/lst[@name='num']/arr[@name='buckets']/lst)=1]\" // no of entries\n    );\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"1c841e27891873cab110ebeb89f124a8ec470176":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["1c841e27891873cab110ebeb89f124a8ec470176"]},"commit2Childs":{"1c841e27891873cab110ebeb89f124a8ec470176":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["1c841e27891873cab110ebeb89f124a8ec470176"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}