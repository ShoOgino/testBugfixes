{"path":"solr/core/src/java/org/apache/solr/store/blockcache/BufferStore#initNewBuffer(int,long).mjava","commits":[{"id":"bba91e4be653c9cabbdd70dd59c7e7379c43f0e8","date":1390842189,"type":0,"author":"Mark Robert Miller","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/store/blockcache/BufferStore#initNewBuffer(int,long).mjava","pathOld":"/dev/null","sourceNew":"  public synchronized static void initNewBuffer(int bufferSize, long totalAmount) {\n    if (totalAmount == 0) {\n      return;\n    }\n    BufferStore bufferStore = bufferStores.get(bufferSize);\n    if (bufferStore == null) {\n      long count = totalAmount / bufferSize;\n      if (count > Integer.MAX_VALUE) {\n        count = Integer.MAX_VALUE;\n      }\n      BufferStore store = new BufferStore(bufferSize, (int) count);\n      bufferStores.put(bufferSize, store);\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":["adc1a805943f03a49f6d5cdc1b010526dab1cfc9"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"adc1a805943f03a49f6d5cdc1b010526dab1cfc9","date":1417444169,"type":3,"author":"Mark Robert Miller","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/store/blockcache/BufferStore#initNewBuffer(int,long).mjava","pathOld":"solr/core/src/java/org/apache/solr/store/blockcache/BufferStore#initNewBuffer(int,long).mjava","sourceNew":"  public synchronized static void initNewBuffer(int bufferSize, long totalAmount) {\n    initNewBuffer(bufferSize, totalAmount, null);\n  }\n\n","sourceOld":"  public synchronized static void initNewBuffer(int bufferSize, long totalAmount) {\n    if (totalAmount == 0) {\n      return;\n    }\n    BufferStore bufferStore = bufferStores.get(bufferSize);\n    if (bufferStore == null) {\n      long count = totalAmount / bufferSize;\n      if (count > Integer.MAX_VALUE) {\n        count = Integer.MAX_VALUE;\n      }\n      BufferStore store = new BufferStore(bufferSize, (int) count);\n      bufferStores.put(bufferSize, store);\n    }\n  }\n\n","bugFix":["bba91e4be653c9cabbdd70dd59c7e7379c43f0e8"],"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"adc1a805943f03a49f6d5cdc1b010526dab1cfc9":["bba91e4be653c9cabbdd70dd59c7e7379c43f0e8"],"bba91e4be653c9cabbdd70dd59c7e7379c43f0e8":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["adc1a805943f03a49f6d5cdc1b010526dab1cfc9"]},"commit2Childs":{"adc1a805943f03a49f6d5cdc1b010526dab1cfc9":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"bba91e4be653c9cabbdd70dd59c7e7379c43f0e8":["adc1a805943f03a49f6d5cdc1b010526dab1cfc9"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["bba91e4be653c9cabbdd70dd59c7e7379c43f0e8"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}