{"path":"lucene/facet/src/java/org/apache/lucene/facet/search/OrdinalsCache#ramBytesUsed().mjava","commits":[{"id":"3ea97e9a1d0f5c3c323186e9c56052e1dff5e04b","date":1382560833,"type":0,"author":"Shai Erera","isMerge":false,"pathNew":"lucene/facet/src/java/org/apache/lucene/facet/search/OrdinalsCache#ramBytesUsed().mjava","pathOld":"/dev/null","sourceNew":"  /** Returns how many bytes the static ords cache is\n   *  consuming. */\n  public synchronized static long ramBytesUsed() {\n    long size = 0;\n    for (Map<String,CachedOrds> e : ordsCache.values()) {\n      for (CachedOrds co : e.values()) {\n        size += RamUsageEstimator.NUM_BYTES_OBJECT_REF              // CachedOrds reference in the map\n            + RamUsageEstimator.NUM_BYTES_OBJECT_HEADER             // CachedOrds object header\n            + RamUsageEstimator.NUM_BYTES_ARRAY_HEADER * 2          // 2 int[] (header)\n            + RamUsageEstimator.NUM_BYTES_OBJECT_REF * 2            // 2 int[] (ref)\n            + RamUsageEstimator.NUM_BYTES_INT * co.offsets.length   // sizeOf(offsets)\n            + RamUsageEstimator.NUM_BYTES_INT * co.ordinals.length; // sizeOf(ordinals)\n      }\n    }\n    return size;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"d33e19a97046248623a7591aeaa6547233fd15e2","date":1385424777,"type":4,"author":"Michael McCandless","isMerge":false,"pathNew":"/dev/null","pathOld":"lucene/facet/src/java/org/apache/lucene/facet/search/OrdinalsCache#ramBytesUsed().mjava","sourceNew":null,"sourceOld":"  /** Returns how many bytes the static ords cache is\n   *  consuming. */\n  public synchronized static long ramBytesUsed() {\n    long size = 0;\n    for (Map<String,CachedOrds> e : ordsCache.values()) {\n      for (CachedOrds co : e.values()) {\n        size += RamUsageEstimator.NUM_BYTES_OBJECT_REF              // CachedOrds reference in the map\n            + RamUsageEstimator.NUM_BYTES_OBJECT_HEADER             // CachedOrds object header\n            + RamUsageEstimator.NUM_BYTES_ARRAY_HEADER * 2          // 2 int[] (header)\n            + RamUsageEstimator.NUM_BYTES_OBJECT_REF * 2            // 2 int[] (ref)\n            + RamUsageEstimator.NUM_BYTES_INT * co.offsets.length   // sizeOf(offsets)\n            + RamUsageEstimator.NUM_BYTES_INT * co.ordinals.length; // sizeOf(ordinals)\n      }\n    }\n    return size;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"3cc728b07df73b197e6d940d27f9b08b63918f13","date":1388834348,"type":4,"author":"Michael McCandless","isMerge":true,"pathNew":"/dev/null","pathOld":"lucene/facet/src/java/org/apache/lucene/facet/search/OrdinalsCache#ramBytesUsed().mjava","sourceNew":null,"sourceOld":"  /** Returns how many bytes the static ords cache is\n   *  consuming. */\n  public synchronized static long ramBytesUsed() {\n    long size = 0;\n    for (Map<String,CachedOrds> e : ordsCache.values()) {\n      for (CachedOrds co : e.values()) {\n        size += RamUsageEstimator.NUM_BYTES_OBJECT_REF              // CachedOrds reference in the map\n            + RamUsageEstimator.NUM_BYTES_OBJECT_HEADER             // CachedOrds object header\n            + RamUsageEstimator.NUM_BYTES_ARRAY_HEADER * 2          // 2 int[] (header)\n            + RamUsageEstimator.NUM_BYTES_OBJECT_REF * 2            // 2 int[] (ref)\n            + RamUsageEstimator.NUM_BYTES_INT * co.offsets.length   // sizeOf(offsets)\n            + RamUsageEstimator.NUM_BYTES_INT * co.ordinals.length; // sizeOf(ordinals)\n      }\n    }\n    return size;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"d33e19a97046248623a7591aeaa6547233fd15e2":["3ea97e9a1d0f5c3c323186e9c56052e1dff5e04b"],"3ea97e9a1d0f5c3c323186e9c56052e1dff5e04b":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"3cc728b07df73b197e6d940d27f9b08b63918f13":["3ea97e9a1d0f5c3c323186e9c56052e1dff5e04b","d33e19a97046248623a7591aeaa6547233fd15e2"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["3cc728b07df73b197e6d940d27f9b08b63918f13"]},"commit2Childs":{"d33e19a97046248623a7591aeaa6547233fd15e2":["3cc728b07df73b197e6d940d27f9b08b63918f13"],"3ea97e9a1d0f5c3c323186e9c56052e1dff5e04b":["d33e19a97046248623a7591aeaa6547233fd15e2","3cc728b07df73b197e6d940d27f9b08b63918f13"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["3ea97e9a1d0f5c3c323186e9c56052e1dff5e04b"],"3cc728b07df73b197e6d940d27f9b08b63918f13":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}