{"path":"lucene/core/src/test/org/apache/lucene/index/TestSegmentToThreadMapping#testSmallSegments().mjava","commits":[{"id":"cb1ea7c2a1a6c0b29808a5562d417545dd5529e4","date":1558462722,"type":0,"author":"Atri Sharma","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/index/TestSegmentToThreadMapping#testSmallSegments().mjava","pathOld":"/dev/null","sourceNew":"  public void testSmallSegments() {\n    LeafReader firstMediumSegmentReader = dummyIndexReader(10_000);\n    LeafReader secondMediumSegmentReader = dummyIndexReader(10_000);\n    LeafReader thirdMediumSegmentReader = dummyIndexReader(10_000);\n    LeafReader fourthMediumSegmentReader = dummyIndexReader(10_000);\n    LeafReader fifthMediumSegmentReader = dummyIndexReader(10_000);\n    LeafReader sixthMediumSegmentReader = dummyIndexReader(10_000);\n    LeafReader seventhLargeSegmentReader = dummyIndexReader(130_000);\n    LeafReader eigthLargeSegmentReader = dummyIndexReader(130_000);\n    List<LeafReaderContext> leafReaderContexts = new ArrayList<>();\n\n    leafReaderContexts.add(new LeafReaderContext(firstMediumSegmentReader));\n    leafReaderContexts.add(new LeafReaderContext(secondMediumSegmentReader));\n    leafReaderContexts.add(new LeafReaderContext(thirdMediumSegmentReader));\n    leafReaderContexts.add(new LeafReaderContext(fourthMediumSegmentReader));\n    leafReaderContexts.add(new LeafReaderContext(fifthMediumSegmentReader));\n    leafReaderContexts.add(new LeafReaderContext(sixthMediumSegmentReader));\n    leafReaderContexts.add(new LeafReaderContext(seventhLargeSegmentReader));\n    leafReaderContexts.add(new LeafReaderContext(eigthLargeSegmentReader));\n\n    IndexSearcher.LeafSlice[] resultSlices = IndexSearcher.slices(leafReaderContexts, 250_000, 5);\n\n    assertTrue(resultSlices.length == 3);\n\n    final LeafReaderContext[] firstSliceleaves = resultSlices[0].leaves;\n    final LeafReaderContext[] secondSliceleaves = resultSlices[1].leaves;\n    final LeafReaderContext[] thirdSliceleaves = resultSlices[2].leaves;\n\n    assertTrue(firstSliceleaves.length == 2);\n    assertTrue(secondSliceleaves.length == 5);\n    assertTrue(thirdSliceleaves.length == 1);\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cb1ea7c2a1a6c0b29808a5562d417545dd5529e4":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["cb1ea7c2a1a6c0b29808a5562d417545dd5529e4"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["cb1ea7c2a1a6c0b29808a5562d417545dd5529e4"],"cb1ea7c2a1a6c0b29808a5562d417545dd5529e4":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}