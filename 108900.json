{"path":"solr/test-framework/src/java/org/apache/solr/cloud/SolrCloudAuthTestCase#sumCount(String,String,List[Map[String,Metric]]).mjava","commits":[{"id":"85397dd93927c17347c6bf89800cd0fc566c2d03","date":1544610812,"type":0,"author":"Jan HÃ¸ydahl","isMerge":false,"pathNew":"solr/test-framework/src/java/org/apache/solr/cloud/SolrCloudAuthTestCase#sumCount(String,String,List[Map[String,Metric]]).mjava","pathOld":"/dev/null","sourceNew":"  // Have to sum the metrics from all three shards/nodes\n  private long sumCount(String prefix, String key, List<Map<String, Metric>> metrics) {\n    assertTrue(\"Metric \" + prefix + key + \" does not exist\", metrics.get(0).containsKey(prefix + key)); \n    if (AUTH_METRICS_METER_KEYS.contains(key))\n      return metrics.stream().mapToLong(l -> ((Meter)l.get(prefix + key)).getCount()).sum();\n    else if (AUTH_METRICS_TIMER_KEYS.contains(key))\n      return (long) ((long) 1000 * metrics.stream().mapToDouble(l -> ((Timer)l.get(prefix + key)).getMeanRate()).average().orElse(0.0d));\n    else\n      return metrics.stream().mapToLong(l -> ((Counter)l.get(prefix + key)).getCount()).sum();\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"85397dd93927c17347c6bf89800cd0fc566c2d03":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["85397dd93927c17347c6bf89800cd0fc566c2d03"]},"commit2Childs":{"85397dd93927c17347c6bf89800cd0fc566c2d03":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["85397dd93927c17347c6bf89800cd0fc566c2d03"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}