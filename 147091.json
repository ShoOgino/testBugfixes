{"path":"solr/core/src/java/org/apache/solr/cloud/api/collections/Assign#defaultCounterValue(DocCollection,boolean,String).mjava","commits":[{"id":"bb222a3f9d9421d5c95afce73013fbd8de07ea1f","date":1543514331,"type":0,"author":"markrmiller","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/cloud/api/collections/Assign#defaultCounterValue(DocCollection,boolean,String).mjava","pathOld":"/dev/null","sourceNew":"  private static int defaultCounterValue(DocCollection collection, boolean newCollection, String shard) {\n    if (newCollection) return 0;\n\n    int defaultValue;\n    if (collection.getSlice(shard) != null && collection.getSlice(shard).getReplicas().isEmpty()) {\n      return 0;\n    } else {\n      defaultValue = collection.getReplicas().size() * 2;\n    }\n\n    if (collection.getReplicationFactor() != null) {\n      // numReplicas and replicationFactor * numSlices can be not equals,\n      // in case of many addReplicas or deleteReplicas are executed\n      defaultValue = Math.max(defaultValue,\n          collection.getReplicationFactor() * collection.getSlices().size());\n    }\n    return defaultValue;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"bb222a3f9d9421d5c95afce73013fbd8de07ea1f":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["bb222a3f9d9421d5c95afce73013fbd8de07ea1f"]},"commit2Childs":{"bb222a3f9d9421d5c95afce73013fbd8de07ea1f":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["bb222a3f9d9421d5c95afce73013fbd8de07ea1f"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}