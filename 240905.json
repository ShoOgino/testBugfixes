{"path":"lucene/core/src/java/org/apache/lucene/util/RamUsageEstimator#sizeOfObject(Object,int,long).mjava","commits":[{"id":"fe90d104db258964b96e50418b9caa0c156eafda","date":1561555614,"type":0,"author":"Andrzej Bialecki","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/util/RamUsageEstimator#sizeOfObject(Object,int,long).mjava","pathOld":"/dev/null","sourceNew":"  private static long sizeOfObject(Object o, int depth, long defSize) {\n    if (o == null) {\n      return 0;\n    }\n    long size;\n    if (o instanceof Accountable) {\n      size = ((Accountable)o).ramBytesUsed();\n    } else if (o instanceof String) {\n      size = sizeOf((String)o);\n    } else if (o instanceof boolean[]) {\n      size = sizeOf((boolean[])o);\n    } else if (o instanceof byte[]) {\n      size = sizeOf((byte[])o);\n    } else if (o instanceof char[]) {\n      size = sizeOf((char[])o);\n    } else if (o instanceof double[]) {\n      size = sizeOf((double[])o);\n    } else if (o instanceof float[]) {\n      size = sizeOf((float[])o);\n    } else if (o instanceof int[]) {\n      size = sizeOf((int[])o);\n    } else if (o instanceof Long) {\n      size = sizeOf((Long)o);\n    } else if (o instanceof long[]) {\n      size = sizeOf((long[])o);\n    } else if (o instanceof short[]) {\n      size = sizeOf((short[])o);\n    } else if (o instanceof String[]) {\n      size = sizeOf((String[]) o);\n    } else if (o instanceof Query) {\n      size = sizeOf((Query)o, defSize);\n    } else if (o instanceof Map) {\n      size = sizeOfMap((Map) o, ++depth, defSize);\n    } else if (o instanceof Collection) {\n      size = sizeOfCollection((Collection)o, ++depth, defSize);\n    } else {\n      if (defSize > 0) {\n        size = defSize;\n      } else {\n        size = shallowSizeOf(o);\n      }\n    }\n    return size;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"fe90d104db258964b96e50418b9caa0c156eafda":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["fe90d104db258964b96e50418b9caa0c156eafda"]},"commit2Childs":{"fe90d104db258964b96e50418b9caa0c156eafda":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["fe90d104db258964b96e50418b9caa0c156eafda"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}