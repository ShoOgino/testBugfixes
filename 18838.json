{"path":"lucene/core/src/java/org/apache/lucene/index/NormsConsumerPerField#flush(SegmentWriteState,SimpleDVConsumer).mjava","commits":[{"id":"a761b207f161726214a84533bf56a78f6c21ff56","date":1354384027,"type":0,"author":"Michael McCandless","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/index/NormsConsumerPerField#flush(SegmentWriteState,SimpleDVConsumer).mjava","pathOld":"/dev/null","sourceNew":"  Type flush(SegmentWriteState state, SimpleDVConsumer normsConsumer) throws IOException {\n    int docCount = state.segmentInfo.getDocCount();\n    if (!initialized()) {\n      return null; // null type - not omitted but not written\n    }\n    consumer.finish(docCount);\n    // nocommit change to assert normsConsumer != null\n    if (normsConsumer != null) {\n      // nocommit we need to change the suffix?  ie so norms\n      // don't step on dvs? hmmm.... where does this happen\n      // today ...\n      simpleNormsWriter.finish(docCount);\n      simpleNormsWriter.flush(state, normsConsumer);\n    } else {\n      // nocommit remove:\n      simpleNormsWriter.reset();\n    }\n    return initType;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"0837ab0472feecb3a54260729d845f839e1cbd72","date":1358283639,"type":3,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/index/NormsConsumerPerField#flush(SegmentWriteState,SimpleDVConsumer).mjava","pathOld":"lucene/core/src/java/org/apache/lucene/index/NormsConsumerPerField#flush(SegmentWriteState,SimpleDVConsumer).mjava","sourceNew":"  void flush(SegmentWriteState state, SimpleDVConsumer normsWriter) throws IOException {\n    int docCount = state.segmentInfo.getDocCount();\n    if (consumer == null) {\n      return; // null type - not omitted but not written\n    }\n    consumer.finish(docCount);\n    consumer.flush(state, normsWriter);\n  }\n\n","sourceOld":"  Type flush(SegmentWriteState state, SimpleDVConsumer normsConsumer) throws IOException {\n    int docCount = state.segmentInfo.getDocCount();\n    if (!initialized()) {\n      return null; // null type - not omitted but not written\n    }\n    consumer.finish(docCount);\n    // nocommit change to assert normsConsumer != null\n    if (normsConsumer != null) {\n      // nocommit we need to change the suffix?  ie so norms\n      // don't step on dvs? hmmm.... where does this happen\n      // today ...\n      simpleNormsWriter.finish(docCount);\n      simpleNormsWriter.flush(state, normsConsumer);\n    } else {\n      // nocommit remove:\n      simpleNormsWriter.reset();\n    }\n    return initType;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"a1552916e7512a3bbf5d2364c3a97a677ce055ea","date":1358290892,"type":3,"author":"Michael McCandless","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/index/NormsConsumerPerField#flush(SegmentWriteState,SimpleDVConsumer).mjava","pathOld":"lucene/core/src/java/org/apache/lucene/index/NormsConsumerPerField#flush(SegmentWriteState,SimpleDVConsumer).mjava","sourceNew":"  void flush(SegmentWriteState state, SimpleDVConsumer normsWriter) throws IOException {\n    int docCount = state.segmentInfo.getDocCount();\n    if (consumer == null) {\n      return; // null type - not omitted but not written -\n              // nocommit meaning the only docs that had\n              // norms hit exceptions?\n    }\n    consumer.finish(docCount);\n    consumer.flush(state, normsWriter);\n  }\n\n","sourceOld":"  void flush(SegmentWriteState state, SimpleDVConsumer normsWriter) throws IOException {\n    int docCount = state.segmentInfo.getDocCount();\n    if (consumer == null) {\n      return; // null type - not omitted but not written\n    }\n    consumer.finish(docCount);\n    consumer.flush(state, normsWriter);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"b8acf0807ca5f38beda8e0f7d5ab46ff39f81200","date":1358521790,"type":5,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/index/NormsConsumerPerField#flush(SegmentWriteState,DocValuesConsumer).mjava","pathOld":"lucene/core/src/java/org/apache/lucene/index/NormsConsumerPerField#flush(SegmentWriteState,SimpleDVConsumer).mjava","sourceNew":"  void flush(SegmentWriteState state, DocValuesConsumer normsWriter) throws IOException {\n    int docCount = state.segmentInfo.getDocCount();\n    if (consumer == null) {\n      return; // null type - not omitted but not written -\n              // nocommit meaning the only docs that had\n              // norms hit exceptions?\n    }\n    consumer.finish(docCount);\n    consumer.flush(state, normsWriter);\n  }\n\n","sourceOld":"  void flush(SegmentWriteState state, SimpleDVConsumer normsWriter) throws IOException {\n    int docCount = state.segmentInfo.getDocCount();\n    if (consumer == null) {\n      return; // null type - not omitted but not written -\n              // nocommit meaning the only docs that had\n              // norms hit exceptions?\n    }\n    consumer.finish(docCount);\n    consumer.flush(state, normsWriter);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a761b207f161726214a84533bf56a78f6c21ff56":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"b8acf0807ca5f38beda8e0f7d5ab46ff39f81200":["a1552916e7512a3bbf5d2364c3a97a677ce055ea"],"a1552916e7512a3bbf5d2364c3a97a677ce055ea":["0837ab0472feecb3a54260729d845f839e1cbd72"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"0837ab0472feecb3a54260729d845f839e1cbd72":["a761b207f161726214a84533bf56a78f6c21ff56"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"a761b207f161726214a84533bf56a78f6c21ff56":["0837ab0472feecb3a54260729d845f839e1cbd72"],"b8acf0807ca5f38beda8e0f7d5ab46ff39f81200":[],"a1552916e7512a3bbf5d2364c3a97a677ce055ea":["b8acf0807ca5f38beda8e0f7d5ab46ff39f81200"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["a761b207f161726214a84533bf56a78f6c21ff56","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"0837ab0472feecb3a54260729d845f839e1cbd72":["a1552916e7512a3bbf5d2364c3a97a677ce055ea"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["b8acf0807ca5f38beda8e0f7d5ab46ff39f81200","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}