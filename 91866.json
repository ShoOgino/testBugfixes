{"path":"solr/core/src/test/org/apache/solr/update/DirectUpdateHandlerTest#testPostSoftCommitEvents().mjava","commits":[{"id":"3f87154b8e1500ff46329ab450f45c5ecb3999af","date":1414003722,"type":0,"author":"Shalin Shekhar Mangar","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/update/DirectUpdateHandlerTest#testPostSoftCommitEvents().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testPostSoftCommitEvents() throws Exception {\n    SolrCore core = h.getCore();\n    assert core != null;\n    DirectUpdateHandler2 updater = (DirectUpdateHandler2) core.getUpdateHandler();\n    MySolrEventListener listener = new MySolrEventListener();\n    core.registerNewSearcherListener(listener);\n    updater.registerSoftCommitCallback(listener);\n    assertU(adoc(\"id\", \"999\"));\n    assertU(commit(\"softCommit\", \"true\"));\n    assertEquals(\"newSearcher was called more than once\", 1, listener.newSearcherCount.get());\n    assertFalse(\"postSoftCommit was not called\", listener.postSoftCommitAt.get() == Long.MAX_VALUE);\n    assertTrue(\"newSearcher was called after postSoftCommitCallback\", listener.postSoftCommitAt.get() >= listener.newSearcherOpenedAt.get());\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"3f87154b8e1500ff46329ab450f45c5ecb3999af":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["3f87154b8e1500ff46329ab450f45c5ecb3999af"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["3f87154b8e1500ff46329ab450f45c5ecb3999af"],"3f87154b8e1500ff46329ab450f45c5ecb3999af":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}