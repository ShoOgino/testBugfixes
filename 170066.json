{"path":"lucene/core/src/test/org/apache/lucene/analysis/TestStopFilter#testTokenPositionWithStopwordFilter().mjava","commits":[{"id":"cb5529b83dfe8f452a536b7afe14b0f26b33033c","date":1544111330,"type":0,"author":"Diego Ceccarelli","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/analysis/TestStopFilter#testTokenPositionWithStopwordFilter().mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Check that the positions of the terms in a document keep into account the fact\n   * that some of the words were filtered by the StopwordFilter\n   */\n  public void testTokenPositionWithStopwordFilter() throws IOException {\n    // at least 1 token\n    final int numberOfTokens = random().nextInt(MAX_NUMBER_OF_TOKENS-1)+1;\n    StringBuilder sb = new StringBuilder();\n    List<String> stopwords = new ArrayList<>(numberOfTokens);\n    List<Integer> stopwordPositions = new ArrayList<>(numberOfTokens);\n    generateTestSetWithStopwordsAndStopwordPositions(numberOfTokens, sb, stopwords, stopwordPositions);\n\n    CharArraySet stopSet = StopFilter.makeStopSet(stopwords);\n    logStopwords(\"All stopwords\", stopwords);\n    // with increments\n    StringReader reader = new StringReader(sb.toString());\n    final MockTokenizer in = new MockTokenizer(MockTokenizer.WHITESPACE, false);\n    in.setReader(reader);\n    StopFilter stopfilter = new StopFilter(in, stopSet);\n    doTestStopwordsPositions(stopfilter, stopwordPositions, numberOfTokens);\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"cb5529b83dfe8f452a536b7afe14b0f26b33033c":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["cb5529b83dfe8f452a536b7afe14b0f26b33033c"]},"commit2Childs":{"cb5529b83dfe8f452a536b7afe14b0f26b33033c":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["cb5529b83dfe8f452a536b7afe14b0f26b33033c"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}