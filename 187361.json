{"path":"src/test/org/apache/lucene/analysis/TestStopAnalyzer#testPhraseQuery().mjava","commits":[{"id":"01c60152412ff32dee98e5db0fc15d22d0d47c5e","date":1069984994,"type":0,"author":"Erik Hatcher","isMerge":false,"pathNew":"src/test/org/apache/lucene/analysis/TestStopAnalyzer#testPhraseQuery().mjava","pathOld":"/dev/null","sourceNew":"  public void testPhraseQuery() throws Exception {\n    RAMDirectory directory = new RAMDirectory();\n    IndexWriter writer = new IndexWriter(directory, stopAnalyzer, true);\n    Document doc = new Document();\n    doc.add(Field.Text(\"field\", \"the stop words are here\"));\n    writer.addDocument(doc);\n    writer.close();\n\n    IndexSearcher searcher = new IndexSearcher(directory);\n\n    // valid exact phrase query\n    PhraseQuery query = new PhraseQuery();\n    query.add(new Term(\"field\",\"stop\"));\n    query.add(new Term(\"field\",\"words\"));\n    Hits hits = searcher.search(query);\n    assertEquals(1, hits.length());\n\n    // incorrect attempt at exact phrase query over stop word hole\n    query = new PhraseQuery();\n    query.add(new Term(\"field\", \"words\"));\n    query.add(new Term(\"field\", \"here\"));\n    hits = searcher.search(query);\n    assertEquals(0, hits.length());\n\n    // add some slop, and match over the hole\n    query.setSlop(1);\n    hits = searcher.search(query);\n    assertEquals(1, hits.length());\n\n    searcher.close();\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"3e9804f4ce8254d483936689d1d8f5ece17ac3dd","date":1070900192,"type":3,"author":"Erik Hatcher","isMerge":false,"pathNew":"src/test/org/apache/lucene/analysis/TestStopAnalyzer#testPhraseQuery().mjava","pathOld":"src/test/org/apache/lucene/analysis/TestStopAnalyzer#testPhraseQuery().mjava","sourceNew":"  public void testPhraseQuery() throws Exception {\n    RAMDirectory directory = new RAMDirectory();\n    IndexWriter writer = new IndexWriter(directory, stopAnalyzer, true);\n    Document doc = new Document();\n    doc.add(Field.Text(\"field\", \"the stop words are here\"));\n    writer.addDocument(doc);\n    writer.close();\n\n    IndexSearcher searcher = new IndexSearcher(directory);\n\n    // valid exact phrase query\n    PhraseQuery query = new PhraseQuery();\n    query.add(new Term(\"field\",\"stop\"));\n    query.add(new Term(\"field\",\"words\"));\n    Hits hits = searcher.search(query);\n    assertEquals(1, hits.length());\n\n    // currently StopAnalyzer does not leave \"holes\", so this matches.\n    query = new PhraseQuery();\n    query.add(new Term(\"field\", \"words\"));\n    query.add(new Term(\"field\", \"here\"));\n    hits = searcher.search(query);\n    assertEquals(1, hits.length());\n\n    searcher.close();\n  }\n\n","sourceOld":"  public void testPhraseQuery() throws Exception {\n    RAMDirectory directory = new RAMDirectory();\n    IndexWriter writer = new IndexWriter(directory, stopAnalyzer, true);\n    Document doc = new Document();\n    doc.add(Field.Text(\"field\", \"the stop words are here\"));\n    writer.addDocument(doc);\n    writer.close();\n\n    IndexSearcher searcher = new IndexSearcher(directory);\n\n    // valid exact phrase query\n    PhraseQuery query = new PhraseQuery();\n    query.add(new Term(\"field\",\"stop\"));\n    query.add(new Term(\"field\",\"words\"));\n    Hits hits = searcher.search(query);\n    assertEquals(1, hits.length());\n\n    // incorrect attempt at exact phrase query over stop word hole\n    query = new PhraseQuery();\n    query.add(new Term(\"field\", \"words\"));\n    query.add(new Term(\"field\", \"here\"));\n    hits = searcher.search(query);\n    assertEquals(0, hits.length());\n\n    // add some slop, and match over the hole\n    query.setSlop(1);\n    hits = searcher.search(query);\n    assertEquals(1, hits.length());\n\n    searcher.close();\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"13ba39c40de7bda3b305a362bceb7a788e31df23","date":1075988755,"type":4,"author":"Otis Gospodnetic","isMerge":false,"pathNew":"/dev/null","pathOld":"src/test/org/apache/lucene/analysis/TestStopAnalyzer#testPhraseQuery().mjava","sourceNew":null,"sourceOld":"  public void testPhraseQuery() throws Exception {\n    RAMDirectory directory = new RAMDirectory();\n    IndexWriter writer = new IndexWriter(directory, stopAnalyzer, true);\n    Document doc = new Document();\n    doc.add(Field.Text(\"field\", \"the stop words are here\"));\n    writer.addDocument(doc);\n    writer.close();\n\n    IndexSearcher searcher = new IndexSearcher(directory);\n\n    // valid exact phrase query\n    PhraseQuery query = new PhraseQuery();\n    query.add(new Term(\"field\",\"stop\"));\n    query.add(new Term(\"field\",\"words\"));\n    Hits hits = searcher.search(query);\n    assertEquals(1, hits.length());\n\n    // currently StopAnalyzer does not leave \"holes\", so this matches.\n    query = new PhraseQuery();\n    query.add(new Term(\"field\", \"words\"));\n    query.add(new Term(\"field\", \"here\"));\n    hits = searcher.search(query);\n    assertEquals(1, hits.length());\n\n    searcher.close();\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"3e9804f4ce8254d483936689d1d8f5ece17ac3dd":["01c60152412ff32dee98e5db0fc15d22d0d47c5e"],"13ba39c40de7bda3b305a362bceb7a788e31df23":["3e9804f4ce8254d483936689d1d8f5ece17ac3dd"],"01c60152412ff32dee98e5db0fc15d22d0d47c5e":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["13ba39c40de7bda3b305a362bceb7a788e31df23"]},"commit2Childs":{"3e9804f4ce8254d483936689d1d8f5ece17ac3dd":["13ba39c40de7bda3b305a362bceb7a788e31df23"],"13ba39c40de7bda3b305a362bceb7a788e31df23":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"01c60152412ff32dee98e5db0fc15d22d0d47c5e":["3e9804f4ce8254d483936689d1d8f5ece17ac3dd"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["01c60152412ff32dee98e5db0fc15d22d0d47c5e"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}