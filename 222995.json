{"path":"lucene/join/src/java/org/apache/lucene/search/join/SeekingTermSetTermsEnum#accept(BytesRef).mjava","commits":[{"id":"bc340d133549ef3a658aa916003827c842110fa4","date":1555014129,"type":0,"author":"Noble Paul","isMerge":false,"pathNew":"lucene/join/src/java/org/apache/lucene/search/join/SeekingTermSetTermsEnum#accept(BytesRef).mjava","pathOld":"/dev/null","sourceNew":"  @Override\n  protected AcceptStatus accept(BytesRef term) throws IOException {\n    if (term.compareTo(lastTerm) > 0) {\n      return AcceptStatus.END;\n    }\n\n    BytesRef currentTerm = terms.get(ords[upto], spare);\n    if (term.compareTo(currentTerm) == 0) {\n      if (upto == lastElement) {\n        return AcceptStatus.YES;\n      } else {\n        seekTerm = terms.get(ords[++upto], spare);\n        return AcceptStatus.YES_AND_SEEK;\n      }\n    } else {\n      if (upto == lastElement) {\n        return AcceptStatus.NO;\n      } else { // Our current term doesn't match the the given term.\n        int cmp;\n        do { // We maybe are behind the given term by more than one step. Keep incrementing till we're the same or higher.\n          if (upto == lastElement) {\n            return AcceptStatus.NO;\n          }\n          // typically the terms dict is a superset of query's terms so it's unusual that we have to skip many of\n          // our terms so we don't do a binary search here\n          seekTerm = terms.get(ords[++upto], spare);\n        } while ((cmp = seekTerm.compareTo(term)) < 0);\n        if (cmp == 0) {\n          if (upto == lastElement) {\n            return AcceptStatus.YES;\n          }\n          seekTerm = terms.get(ords[++upto], spare);\n          return AcceptStatus.YES_AND_SEEK;\n        } else {\n          return AcceptStatus.NO_AND_SEEK;\n        }\n      }\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["bc340d133549ef3a658aa916003827c842110fa4"],"bc340d133549ef3a658aa916003827c842110fa4":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["bc340d133549ef3a658aa916003827c842110fa4"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[],"bc340d133549ef3a658aa916003827c842110fa4":["cd5edd1f2b162a5cfa08efd17851a07373a96817"]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}