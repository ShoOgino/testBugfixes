{"path":"solr/solrj/src/java/org/apache/solr/client/solrj/io/stream/JavabinTupleStreamParser#readTillDocs().mjava","commits":[{"id":"da8b6cfd1b67b932db9907356935046c4d40d033","date":1479958221,"type":0,"author":"Noble Paul","isMerge":false,"pathNew":"solr/solrj/src/java/org/apache/solr/client/solrj/io/stream/JavabinTupleStreamParser#readTillDocs().mjava","pathOld":"/dev/null","sourceNew":"  private boolean readTillDocs() throws IOException {\n    if (isObjectType(fis)) {\n      if (tagByte == SOLRDOCLST) {\n        readVal(fis);// this is the metadata, throw it away\n        tagByte = fis.readByte();\n        arraySize = readSize(fis);\n        return true;\n      }\n      for (int i = objectSize; i > 0; i--) {\n        Object k = readVal(fis);\n        if (k == END_OBJ) break;\n        if (\"docs\".equals(k)) {\n          tagByte = fis.readByte();\n          if (tagByte == ITERATOR) return true;//docs must be an iterator or\n          if (tagByte >>> 5 == ARR >>> 5) {// an array\n            arraySize = readSize(fis);\n            return true;\n          }\n          return false;\n        } else {\n          if (readTillDocs()) return true;\n        }\n      }\n    } else {\n      readObject(fis);\n      return false;\n    }\n    return false;\n\n    //here after it will be a stream of maps\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"727bb765ff2542275f6d31f67be18d7104bae148","date":1480353976,"type":0,"author":"Kevin Risden","isMerge":true,"pathNew":"solr/solrj/src/java/org/apache/solr/client/solrj/io/stream/JavabinTupleStreamParser#readTillDocs().mjava","pathOld":"/dev/null","sourceNew":"  private boolean readTillDocs() throws IOException {\n    if (isObjectType(fis)) {\n      if (tagByte == SOLRDOCLST) {\n        readVal(fis);// this is the metadata, throw it away\n        tagByte = fis.readByte();\n        arraySize = readSize(fis);\n        return true;\n      }\n      for (int i = objectSize; i > 0; i--) {\n        Object k = readVal(fis);\n        if (k == END_OBJ) break;\n        if (\"docs\".equals(k)) {\n          tagByte = fis.readByte();\n          if (tagByte == ITERATOR) return true;//docs must be an iterator or\n          if (tagByte >>> 5 == ARR >>> 5) {// an array\n            arraySize = readSize(fis);\n            return true;\n          }\n          return false;\n        } else {\n          if (readTillDocs()) return true;\n        }\n      }\n    } else {\n      readObject(fis);\n      return false;\n    }\n    return false;\n\n    //here after it will be a stream of maps\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"da8b6cfd1b67b932db9907356935046c4d40d033":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"727bb765ff2542275f6d31f67be18d7104bae148":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","da8b6cfd1b67b932db9907356935046c4d40d033"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["da8b6cfd1b67b932db9907356935046c4d40d033"]},"commit2Childs":{"da8b6cfd1b67b932db9907356935046c4d40d033":["727bb765ff2542275f6d31f67be18d7104bae148","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"727bb765ff2542275f6d31f67be18d7104bae148":[],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["da8b6cfd1b67b932db9907356935046c4d40d033","727bb765ff2542275f6d31f67be18d7104bae148"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["727bb765ff2542275f6d31f67be18d7104bae148","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}