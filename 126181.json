{"path":"lucene/core/src/test/org/apache/lucene/util/TestAttributeSource#testRemoveAllAttributes().mjava","commits":[{"id":"90092e3ad74adf68ec9507e7046fe5a39039964c","date":1453355496,"type":0,"author":"Steven Rowe","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/util/TestAttributeSource#testRemoveAllAttributes().mjava","pathOld":"/dev/null","sourceNew":"  public void testRemoveAllAttributes() {\n    List<Class<? extends Attribute>> attrClasses = new ArrayList<>();\n    attrClasses.add(CharTermAttribute.class);\n    attrClasses.add(OffsetAttribute.class);\n    attrClasses.add(FlagsAttribute.class);\n    attrClasses.add(PayloadAttribute.class);\n    attrClasses.add(PositionIncrementAttribute.class);\n    attrClasses.add(TypeAttribute.class);\n\n    // Add attributes with the default factory, then try to remove all of them\n    AttributeSource defaultFactoryAttributeSource = new AttributeSource();\n\n    assertFalse(defaultFactoryAttributeSource.hasAttributes());\n\n    for (Class<? extends Attribute> attrClass : attrClasses) {\n      defaultFactoryAttributeSource.addAttribute(attrClass);\n      assertTrue(\"Missing added attribute \" + attrClass.getSimpleName(),\n          defaultFactoryAttributeSource.hasAttribute(attrClass));\n    }\n\n    defaultFactoryAttributeSource.removeAllAttributes();\n\n    for (Class<? extends Attribute> attrClass : attrClasses) {\n      assertFalse(\"Didn't remove attribute \" + attrClass.getSimpleName(),\n          defaultFactoryAttributeSource.hasAttribute(attrClass));\n    }\n    assertFalse(defaultFactoryAttributeSource.hasAttributes());\n\n    // Add attributes with the packed implementations factory, then try to remove all of them\n    AttributeSource packedImplsAttributeSource\n        = new AttributeSource(TokenStream.DEFAULT_TOKEN_ATTRIBUTE_FACTORY);\n    assertFalse(packedImplsAttributeSource.hasAttributes());\n\n    for (Class<? extends Attribute> attrClass : attrClasses) {\n      packedImplsAttributeSource.addAttribute(attrClass);\n      assertTrue(\"Missing added attribute \" + attrClass.getSimpleName(),\n          packedImplsAttributeSource.hasAttribute(attrClass));\n    }\n\n    packedImplsAttributeSource.removeAllAttributes();\n\n    for (Class<? extends Attribute> attrClass : attrClasses) {\n      assertFalse(\"Didn't remove attribute \" + attrClass.getSimpleName(),\n          packedImplsAttributeSource.hasAttribute(attrClass));\n    }\n    assertFalse(packedImplsAttributeSource.hasAttributes());\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"90092e3ad74adf68ec9507e7046fe5a39039964c":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["90092e3ad74adf68ec9507e7046fe5a39039964c"]},"commit2Childs":{"90092e3ad74adf68ec9507e7046fe5a39039964c":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["90092e3ad74adf68ec9507e7046fe5a39039964c"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}