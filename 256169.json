{"path":"solr/core/src/test/org/apache/solr/search/TestSolrQueryParser#testManyClauses_Solr().mjava","commits":[{"id":"a2be0a2886c76942ff986465eabde7b858895dc9","date":1555349228,"type":0,"author":"Chris Hostetter","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/TestSolrQueryParser#testManyClauses_Solr().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testManyClauses_Solr() throws Exception {\n    final String a = \"1 a 2 b 3 c 10 d 11 12 \"; // 10 terms\n    \n    // this should exceed our solrconfig.xml level (solr specific) maxBooleanClauses limit\n    // even though it's not long enough to trip the Lucene level (global) limit\n    final String too_long = \"id:(\" + a + a + a + a + a + \")\";\n\n    final String expectedMsg = \"Too many clauses\";\n    ignoreException(expectedMsg);\n    SolrException e = expectThrows(SolrException.class, \"expected SolrException\",\n                                   () -> assertJQ(req(\"q\", too_long), \"/response/numFound==6\"));\n    assertThat(e.getMessage(), containsString(expectedMsg));\n    \n    // but should still work as a filter query since TermsQuery can be used...\n    assertJQ(req(\"q\",\"*:*\", \"fq\", too_long)\n             ,\"/response/numFound==6\");\n    assertJQ(req(\"q\",\"*:*\", \"fq\", too_long, \"sow\", \"false\")\n             ,\"/response/numFound==6\");\n    assertJQ(req(\"q\",\"*:*\", \"fq\", too_long, \"sow\", \"true\")\n             ,\"/response/numFound==6\");\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a2be0a2886c76942ff986465eabde7b858895dc9":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["a2be0a2886c76942ff986465eabde7b858895dc9"]},"commit2Childs":{"a2be0a2886c76942ff986465eabde7b858895dc9":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["a2be0a2886c76942ff986465eabde7b858895dc9"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}