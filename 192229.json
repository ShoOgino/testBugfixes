{"path":"lucene/analysis/common/src/java/org/apache/lucene/analysis/miscellaneous/ScandinavianNormalizationFilter#incrementToken().mjava","commits":[{"id":"9b9b7b0dc43b2a06a17ef3b93975b3d769a4fe8a","date":1372859962,"type":0,"author":"Jan HÃ¸ydahl","isMerge":false,"pathNew":"lucene/analysis/common/src/java/org/apache/lucene/analysis/miscellaneous/ScandinavianNormalizationFilter#incrementToken().mjava","pathOld":"/dev/null","sourceNew":"  @Override\n  public boolean incrementToken() throws IOException {\n    if (!input.incrementToken()) {\n      return false;\n    }\n\n    char[] buffer = charTermAttribute.buffer();\n    int length = charTermAttribute.length();\n\n\n    int i;\n    for (i = 0; i < length; i++) {\n\n      if (buffer[i] == ae_se) {\n        buffer[i] = ae;\n\n      } else if (buffer[i] == AE_se) {\n        buffer[i] = AE;\n\n      } else if (buffer[i] == oe_se) {\n        buffer[i] = oe;\n\n      } else if (buffer[i] == OE_se) {\n        buffer[i] = OE;\n\n      } else if (length - 1 > i) {\n\n        if (buffer[i] == 'a' && (buffer[i + 1] == 'a' || buffer[i + 1] == 'o' || buffer[i + 1] == 'A' || buffer[i + 1] == 'O')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = aa;\n\n        } else if (buffer[i] == 'A' && (buffer[i + 1] == 'a' || buffer[i + 1] == 'A' || buffer[i + 1] == 'o' || buffer[i + 1] == 'O')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = AA;\n\n        } else if (buffer[i] == 'a' && (buffer[i + 1] == 'e' || buffer[i + 1] == 'E')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = ae;\n\n        } else if (buffer[i] == 'A' && (buffer[i + 1] == 'e' || buffer[i + 1] == 'E')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = AE;\n\n        } else if (buffer[i] == 'o' && (buffer[i + 1] == 'e' || buffer[i + 1] == 'E' || buffer[i + 1] == 'o' || buffer[i + 1] == 'O')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = oe;\n\n        } else if (buffer[i] == 'O' && (buffer[i + 1] == 'e' || buffer[i + 1] == 'E' || buffer[i + 1] == 'o' || buffer[i + 1] == 'O')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = OE;\n\n        }\n\n      }\n    }\n\n    charTermAttribute.setLength(length);\n\n\n    return true;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"37a0f60745e53927c4c876cfe5b5a58170f0646c","date":1373994005,"type":0,"author":"Han Jiang","isMerge":true,"pathNew":"lucene/analysis/common/src/java/org/apache/lucene/analysis/miscellaneous/ScandinavianNormalizationFilter#incrementToken().mjava","pathOld":"/dev/null","sourceNew":"  @Override\n  public boolean incrementToken() throws IOException {\n    if (!input.incrementToken()) {\n      return false;\n    }\n\n    char[] buffer = charTermAttribute.buffer();\n    int length = charTermAttribute.length();\n\n\n    int i;\n    for (i = 0; i < length; i++) {\n\n      if (buffer[i] == ae_se) {\n        buffer[i] = ae;\n\n      } else if (buffer[i] == AE_se) {\n        buffer[i] = AE;\n\n      } else if (buffer[i] == oe_se) {\n        buffer[i] = oe;\n\n      } else if (buffer[i] == OE_se) {\n        buffer[i] = OE;\n\n      } else if (length - 1 > i) {\n\n        if (buffer[i] == 'a' && (buffer[i + 1] == 'a' || buffer[i + 1] == 'o' || buffer[i + 1] == 'A' || buffer[i + 1] == 'O')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = aa;\n\n        } else if (buffer[i] == 'A' && (buffer[i + 1] == 'a' || buffer[i + 1] == 'A' || buffer[i + 1] == 'o' || buffer[i + 1] == 'O')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = AA;\n\n        } else if (buffer[i] == 'a' && (buffer[i + 1] == 'e' || buffer[i + 1] == 'E')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = ae;\n\n        } else if (buffer[i] == 'A' && (buffer[i + 1] == 'e' || buffer[i + 1] == 'E')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = AE;\n\n        } else if (buffer[i] == 'o' && (buffer[i + 1] == 'e' || buffer[i + 1] == 'E' || buffer[i + 1] == 'o' || buffer[i + 1] == 'O')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = oe;\n\n        } else if (buffer[i] == 'O' && (buffer[i + 1] == 'e' || buffer[i + 1] == 'E' || buffer[i + 1] == 'o' || buffer[i + 1] == 'O')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = OE;\n\n        }\n\n      }\n    }\n\n    charTermAttribute.setLength(length);\n\n\n    return true;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"37a0f60745e53927c4c876cfe5b5a58170f0646c":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","9b9b7b0dc43b2a06a17ef3b93975b3d769a4fe8a"],"9b9b7b0dc43b2a06a17ef3b93975b3d769a4fe8a":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["9b9b7b0dc43b2a06a17ef3b93975b3d769a4fe8a"]},"commit2Childs":{"37a0f60745e53927c4c876cfe5b5a58170f0646c":[],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["37a0f60745e53927c4c876cfe5b5a58170f0646c","9b9b7b0dc43b2a06a17ef3b93975b3d769a4fe8a"],"9b9b7b0dc43b2a06a17ef3b93975b3d769a4fe8a":["37a0f60745e53927c4c876cfe5b5a58170f0646c","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["37a0f60745e53927c4c876cfe5b5a58170f0646c","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}