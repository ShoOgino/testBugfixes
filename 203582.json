{"path":"solr/test-framework/src/java/org/apache/solr/SolrJettyTestBase#legacyExampleCollection1SolrHome().mjava","commits":[{"id":"e25c332f157326faecb36f76173033c1284776a5","date":1414729852,"type":0,"author":"Timothy Potter","isMerge":false,"pathNew":"solr/test-framework/src/java/org/apache/solr/SolrJettyTestBase#legacyExampleCollection1SolrHome().mjava","pathOld":"/dev/null","sourceNew":"  public static String legacyExampleCollection1SolrHome() {\n    String sourceHome = ExternalPaths.SOURCE_HOME;\n    if (sourceHome == null)\n      throw new IllegalStateException(\"No source home! Cannot create the legacy example solr home directory.\");\n\n    String legacyExampleSolrHome = null;\n    try {\n      File tempSolrHome = LuceneTestCase.createTempDir().toFile();\n      org.apache.commons.io.FileUtils.copyFileToDirectory(new File(sourceHome, \"server/solr/solr.xml\"), tempSolrHome);\n      File collection1Dir = new File(tempSolrHome, \"collection1\");\n      org.apache.commons.io.FileUtils.forceMkdir(collection1Dir);\n\n      File configSetDir = new File(sourceHome, \"server/solr/configsets/sample_techproducts_configs/conf\");\n      org.apache.commons.io.FileUtils.copyDirectoryToDirectory(configSetDir, collection1Dir);\n      Properties props = new Properties();\n      props.setProperty(\"name\", \"collection1\");\n      OutputStreamWriter writer = null;\n      try {\n        writer = new OutputStreamWriter(FileUtils.openOutputStream(new File(collection1Dir, \"core.properties\")), \"UTF-8\");\n        props.store(writer, null);\n      } finally {\n        if (writer != null) {\n          try {\n            writer.close();\n          } catch (Exception ignore){}\n        }\n      }\n      legacyExampleSolrHome = tempSolrHome.getAbsolutePath();\n    } catch (Exception exc) {\n      if (exc instanceof RuntimeException) {\n        throw (RuntimeException)exc;\n      } else {\n        throw new RuntimeException(exc);\n      }\n    }\n\n    return legacyExampleSolrHome;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"fe214d6e09deed3001159c1ad5173f9c8fc4a7f5","date":1563597632,"type":3,"author":"Munendra S N","isMerge":false,"pathNew":"solr/test-framework/src/java/org/apache/solr/SolrJettyTestBase#legacyExampleCollection1SolrHome().mjava","pathOld":"solr/test-framework/src/java/org/apache/solr/SolrJettyTestBase#legacyExampleCollection1SolrHome().mjava","sourceNew":"  public static String legacyExampleCollection1SolrHome() {\n    String sourceHome = ExternalPaths.SOURCE_HOME;\n    if (sourceHome == null)\n      throw new IllegalStateException(\"No source home! Cannot create the legacy example solr home directory.\");\n\n    String legacyExampleSolrHome = null;\n    try {\n      File tempSolrHome = LuceneTestCase.createTempDir().toFile();\n      org.apache.commons.io.FileUtils.copyFileToDirectory(new File(sourceHome, \"server/solr/solr.xml\"), tempSolrHome);\n      File collection1Dir = new File(tempSolrHome, \"collection1\");\n      org.apache.commons.io.FileUtils.forceMkdir(collection1Dir);\n\n      File configSetDir = new File(sourceHome, \"server/solr/configsets/sample_techproducts_configs/conf\");\n      org.apache.commons.io.FileUtils.copyDirectoryToDirectory(configSetDir, collection1Dir);\n      Properties props = new Properties();\n      props.setProperty(\"name\", \"collection1\");\n      OutputStreamWriter writer = null;\n      try {\n        writer = new OutputStreamWriter(FileUtils.openOutputStream(\n            new File(collection1Dir, \"core.properties\")), StandardCharsets.UTF_8);\n        props.store(writer, null);\n      } finally {\n        if (writer != null) {\n          try {\n            writer.close();\n          } catch (Exception ignore){}\n        }\n      }\n      legacyExampleSolrHome = tempSolrHome.getAbsolutePath();\n    } catch (Exception exc) {\n      if (exc instanceof RuntimeException) {\n        throw (RuntimeException)exc;\n      } else {\n        throw new RuntimeException(exc);\n      }\n    }\n\n    return legacyExampleSolrHome;\n  }\n\n","sourceOld":"  public static String legacyExampleCollection1SolrHome() {\n    String sourceHome = ExternalPaths.SOURCE_HOME;\n    if (sourceHome == null)\n      throw new IllegalStateException(\"No source home! Cannot create the legacy example solr home directory.\");\n\n    String legacyExampleSolrHome = null;\n    try {\n      File tempSolrHome = LuceneTestCase.createTempDir().toFile();\n      org.apache.commons.io.FileUtils.copyFileToDirectory(new File(sourceHome, \"server/solr/solr.xml\"), tempSolrHome);\n      File collection1Dir = new File(tempSolrHome, \"collection1\");\n      org.apache.commons.io.FileUtils.forceMkdir(collection1Dir);\n\n      File configSetDir = new File(sourceHome, \"server/solr/configsets/sample_techproducts_configs/conf\");\n      org.apache.commons.io.FileUtils.copyDirectoryToDirectory(configSetDir, collection1Dir);\n      Properties props = new Properties();\n      props.setProperty(\"name\", \"collection1\");\n      OutputStreamWriter writer = null;\n      try {\n        writer = new OutputStreamWriter(FileUtils.openOutputStream(new File(collection1Dir, \"core.properties\")), \"UTF-8\");\n        props.store(writer, null);\n      } finally {\n        if (writer != null) {\n          try {\n            writer.close();\n          } catch (Exception ignore){}\n        }\n      }\n      legacyExampleSolrHome = tempSolrHome.getAbsolutePath();\n    } catch (Exception exc) {\n      if (exc instanceof RuntimeException) {\n        throw (RuntimeException)exc;\n      } else {\n        throw new RuntimeException(exc);\n      }\n    }\n\n    return legacyExampleSolrHome;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"fe214d6e09deed3001159c1ad5173f9c8fc4a7f5":["e25c332f157326faecb36f76173033c1284776a5"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"e25c332f157326faecb36f76173033c1284776a5":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["fe214d6e09deed3001159c1ad5173f9c8fc4a7f5"]},"commit2Childs":{"fe214d6e09deed3001159c1ad5173f9c8fc4a7f5":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["e25c332f157326faecb36f76173033c1284776a5"],"e25c332f157326faecb36f76173033c1284776a5":["fe214d6e09deed3001159c1ad5173f9c8fc4a7f5"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}