{"path":"solr/contrib/ltr/src/test/org/apache/solr/ltr/model/TestNeuralNetworkModel#testCustom().mjava","commits":[{"id":"ef667cf0740be872811ddbabc4952c3a21c1fa2e","date":1520015275,"type":0,"author":"Christine Poerschke","isMerge":false,"pathNew":"solr/contrib/ltr/src/test/org/apache/solr/ltr/model/TestNeuralNetworkModel#testCustom().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testCustom() throws Exception {\n\n    final LTRScoringModel model = createModelFromFiles(\"neuralnetworkmodel_custom.json\",\n        \"neuralnetworkmodel_features.json\");\n\n    final float featureValue1 = 4f;\n    final float featureValue2 = 2f;\n    final float[] featureValues = { featureValue1, featureValue2 };\n\n    final double expectedScore = (featureValue1+featureValue2) * 42f;\n    float actualScore = model.score(featureValues);\n    assertEquals(expectedScore, actualScore, 0.001);\n\n    final List<Explanation> explanations = new ArrayList<Explanation>();\n    for (int ii=0; ii<featureValues.length; ++ii)\n    {\n      explanations.add(Explanation.match(featureValues[ii], \"\"));\n    }\n    final Explanation explanation = model.explain(null, 0, actualScore, explanations);\n    assertEquals(actualScore+\" = (name=neuralnetworkmodel_custom\"+\n        \",featureValues=[constantFour=4.0,constantTwo=2.0]\"+\n        \",layers=[(matrix=1x2,activation=answer)]\"+\n        \")\\n\",\n        explanation.toString());\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"ef667cf0740be872811ddbabc4952c3a21c1fa2e":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["ef667cf0740be872811ddbabc4952c3a21c1fa2e"]},"commit2Childs":{"ef667cf0740be872811ddbabc4952c3a21c1fa2e":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["ef667cf0740be872811ddbabc4952c3a21c1fa2e"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}