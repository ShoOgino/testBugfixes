{"path":"solr/solrj/src/test/org/apache/solr/client/solrj/cloud/autoscaling/TestPolicy2#testAutoScalingHandlerFailure().mjava","commits":[{"id":"16a22f8085bb46850c91784e94f7714345011404","date":1533741843,"type":0,"author":"Noble Paul","isMerge":false,"pathNew":"solr/solrj/src/test/org/apache/solr/client/solrj/cloud/autoscaling/TestPolicy2#testAutoScalingHandlerFailure().mjava","pathOld":"/dev/null","sourceNew":"  public void testAutoScalingHandlerFailure() {\n    String diagnostics = \"{\" +\n        \"  'diagnostics': {\" +\n        \"    'sortedNodes': [\" +\n        \"      {\" +\n        \"        'node': '127.0.0.1:63191_solr',\" +\n        \"        'isLive': true,\" +\n        \"        'cores': 3.0,\" +\n        \"        'freedisk': 680.908073425293,\" +\n        \"        'heapUsage': 24.97510064011647,\" +\n        \"        'sysLoadAvg': 272.75390625,\" +\n        \"        'totaldisk': 1037.938980102539,\" +\n        \"        'replicas': {\" +\n        \"          'readApiTestViolations': {\" +\n        \"            'shard1': [\" +\n        \"              {\" +\n        \"                'core_node5': {\" +\n        \"                  'core': 'readApiTestViolations_shard1_replica_n2',\" +\n        \"                  'leader': 'true',\" +\n        \"                  'base_url': 'https://127.0.0.1:63191/solr',\" +\n        \"                  'node_name': '127.0.0.1:63191_solr',\" +\n        \"                  'state': 'active',\" +\n        \"                  'type': 'NRT',\" +\n        \"                  'force_set_state': 'false',\" +\n        \"                  'INDEX.sizeInGB': 6.426125764846802E-8,\" +\n        \"                  'shard': 'shard1',\" +\n        \"                  'collection': 'readApiTestViolations'\" +\n        \"                }\" +\n        \"              },\" +\n        \"              {\" +\n        \"                'core_node7': {\" +\n        \"                  'core': 'readApiTestViolations_shard1_replica_n4',\" +\n        \"                  'base_url': 'https://127.0.0.1:63191/solr',\" +\n        \"                  'node_name': '127.0.0.1:63191_solr',\" +\n        \"                  'state': 'active',\" +\n        \"                  'type': 'NRT',\" +\n        \"                  'force_set_state': 'false',\" +\n        \"                  'INDEX.sizeInGB': 6.426125764846802E-8,\" +\n        \"                  'shard': 'shard1',\" +\n        \"                  'collection': 'readApiTestViolations'\" +\n        \"                }\" +\n        \"              },\" +\n        \"              {\" +\n        \"                'core_node12': {\" +\n        \"                  'core': 'readApiTestViolations_shard1_replica_n10',\" +\n        \"                  'base_url': 'https://127.0.0.1:63191/solr',\" +\n        \"                  'node_name': '127.0.0.1:63191_solr',\" +\n        \"                  'state': 'active',\" +\n        \"                  'type': 'NRT',\" +\n        \"                  'force_set_state': 'false',\" +\n        \"                  'INDEX.sizeInGB': 6.426125764846802E-8,\" +\n        \"                  'shard': 'shard1',\" +\n        \"                  'collection': 'readApiTestViolations'\" +\n        \"                }\" +\n        \"              }\" +\n        \"            ]\" +\n        \"          }\" +\n        \"        }\" +\n        \"      },\" +\n        \"      {\" +\n        \"        'node': '127.0.0.1:63192_solr',\" +\n        \"        'isLive': true,\" +\n        \"        'cores': 3.0,\" +\n        \"        'freedisk': 680.908073425293,\" +\n        \"        'heapUsage': 24.98878807983566,\" +\n        \"        'sysLoadAvg': 272.75390625,\" +\n        \"        'totaldisk': 1037.938980102539,\" +\n        \"        'replicas': {\" +\n        \"          'readApiTestViolations': {\" +\n        \"            'shard1': [\" +\n        \"              {\" +\n        \"                'core_node3': {\" +\n        \"                  'core': 'readApiTestViolations_shard1_replica_n1',\" +\n        \"                  'base_url': 'https://127.0.0.1:63192/solr',\" +\n        \"                  'node_name': '127.0.0.1:63192_solr',\" +\n        \"                  'state': 'active',\" +\n        \"                  'type': 'NRT',\" +\n        \"                  'force_set_state': 'false',\" +\n        \"                  'INDEX.sizeInGB': 6.426125764846802E-8,\" +\n        \"                  'shard': 'shard1',\" +\n        \"                  'collection': 'readApiTestViolations'\" +\n        \"                }\" +\n        \"              },\" +\n        \"              {\" +\n        \"                'core_node9': {\" +\n        \"                  'core': 'readApiTestViolations_shard1_replica_n6',\" +\n        \"                  'base_url': 'https://127.0.0.1:63192/solr',\" +\n        \"                  'node_name': '127.0.0.1:63192_solr',\" +\n        \"                  'state': 'active',\" +\n        \"                  'type': 'NRT',\" +\n        \"                  'force_set_state': 'false',\" +\n        \"                  'INDEX.sizeInGB': 6.426125764846802E-8,\" +\n        \"                  'shard': 'shard1',\" +\n        \"                  'collection': 'readApiTestViolations'\" +\n        \"                }\" +\n        \"              },\" +\n        \"              {\" +\n        \"                'core_node11': {\" +\n        \"                  'core': 'readApiTestViolations_shard1_replica_n8',\" +\n        \"                  'base_url': 'https://127.0.0.1:63192/solr',\" +\n        \"                  'node_name': '127.0.0.1:63192_solr',\" +\n        \"                  'state': 'active',\" +\n        \"                  'type': 'NRT',\" +\n        \"                  'force_set_state': 'false',\" +\n        \"                  'INDEX.sizeInGB': 6.426125764846802E-8,\" +\n        \"                  'shard': 'shard1',\" +\n        \"                  'collection': 'readApiTestViolations'\" +\n        \"                }\" +\n        \"              }\" +\n        \"            ]\" +\n        \"          }\" +\n        \"        }\" +\n        \"      },\" +\n        \"      {\" +\n        \"        'node': '127.0.0.1:63219_solr',\" +\n        \"        'isLive': true,\" +\n        \"        'cores': 0.0,\" +\n        \"        'freedisk': 680.908073425293,\" +\n        \"        'heapUsage': 24.98878807983566,\" +\n        \"        'sysLoadAvg': 272.75390625,\" +\n        \"        'totaldisk': 1037.938980102539,\" +\n        \"        'replicas': {}\" +\n        \"      }\" +\n        \"    ],\" +\n        \"    'liveNodes': [\" +\n        \"      '127.0.0.1:63191_solr',\" +\n        \"      '127.0.0.1:63192_solr',\" +\n        \"      '127.0.0.1:63219_solr'\" +\n        \"    ],\" +\n        \"    'violations': [\" +\n        \"      {\" +\n        \"        'collection': 'readApiTestViolations',\" +\n        \"        'shard': 'shard1',\" +\n        \"        'node': '127.0.0.1:63191_solr',\" +\n        \"        'violation': {\" +\n        \"          'replica': {'NRT': 3, 'count': 3},\" +\n        \"          'delta': 2.0\" +\n        \"        },\" +\n        \"        'clause': {\" +\n        \"          'replica': '<3',\" +\n        \"          'shard': '#EACH',\" +\n        \"          'node': '#ANY',\" +\n        \"          'collection': 'readApiTestViolations'\" +\n        \"        }\" +\n        \"      },\" +\n        \"      {\" +\n        \"        'collection': 'readApiTestViolations',\" +\n        \"        'shard': 'shard1',\" +\n        \"        'node': '127.0.0.1:63192_solr',\" +\n        \"        'violation': {\" +\n        \"          'replica': {'NRT': 3, 'count': 3},\" +\n        \"          'delta': 2.0\" +\n        \"        },\" +\n        \"        'clause': {\" +\n        \"          'replica': '<2',\" +\n        \"          'shard': '#EACH',\" +\n        \"          'node': '#ANY',\" +\n        \"          'collection': 'readApiTestViolations'\" +\n        \"        }\" +\n        \"      }\" +\n        \"    ],\" +\n        \"    'config': {\" +\n        \"      'cluster-preferences': [\" +\n        \"        {'minimize': 'cores', 'precision': 3},\" +\n        \"        {'maximize': 'freedisk', 'precision': 100},\" +\n        \"        {'minimize': 'sysLoadAvg', 'precision': 10},\" +\n        \"        {'minimize': 'heapUsage', 'precision': 10}\" +\n        \"      ],\" +\n        \"      'cluster-policy': [\" +\n        \"        {'cores': '<10', 'node': '#ANY'},\" +\n        \"        {'replica': '<2', 'shard': '#EACH', 'node': '#ANY'},\" +\n        \"        {'nodeRole': 'overseer', 'replica': 0}\" +\n        \"      ]\" +\n        \"    }\" +\n        \"  }}\";\n    Map<String, Object> m = (Map<String, Object>) Utils.fromJSONString(diagnostics);\n\n    Policy policy = new Policy((Map<String, Object>) Utils.getObjectByPath(m, false, \"diagnostics/config\"));\n    SolrCloudManager cloudManagerFromDiagnostics = createCloudManagerFromDiagnostics(m);\n    Policy.Session session = policy.createSession(cloudManagerFromDiagnostics);\n    List<Suggester.SuggestionInfo> suggestions = PolicyHelper.getSuggestions(new AutoScalingConfig((Map<String, Object>) Utils.getObjectByPath(m, false, \"diagnostics/config\")), cloudManagerFromDiagnostics);\n    assertEquals(2, suggestions.size());\n\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"1e79f54bb3d871c83739520bfa2cbc445672e218","date":1537500412,"type":3,"author":"Noble Paul","isMerge":false,"pathNew":"solr/solrj/src/test/org/apache/solr/client/solrj/cloud/autoscaling/TestPolicy2#testAutoScalingHandlerFailure().mjava","pathOld":"solr/solrj/src/test/org/apache/solr/client/solrj/cloud/autoscaling/TestPolicy2#testAutoScalingHandlerFailure().mjava","sourceNew":"  public void testAutoScalingHandlerFailure() throws IOException {\n    Map<String, Object> m = (Map<String, Object>) loadFromResource(\"testAutoScalingHandlerFailure.json\");\n\n    Policy policy = new Policy((Map<String, Object>) Utils.getObjectByPath(m, false, \"diagnostics/config\"));\n    SolrCloudManager cloudManagerFromDiagnostics = createCloudManagerFromDiagnostics(m);\n    Policy.Session session = policy.createSession(cloudManagerFromDiagnostics);\n    List<Suggester.SuggestionInfo> suggestions = PolicyHelper.getSuggestions(new AutoScalingConfig((Map<String, Object>) Utils.getObjectByPath(m, false, \"diagnostics/config\")), cloudManagerFromDiagnostics);\n    assertEquals(2, suggestions.size());\n\n  }\n\n","sourceOld":"  public void testAutoScalingHandlerFailure() {\n    String diagnostics = \"{\" +\n        \"  'diagnostics': {\" +\n        \"    'sortedNodes': [\" +\n        \"      {\" +\n        \"        'node': '127.0.0.1:63191_solr',\" +\n        \"        'isLive': true,\" +\n        \"        'cores': 3.0,\" +\n        \"        'freedisk': 680.908073425293,\" +\n        \"        'heapUsage': 24.97510064011647,\" +\n        \"        'sysLoadAvg': 272.75390625,\" +\n        \"        'totaldisk': 1037.938980102539,\" +\n        \"        'replicas': {\" +\n        \"          'readApiTestViolations': {\" +\n        \"            'shard1': [\" +\n        \"              {\" +\n        \"                'core_node5': {\" +\n        \"                  'core': 'readApiTestViolations_shard1_replica_n2',\" +\n        \"                  'leader': 'true',\" +\n        \"                  'base_url': 'https://127.0.0.1:63191/solr',\" +\n        \"                  'node_name': '127.0.0.1:63191_solr',\" +\n        \"                  'state': 'active',\" +\n        \"                  'type': 'NRT',\" +\n        \"                  'force_set_state': 'false',\" +\n        \"                  'INDEX.sizeInGB': 6.426125764846802E-8,\" +\n        \"                  'shard': 'shard1',\" +\n        \"                  'collection': 'readApiTestViolations'\" +\n        \"                }\" +\n        \"              },\" +\n        \"              {\" +\n        \"                'core_node7': {\" +\n        \"                  'core': 'readApiTestViolations_shard1_replica_n4',\" +\n        \"                  'base_url': 'https://127.0.0.1:63191/solr',\" +\n        \"                  'node_name': '127.0.0.1:63191_solr',\" +\n        \"                  'state': 'active',\" +\n        \"                  'type': 'NRT',\" +\n        \"                  'force_set_state': 'false',\" +\n        \"                  'INDEX.sizeInGB': 6.426125764846802E-8,\" +\n        \"                  'shard': 'shard1',\" +\n        \"                  'collection': 'readApiTestViolations'\" +\n        \"                }\" +\n        \"              },\" +\n        \"              {\" +\n        \"                'core_node12': {\" +\n        \"                  'core': 'readApiTestViolations_shard1_replica_n10',\" +\n        \"                  'base_url': 'https://127.0.0.1:63191/solr',\" +\n        \"                  'node_name': '127.0.0.1:63191_solr',\" +\n        \"                  'state': 'active',\" +\n        \"                  'type': 'NRT',\" +\n        \"                  'force_set_state': 'false',\" +\n        \"                  'INDEX.sizeInGB': 6.426125764846802E-8,\" +\n        \"                  'shard': 'shard1',\" +\n        \"                  'collection': 'readApiTestViolations'\" +\n        \"                }\" +\n        \"              }\" +\n        \"            ]\" +\n        \"          }\" +\n        \"        }\" +\n        \"      },\" +\n        \"      {\" +\n        \"        'node': '127.0.0.1:63192_solr',\" +\n        \"        'isLive': true,\" +\n        \"        'cores': 3.0,\" +\n        \"        'freedisk': 680.908073425293,\" +\n        \"        'heapUsage': 24.98878807983566,\" +\n        \"        'sysLoadAvg': 272.75390625,\" +\n        \"        'totaldisk': 1037.938980102539,\" +\n        \"        'replicas': {\" +\n        \"          'readApiTestViolations': {\" +\n        \"            'shard1': [\" +\n        \"              {\" +\n        \"                'core_node3': {\" +\n        \"                  'core': 'readApiTestViolations_shard1_replica_n1',\" +\n        \"                  'base_url': 'https://127.0.0.1:63192/solr',\" +\n        \"                  'node_name': '127.0.0.1:63192_solr',\" +\n        \"                  'state': 'active',\" +\n        \"                  'type': 'NRT',\" +\n        \"                  'force_set_state': 'false',\" +\n        \"                  'INDEX.sizeInGB': 6.426125764846802E-8,\" +\n        \"                  'shard': 'shard1',\" +\n        \"                  'collection': 'readApiTestViolations'\" +\n        \"                }\" +\n        \"              },\" +\n        \"              {\" +\n        \"                'core_node9': {\" +\n        \"                  'core': 'readApiTestViolations_shard1_replica_n6',\" +\n        \"                  'base_url': 'https://127.0.0.1:63192/solr',\" +\n        \"                  'node_name': '127.0.0.1:63192_solr',\" +\n        \"                  'state': 'active',\" +\n        \"                  'type': 'NRT',\" +\n        \"                  'force_set_state': 'false',\" +\n        \"                  'INDEX.sizeInGB': 6.426125764846802E-8,\" +\n        \"                  'shard': 'shard1',\" +\n        \"                  'collection': 'readApiTestViolations'\" +\n        \"                }\" +\n        \"              },\" +\n        \"              {\" +\n        \"                'core_node11': {\" +\n        \"                  'core': 'readApiTestViolations_shard1_replica_n8',\" +\n        \"                  'base_url': 'https://127.0.0.1:63192/solr',\" +\n        \"                  'node_name': '127.0.0.1:63192_solr',\" +\n        \"                  'state': 'active',\" +\n        \"                  'type': 'NRT',\" +\n        \"                  'force_set_state': 'false',\" +\n        \"                  'INDEX.sizeInGB': 6.426125764846802E-8,\" +\n        \"                  'shard': 'shard1',\" +\n        \"                  'collection': 'readApiTestViolations'\" +\n        \"                }\" +\n        \"              }\" +\n        \"            ]\" +\n        \"          }\" +\n        \"        }\" +\n        \"      },\" +\n        \"      {\" +\n        \"        'node': '127.0.0.1:63219_solr',\" +\n        \"        'isLive': true,\" +\n        \"        'cores': 0.0,\" +\n        \"        'freedisk': 680.908073425293,\" +\n        \"        'heapUsage': 24.98878807983566,\" +\n        \"        'sysLoadAvg': 272.75390625,\" +\n        \"        'totaldisk': 1037.938980102539,\" +\n        \"        'replicas': {}\" +\n        \"      }\" +\n        \"    ],\" +\n        \"    'liveNodes': [\" +\n        \"      '127.0.0.1:63191_solr',\" +\n        \"      '127.0.0.1:63192_solr',\" +\n        \"      '127.0.0.1:63219_solr'\" +\n        \"    ],\" +\n        \"    'violations': [\" +\n        \"      {\" +\n        \"        'collection': 'readApiTestViolations',\" +\n        \"        'shard': 'shard1',\" +\n        \"        'node': '127.0.0.1:63191_solr',\" +\n        \"        'violation': {\" +\n        \"          'replica': {'NRT': 3, 'count': 3},\" +\n        \"          'delta': 2.0\" +\n        \"        },\" +\n        \"        'clause': {\" +\n        \"          'replica': '<3',\" +\n        \"          'shard': '#EACH',\" +\n        \"          'node': '#ANY',\" +\n        \"          'collection': 'readApiTestViolations'\" +\n        \"        }\" +\n        \"      },\" +\n        \"      {\" +\n        \"        'collection': 'readApiTestViolations',\" +\n        \"        'shard': 'shard1',\" +\n        \"        'node': '127.0.0.1:63192_solr',\" +\n        \"        'violation': {\" +\n        \"          'replica': {'NRT': 3, 'count': 3},\" +\n        \"          'delta': 2.0\" +\n        \"        },\" +\n        \"        'clause': {\" +\n        \"          'replica': '<2',\" +\n        \"          'shard': '#EACH',\" +\n        \"          'node': '#ANY',\" +\n        \"          'collection': 'readApiTestViolations'\" +\n        \"        }\" +\n        \"      }\" +\n        \"    ],\" +\n        \"    'config': {\" +\n        \"      'cluster-preferences': [\" +\n        \"        {'minimize': 'cores', 'precision': 3},\" +\n        \"        {'maximize': 'freedisk', 'precision': 100},\" +\n        \"        {'minimize': 'sysLoadAvg', 'precision': 10},\" +\n        \"        {'minimize': 'heapUsage', 'precision': 10}\" +\n        \"      ],\" +\n        \"      'cluster-policy': [\" +\n        \"        {'cores': '<10', 'node': '#ANY'},\" +\n        \"        {'replica': '<2', 'shard': '#EACH', 'node': '#ANY'},\" +\n        \"        {'nodeRole': 'overseer', 'replica': 0}\" +\n        \"      ]\" +\n        \"    }\" +\n        \"  }}\";\n    Map<String, Object> m = (Map<String, Object>) Utils.fromJSONString(diagnostics);\n\n    Policy policy = new Policy((Map<String, Object>) Utils.getObjectByPath(m, false, \"diagnostics/config\"));\n    SolrCloudManager cloudManagerFromDiagnostics = createCloudManagerFromDiagnostics(m);\n    Policy.Session session = policy.createSession(cloudManagerFromDiagnostics);\n    List<Suggester.SuggestionInfo> suggestions = PolicyHelper.getSuggestions(new AutoScalingConfig((Map<String, Object>) Utils.getObjectByPath(m, false, \"diagnostics/config\")), cloudManagerFromDiagnostics);\n    assertEquals(2, suggestions.size());\n\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"fe52ff382a90016f1f6f34f2a026c4749eebb1b8","date":1541503646,"type":3,"author":"Noble Paul","isMerge":false,"pathNew":"solr/solrj/src/test/org/apache/solr/client/solrj/cloud/autoscaling/TestPolicy2#testAutoScalingHandlerFailure().mjava","pathOld":"solr/solrj/src/test/org/apache/solr/client/solrj/cloud/autoscaling/TestPolicy2#testAutoScalingHandlerFailure().mjava","sourceNew":"  public void testAutoScalingHandlerFailure() {\n    Map<String, Object> m = (Map<String, Object>) loadFromResource(\"testAutoScalingHandlerFailure.json\");\n\n    Policy policy = new Policy((Map<String, Object>) getObjectByPath(m, false, \"diagnostics/config\"));\n    SolrCloudManager cloudManagerFromDiagnostics = createCloudManagerFromDiagnostics(m);\n    Policy.Session session = policy.createSession(cloudManagerFromDiagnostics);\n    List<Suggester.SuggestionInfo> suggestions = PolicyHelper.getSuggestions(new AutoScalingConfig((Map<String, Object>) getObjectByPath(m, false, \"diagnostics/config\")), cloudManagerFromDiagnostics);\n//    System.out.println(Utils.writeJson(suggestions, new StringWriter(),true).toString());\n    assertEquals(4, suggestions.size());\n\n  }\n\n","sourceOld":"  public void testAutoScalingHandlerFailure() throws IOException {\n    Map<String, Object> m = (Map<String, Object>) loadFromResource(\"testAutoScalingHandlerFailure.json\");\n\n    Policy policy = new Policy((Map<String, Object>) Utils.getObjectByPath(m, false, \"diagnostics/config\"));\n    SolrCloudManager cloudManagerFromDiagnostics = createCloudManagerFromDiagnostics(m);\n    Policy.Session session = policy.createSession(cloudManagerFromDiagnostics);\n    List<Suggester.SuggestionInfo> suggestions = PolicyHelper.getSuggestions(new AutoScalingConfig((Map<String, Object>) Utils.getObjectByPath(m, false, \"diagnostics/config\")), cloudManagerFromDiagnostics);\n    assertEquals(2, suggestions.size());\n\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"9ba1b632c041956c93c41aa1143d16a567014891","date":1592328473,"type":3,"author":"Erick Erickson","isMerge":false,"pathNew":"solr/solrj/src/test/org/apache/solr/client/solrj/cloud/autoscaling/TestPolicy2#testAutoScalingHandlerFailure().mjava","pathOld":"solr/solrj/src/test/org/apache/solr/client/solrj/cloud/autoscaling/TestPolicy2#testAutoScalingHandlerFailure().mjava","sourceNew":"  @SuppressWarnings({\"unchecked\"})\n  public void testAutoScalingHandlerFailure() {\n    Map<String, Object> m = (Map<String, Object>) loadFromResource(\"testAutoScalingHandlerFailure.json\");\n\n    Policy policy = new Policy((Map<String, Object>) getObjectByPath(m, false, \"diagnostics/config\"));\n    SolrCloudManager cloudManagerFromDiagnostics = createCloudManagerFromDiagnostics(m);\n    Policy.Session session = policy.createSession(cloudManagerFromDiagnostics);\n    List<Suggester.SuggestionInfo> suggestions = PolicyHelper.getSuggestions(new AutoScalingConfig((Map<String, Object>) getObjectByPath(m, false, \"diagnostics/config\")), cloudManagerFromDiagnostics);\n//    System.out.println(Utils.writeJson(suggestions, new StringWriter(),true).toString());\n    assertEquals(4, suggestions.size());\n\n  }\n\n","sourceOld":"  public void testAutoScalingHandlerFailure() {\n    Map<String, Object> m = (Map<String, Object>) loadFromResource(\"testAutoScalingHandlerFailure.json\");\n\n    Policy policy = new Policy((Map<String, Object>) getObjectByPath(m, false, \"diagnostics/config\"));\n    SolrCloudManager cloudManagerFromDiagnostics = createCloudManagerFromDiagnostics(m);\n    Policy.Session session = policy.createSession(cloudManagerFromDiagnostics);\n    List<Suggester.SuggestionInfo> suggestions = PolicyHelper.getSuggestions(new AutoScalingConfig((Map<String, Object>) getObjectByPath(m, false, \"diagnostics/config\")), cloudManagerFromDiagnostics);\n//    System.out.println(Utils.writeJson(suggestions, new StringWriter(),true).toString());\n    assertEquals(4, suggestions.size());\n\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"3f504512a03d978990cbff30db0522b354e846db","date":1595247421,"type":4,"author":"Ishan Chattopadhyaya","isMerge":false,"pathNew":"/dev/null","pathOld":"solr/solrj/src/test/org/apache/solr/client/solrj/cloud/autoscaling/TestPolicy2#testAutoScalingHandlerFailure().mjava","sourceNew":null,"sourceOld":"  @SuppressWarnings({\"unchecked\"})\n  public void testAutoScalingHandlerFailure() {\n    Map<String, Object> m = (Map<String, Object>) loadFromResource(\"testAutoScalingHandlerFailure.json\");\n\n    Policy policy = new Policy((Map<String, Object>) getObjectByPath(m, false, \"diagnostics/config\"));\n    SolrCloudManager cloudManagerFromDiagnostics = createCloudManagerFromDiagnostics(m);\n    Policy.Session session = policy.createSession(cloudManagerFromDiagnostics);\n    List<Suggester.SuggestionInfo> suggestions = PolicyHelper.getSuggestions(new AutoScalingConfig((Map<String, Object>) getObjectByPath(m, false, \"diagnostics/config\")), cloudManagerFromDiagnostics);\n//    System.out.println(Utils.writeJson(suggestions, new StringWriter(),true).toString());\n    assertEquals(4, suggestions.size());\n\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"9ba1b632c041956c93c41aa1143d16a567014891":["fe52ff382a90016f1f6f34f2a026c4749eebb1b8"],"3f504512a03d978990cbff30db0522b354e846db":["9ba1b632c041956c93c41aa1143d16a567014891"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"fe52ff382a90016f1f6f34f2a026c4749eebb1b8":["1e79f54bb3d871c83739520bfa2cbc445672e218"],"1e79f54bb3d871c83739520bfa2cbc445672e218":["16a22f8085bb46850c91784e94f7714345011404"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["3f504512a03d978990cbff30db0522b354e846db"],"16a22f8085bb46850c91784e94f7714345011404":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"9ba1b632c041956c93c41aa1143d16a567014891":["3f504512a03d978990cbff30db0522b354e846db"],"3f504512a03d978990cbff30db0522b354e846db":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["16a22f8085bb46850c91784e94f7714345011404"],"fe52ff382a90016f1f6f34f2a026c4749eebb1b8":["9ba1b632c041956c93c41aa1143d16a567014891"],"1e79f54bb3d871c83739520bfa2cbc445672e218":["fe52ff382a90016f1f6f34f2a026c4749eebb1b8"],"16a22f8085bb46850c91784e94f7714345011404":["1e79f54bb3d871c83739520bfa2cbc445672e218"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}