{"path":"lucene/core/src/test/org/apache/lucene/index/TestDocumentsWriterStallControl#assertState(int,int,int,Thread[],DocumentsWriterStallControl).mjava","commits":[{"id":"a00cd5b99c9e9cc6f7e2aaa157b998ea599796a3","date":1339345566,"type":0,"author":"Simon Willnauer","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/index/TestDocumentsWriterStallControl#assertState(int,int,int,Thread[],DocumentsWriterStallControl).mjava","pathOld":"/dev/null","sourceNew":"  private void assertState(int numReleasers, int numStallers, int numWaiters, Thread[] threads, DocumentsWriterStallControl ctrl) throws InterruptedException {\n    int millisToSleep = 100;\n    while (true) {\n      if (ctrl.hasBlocked() && ctrl.isHealthy()) {\n        for (int n = numReleasers + numStallers; n < numReleasers\n            + numStallers + numWaiters; n++) {\n          if (ctrl.isThreadQueued(threads[n])) {\n            if (millisToSleep < 60000) {\n              Thread.sleep(millisToSleep);\n              millisToSleep *=2;\n              break;\n            } else {\n              fail(\"control claims no stalled threads but waiter seems to be blocked \");\n            }\n          }\n        }\n        break;\n      } else {\n        break;\n      }\n    }\n    \n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"a00cd5b99c9e9cc6f7e2aaa157b998ea599796a3":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["a00cd5b99c9e9cc6f7e2aaa157b998ea599796a3"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["a00cd5b99c9e9cc6f7e2aaa157b998ea599796a3"],"a00cd5b99c9e9cc6f7e2aaa157b998ea599796a3":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}