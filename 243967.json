{"path":"solr/core/src/test/org/apache/solr/update/PeerSyncWithLeaderTest#testOverlap(Set[Integer],SolrClient,SolrClient,long).mjava","commits":[{"id":"ce70cdb9511a671e0e15d4dc93b8334c86b6e681","date":1542017422,"type":0,"author":"Cao Manh Dat","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/update/PeerSyncWithLeaderTest#testOverlap(Set[Integer],SolrClient,SolrClient,long).mjava","pathOld":"/dev/null","sourceNew":"  @Override\n  protected void testOverlap(Set<Integer> docsAdded, SolrClient client0, SolrClient client1, long v) throws IOException, SolrServerException {\n    for (int i=0; i<numVersions; i++) {\n      add(client0, seenLeader, sdoc(\"id\",Integer.toString(i+11),\"_version_\",v+i+1));\n      docsAdded.add(i+11);\n    }\n\n    // sync should fail since we are too far with the leader\n    assertSync(client1, numVersions, false, shardsArr[0]);\n\n    // add a doc that was missing... just enough to give enough overlap\n    add(client1, seenLeader, sdoc(\"id\",Integer.toString(11),\"_version_\",v+1));\n\n    assertSync(client1, numVersions, true, shardsArr[0]);\n    validateDocs(docsAdded, client0, client1);\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"ce70cdb9511a671e0e15d4dc93b8334c86b6e681":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["ce70cdb9511a671e0e15d4dc93b8334c86b6e681"]},"commit2Childs":{"ce70cdb9511a671e0e15d4dc93b8334c86b6e681":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["ce70cdb9511a671e0e15d4dc93b8334c86b6e681"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}