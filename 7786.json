{"path":"lucene/analysis/common/src/java/org/apache/lucene/analysis/wikipedia/WikipediaTokenizerImpl#getNextToken().mjava","commits":[{"id":"b89678825b68eccaf09e6ab71675fc0b0af1e099","date":1334669779,"type":1,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/analysis/common/src/java/org/apache/lucene/analysis/wikipedia/WikipediaTokenizerImpl#getNextToken().mjava","pathOld":"modules/analysis/common/src/java/org/apache/lucene/analysis/wikipedia/WikipediaTokenizerImpl#getNextToken().mjava","sourceNew":"  /**\n   * Resumes scanning until the next regular expression is matched,\n   * the end of input is encountered or an I/O-Error occurs.\n   *\n   * @return      the next token\n   * @exception   java.io.IOException  if any I/O-Error occurs\n   */\n  public int getNextToken() throws java.io.IOException {\n    int zzInput;\n    int zzAction;\n\n    // cached fields:\n    int zzCurrentPosL;\n    int zzMarkedPosL;\n    int zzEndReadL = zzEndRead;\n    char [] zzBufferL = zzBuffer;\n    char [] zzCMapL = ZZ_CMAP;\n\n    int [] zzTransL = ZZ_TRANS;\n    int [] zzRowMapL = ZZ_ROWMAP;\n    int [] zzAttrL = ZZ_ATTRIBUTE;\n\n    while (true) {\n      zzMarkedPosL = zzMarkedPos;\n\n      yychar+= zzMarkedPosL-zzStartRead;\n\n      zzAction = -1;\n\n      zzCurrentPosL = zzCurrentPos = zzStartRead = zzMarkedPosL;\n  \n      zzState = ZZ_LEXSTATE[zzLexicalState];\n\n      // set up zzAction for empty match case:\n      int zzAttributes = zzAttrL[zzState];\n      if ( (zzAttributes & 1) == 1 ) {\n        zzAction = zzState;\n      }\n\n\n      zzForAction: {\n        while (true) {\n    \n          if (zzCurrentPosL < zzEndReadL)\n            zzInput = zzBufferL[zzCurrentPosL++];\n          else if (zzAtEOF) {\n            zzInput = YYEOF;\n            break zzForAction;\n          }\n          else {\n            // store back cached positions\n            zzCurrentPos  = zzCurrentPosL;\n            zzMarkedPos   = zzMarkedPosL;\n            boolean eof = zzRefill();\n            // get translated positions and possibly new buffer\n            zzCurrentPosL  = zzCurrentPos;\n            zzMarkedPosL   = zzMarkedPos;\n            zzBufferL      = zzBuffer;\n            zzEndReadL     = zzEndRead;\n            if (eof) {\n              zzInput = YYEOF;\n              break zzForAction;\n            }\n            else {\n              zzInput = zzBufferL[zzCurrentPosL++];\n            }\n          }\n          int zzNext = zzTransL[ zzRowMapL[zzState] + zzCMapL[zzInput] ];\n          if (zzNext == -1) break zzForAction;\n          zzState = zzNext;\n\n          zzAttributes = zzAttrL[zzState];\n          if ( (zzAttributes & 1) == 1 ) {\n            zzAction = zzState;\n            zzMarkedPosL = zzCurrentPosL;\n            if ( (zzAttributes & 8) == 8 ) break zzForAction;\n          }\n\n        }\n      }\n\n      // store back cached position\n      zzMarkedPos = zzMarkedPosL;\n\n      switch (zzAction < 0 ? zzAction : ZZ_ACTION[zzAction]) {\n        case 44: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = CATEGORY; yybegin(CATEGORY_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 47: break;\n        case 37: \n          { currentTokType = BOLD_ITALICS;  yybegin(FIVE_SINGLE_QUOTES_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 48: break;\n        case 16: \n          { currentTokType = HEADING; yybegin(DOUBLE_EQUALS_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 49: break;\n        case 20: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = EXTERNAL_LINK;yybegin(EXTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 50: break;\n        case 40: \n          { positionInc = 1; return ACRONYM;\n          }\n        case 51: break;\n        case 5: \n          { positionInc = 1; /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 52: break;\n        case 36: \n          { positionInc = 1; return COMPANY;\n          }\n        case 53: break;\n        case 10: \n          { numLinkToks = 0; positionInc = 0; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 54: break;\n        case 15: \n          { currentTokType = SUB_HEADING; numWikiTokensSeen = 0; yybegin(STRING); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 55: break;\n        case 22: \n          { numWikiTokensSeen = 0; positionInc = 1; if (numBalanced == 0){numBalanced++;yybegin(TWO_SINGLE_QUOTES_STATE);} else{numBalanced = 0;}/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 56: break;\n        case 35: \n          { positionInc = 1; return NUM;\n          }\n        case 57: break;\n        case 33: \n          { positionInc = 1; return APOSTROPHE;\n          }\n        case 58: break;\n        case 21: \n          { yybegin(STRING); return currentTokType;/*pipe*/\n          }\n        case 59: break;\n        case 18: \n          { /* Break so we don't hit fall-through warning: */ break;/* ignore STRING */\n          }\n        case 60: break;\n        case 2: \n          { positionInc = 1; return ALPHANUM;\n          }\n        case 61: break;\n        case 1: \n          { numWikiTokensSeen = 0;  positionInc = 1; /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 62: break;\n        case 17: \n          { yybegin(DOUBLE_BRACE_STATE); numWikiTokensSeen = 0; return currentTokType;\n          }\n        case 63: break;\n        case 39: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end sub header*/\n          }\n        case 64: break;\n        case 29: \n          { currentTokType = INTERNAL_LINK; numWikiTokensSeen = 0;  yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 65: break;\n        case 46: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = CATEGORY;yybegin(CATEGORY_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 66: break;\n        case 27: \n          { numLinkToks = 0; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 67: break;\n        case 4: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = EXTERNAL_LINK_URL; yybegin(EXTERNAL_LINK_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 68: break;\n        case 38: \n          { numBalanced = 0;currentTokType = ALPHANUM;yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end bold*/\n          }\n        case 69: break;\n        case 13: \n          { currentTokType = EXTERNAL_LINK; numWikiTokensSeen = 0; yybegin(EXTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 70: break;\n        case 3: \n          { positionInc = 1; return CJ;\n          }\n        case 71: break;\n        case 45: \n          { currentTokType = CATEGORY; numWikiTokensSeen = 0; yybegin(CATEGORY_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 72: break;\n        case 6: \n          { yybegin(CATEGORY_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 73: break;\n        case 11: \n          { currentTokType = BOLD;  yybegin(THREE_SINGLE_QUOTES_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 74: break;\n        case 25: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = CITATION; yybegin(DOUBLE_BRACE_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 75: break;\n        case 8: \n          { /* Break so we don't hit fall-through warning: */ break;/* ignore */\n          }\n        case 76: break;\n        case 19: \n          { yybegin(STRING); numWikiTokensSeen++; return currentTokType;/* STRING ALPHANUM*/\n          }\n        case 77: break;\n        case 43: \n          { positionInc = 1; numWikiTokensSeen++; yybegin(EXTERNAL_LINK_STATE); return currentTokType;\n          }\n        case 78: break;\n        case 42: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end bold italics*/\n          }\n        case 79: break;\n        case 30: \n          { yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 80: break;\n        case 14: \n          { yybegin(STRING); numWikiTokensSeen++; return currentTokType;\n          }\n        case 81: break;\n        case 9: \n          { if (numLinkToks == 0){positionInc = 0;} else{positionInc = 1;} numWikiTokensSeen++; currentTokType = EXTERNAL_LINK; yybegin(EXTERNAL_LINK_STATE); numLinkToks++; return currentTokType;\n          }\n        case 82: break;\n        case 7: \n          { yybegin(INTERNAL_LINK_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 83: break;\n        case 41: \n          { positionInc = 1; return EMAIL;\n          }\n        case 84: break;\n        case 28: \n          { currentTokType = INTERNAL_LINK; numWikiTokensSeen = 0; yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 85: break;\n        case 23: \n          { numWikiTokensSeen = 0; positionInc = 1; yybegin(DOUBLE_EQUALS_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 86: break;\n        case 34: \n          { positionInc = 1; return HOST;\n          }\n        case 87: break;\n        case 32: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = INTERNAL_LINK;yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 88: break;\n        case 12: \n          { currentTokType = ITALICS; numWikiTokensSeen++;  yybegin(STRING); return currentTokType;/*italics*/\n          }\n        case 89: break;\n        case 24: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = INTERNAL_LINK; yybegin(INTERNAL_LINK_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 90: break;\n        case 31: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end italics*/\n          }\n        case 91: break;\n        case 26: \n          { yybegin(YYINITIAL);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 92: break;\n        default: \n          if (zzInput == YYEOF && zzStartRead == zzCurrentPos) {\n            zzAtEOF = true;\n            return YYEOF;\n          } \n          else {\n            zzScanError(ZZ_NO_MATCH);\n          }\n      }\n    }\n  }\n\n","sourceOld":"  /**\n   * Resumes scanning until the next regular expression is matched,\n   * the end of input is encountered or an I/O-Error occurs.\n   *\n   * @return      the next token\n   * @exception   java.io.IOException  if any I/O-Error occurs\n   */\n  public int getNextToken() throws java.io.IOException {\n    int zzInput;\n    int zzAction;\n\n    // cached fields:\n    int zzCurrentPosL;\n    int zzMarkedPosL;\n    int zzEndReadL = zzEndRead;\n    char [] zzBufferL = zzBuffer;\n    char [] zzCMapL = ZZ_CMAP;\n\n    int [] zzTransL = ZZ_TRANS;\n    int [] zzRowMapL = ZZ_ROWMAP;\n    int [] zzAttrL = ZZ_ATTRIBUTE;\n\n    while (true) {\n      zzMarkedPosL = zzMarkedPos;\n\n      yychar+= zzMarkedPosL-zzStartRead;\n\n      zzAction = -1;\n\n      zzCurrentPosL = zzCurrentPos = zzStartRead = zzMarkedPosL;\n  \n      zzState = ZZ_LEXSTATE[zzLexicalState];\n\n      // set up zzAction for empty match case:\n      int zzAttributes = zzAttrL[zzState];\n      if ( (zzAttributes & 1) == 1 ) {\n        zzAction = zzState;\n      }\n\n\n      zzForAction: {\n        while (true) {\n    \n          if (zzCurrentPosL < zzEndReadL)\n            zzInput = zzBufferL[zzCurrentPosL++];\n          else if (zzAtEOF) {\n            zzInput = YYEOF;\n            break zzForAction;\n          }\n          else {\n            // store back cached positions\n            zzCurrentPos  = zzCurrentPosL;\n            zzMarkedPos   = zzMarkedPosL;\n            boolean eof = zzRefill();\n            // get translated positions and possibly new buffer\n            zzCurrentPosL  = zzCurrentPos;\n            zzMarkedPosL   = zzMarkedPos;\n            zzBufferL      = zzBuffer;\n            zzEndReadL     = zzEndRead;\n            if (eof) {\n              zzInput = YYEOF;\n              break zzForAction;\n            }\n            else {\n              zzInput = zzBufferL[zzCurrentPosL++];\n            }\n          }\n          int zzNext = zzTransL[ zzRowMapL[zzState] + zzCMapL[zzInput] ];\n          if (zzNext == -1) break zzForAction;\n          zzState = zzNext;\n\n          zzAttributes = zzAttrL[zzState];\n          if ( (zzAttributes & 1) == 1 ) {\n            zzAction = zzState;\n            zzMarkedPosL = zzCurrentPosL;\n            if ( (zzAttributes & 8) == 8 ) break zzForAction;\n          }\n\n        }\n      }\n\n      // store back cached position\n      zzMarkedPos = zzMarkedPosL;\n\n      switch (zzAction < 0 ? zzAction : ZZ_ACTION[zzAction]) {\n        case 44: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = CATEGORY; yybegin(CATEGORY_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 47: break;\n        case 37: \n          { currentTokType = BOLD_ITALICS;  yybegin(FIVE_SINGLE_QUOTES_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 48: break;\n        case 16: \n          { currentTokType = HEADING; yybegin(DOUBLE_EQUALS_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 49: break;\n        case 20: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = EXTERNAL_LINK;yybegin(EXTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 50: break;\n        case 40: \n          { positionInc = 1; return ACRONYM;\n          }\n        case 51: break;\n        case 5: \n          { positionInc = 1; /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 52: break;\n        case 36: \n          { positionInc = 1; return COMPANY;\n          }\n        case 53: break;\n        case 10: \n          { numLinkToks = 0; positionInc = 0; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 54: break;\n        case 15: \n          { currentTokType = SUB_HEADING; numWikiTokensSeen = 0; yybegin(STRING); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 55: break;\n        case 22: \n          { numWikiTokensSeen = 0; positionInc = 1; if (numBalanced == 0){numBalanced++;yybegin(TWO_SINGLE_QUOTES_STATE);} else{numBalanced = 0;}/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 56: break;\n        case 35: \n          { positionInc = 1; return NUM;\n          }\n        case 57: break;\n        case 33: \n          { positionInc = 1; return APOSTROPHE;\n          }\n        case 58: break;\n        case 21: \n          { yybegin(STRING); return currentTokType;/*pipe*/\n          }\n        case 59: break;\n        case 18: \n          { /* Break so we don't hit fall-through warning: */ break;/* ignore STRING */\n          }\n        case 60: break;\n        case 2: \n          { positionInc = 1; return ALPHANUM;\n          }\n        case 61: break;\n        case 1: \n          { numWikiTokensSeen = 0;  positionInc = 1; /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 62: break;\n        case 17: \n          { yybegin(DOUBLE_BRACE_STATE); numWikiTokensSeen = 0; return currentTokType;\n          }\n        case 63: break;\n        case 39: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end sub header*/\n          }\n        case 64: break;\n        case 29: \n          { currentTokType = INTERNAL_LINK; numWikiTokensSeen = 0;  yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 65: break;\n        case 46: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = CATEGORY;yybegin(CATEGORY_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 66: break;\n        case 27: \n          { numLinkToks = 0; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 67: break;\n        case 4: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = EXTERNAL_LINK_URL; yybegin(EXTERNAL_LINK_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 68: break;\n        case 38: \n          { numBalanced = 0;currentTokType = ALPHANUM;yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end bold*/\n          }\n        case 69: break;\n        case 13: \n          { currentTokType = EXTERNAL_LINK; numWikiTokensSeen = 0; yybegin(EXTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 70: break;\n        case 3: \n          { positionInc = 1; return CJ;\n          }\n        case 71: break;\n        case 45: \n          { currentTokType = CATEGORY; numWikiTokensSeen = 0; yybegin(CATEGORY_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 72: break;\n        case 6: \n          { yybegin(CATEGORY_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 73: break;\n        case 11: \n          { currentTokType = BOLD;  yybegin(THREE_SINGLE_QUOTES_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 74: break;\n        case 25: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = CITATION; yybegin(DOUBLE_BRACE_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 75: break;\n        case 8: \n          { /* Break so we don't hit fall-through warning: */ break;/* ignore */\n          }\n        case 76: break;\n        case 19: \n          { yybegin(STRING); numWikiTokensSeen++; return currentTokType;/* STRING ALPHANUM*/\n          }\n        case 77: break;\n        case 43: \n          { positionInc = 1; numWikiTokensSeen++; yybegin(EXTERNAL_LINK_STATE); return currentTokType;\n          }\n        case 78: break;\n        case 42: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end bold italics*/\n          }\n        case 79: break;\n        case 30: \n          { yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 80: break;\n        case 14: \n          { yybegin(STRING); numWikiTokensSeen++; return currentTokType;\n          }\n        case 81: break;\n        case 9: \n          { if (numLinkToks == 0){positionInc = 0;} else{positionInc = 1;} numWikiTokensSeen++; currentTokType = EXTERNAL_LINK; yybegin(EXTERNAL_LINK_STATE); numLinkToks++; return currentTokType;\n          }\n        case 82: break;\n        case 7: \n          { yybegin(INTERNAL_LINK_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 83: break;\n        case 41: \n          { positionInc = 1; return EMAIL;\n          }\n        case 84: break;\n        case 28: \n          { currentTokType = INTERNAL_LINK; numWikiTokensSeen = 0; yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 85: break;\n        case 23: \n          { numWikiTokensSeen = 0; positionInc = 1; yybegin(DOUBLE_EQUALS_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 86: break;\n        case 34: \n          { positionInc = 1; return HOST;\n          }\n        case 87: break;\n        case 32: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = INTERNAL_LINK;yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 88: break;\n        case 12: \n          { currentTokType = ITALICS; numWikiTokensSeen++;  yybegin(STRING); return currentTokType;/*italics*/\n          }\n        case 89: break;\n        case 24: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = INTERNAL_LINK; yybegin(INTERNAL_LINK_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 90: break;\n        case 31: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end italics*/\n          }\n        case 91: break;\n        case 26: \n          { yybegin(YYINITIAL);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 92: break;\n        default: \n          if (zzInput == YYEOF && zzStartRead == zzCurrentPos) {\n            zzAtEOF = true;\n            return YYEOF;\n          } \n          else {\n            zzScanError(ZZ_NO_MATCH);\n          }\n      }\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"4093b270ba337f9c25a4c0e6cb2ae2c07f697376","date":1347897716,"type":3,"author":"Erick Erickson","isMerge":false,"pathNew":"lucene/analysis/common/src/java/org/apache/lucene/analysis/wikipedia/WikipediaTokenizerImpl#getNextToken().mjava","pathOld":"lucene/analysis/common/src/java/org/apache/lucene/analysis/wikipedia/WikipediaTokenizerImpl#getNextToken().mjava","sourceNew":"  /**\n   * Resumes scanning until the next regular expression is matched,\n   * the end of input is encountered or an I/O-Error occurs.\n   *\n   * @return      the next token\n   * @exception   java.io.IOException  if any I/O-Error occurs\n   */\n  public int getNextToken() throws java.io.IOException {\n    int zzInput;\n    int zzAction;\n\n    // cached fields:\n    int zzCurrentPosL;\n    int zzMarkedPosL;\n    int zzEndReadL = zzEndRead;\n    char [] zzBufferL = zzBuffer;\n    char [] zzCMapL = ZZ_CMAP;\n\n    int [] zzTransL = ZZ_TRANS;\n    int [] zzRowMapL = ZZ_ROWMAP;\n    int [] zzAttrL = ZZ_ATTRIBUTE;\n\n    while (true) {\n      zzMarkedPosL = zzMarkedPos;\n\n      yychar+= zzMarkedPosL-zzStartRead;\n\n      zzAction = -1;\n\n      zzCurrentPosL = zzCurrentPos = zzStartRead = zzMarkedPosL;\n  \n      zzState = ZZ_LEXSTATE[zzLexicalState];\n\n      // set up zzAction for empty match case:\n      int zzAttributes = zzAttrL[zzState];\n      if ( (zzAttributes & 1) == 1 ) {\n        zzAction = zzState;\n      }\n\n\n      zzForAction: {\n        while (true) {\n    \n          if (zzCurrentPosL < zzEndReadL)\n            zzInput = zzBufferL[zzCurrentPosL++];\n          else if (zzAtEOF) {\n            zzInput = YYEOF;\n            break zzForAction;\n          }\n          else {\n            // store back cached positions\n            zzCurrentPos  = zzCurrentPosL;\n            zzMarkedPos   = zzMarkedPosL;\n            boolean eof = zzRefill();\n            // get translated positions and possibly new buffer\n            zzCurrentPosL  = zzCurrentPos;\n            zzMarkedPosL   = zzMarkedPos;\n            zzBufferL      = zzBuffer;\n            zzEndReadL     = zzEndRead;\n            if (eof) {\n              zzInput = YYEOF;\n              break zzForAction;\n            }\n            else {\n              zzInput = zzBufferL[zzCurrentPosL++];\n            }\n          }\n          int zzNext = zzTransL[ zzRowMapL[zzState] + zzCMapL[zzInput] ];\n          if (zzNext == -1) break zzForAction;\n          zzState = zzNext;\n\n          zzAttributes = zzAttrL[zzState];\n          if ( (zzAttributes & 1) == 1 ) {\n            zzAction = zzState;\n            zzMarkedPosL = zzCurrentPosL;\n            if ( (zzAttributes & 8) == 8 ) break zzForAction;\n          }\n\n        }\n      }\n\n      // store back cached position\n      zzMarkedPos = zzMarkedPosL;\n\n      switch (zzAction < 0 ? zzAction : ZZ_ACTION[zzAction]) {\n        case 1: \n          { numWikiTokensSeen = 0;  positionInc = 1; /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 47: break;\n        case 2: \n          { positionInc = 1; return ALPHANUM;\n          }\n        case 48: break;\n        case 3: \n          { positionInc = 1; return CJ;\n          }\n        case 49: break;\n        case 4: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = EXTERNAL_LINK_URL; yybegin(EXTERNAL_LINK_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 50: break;\n        case 5: \n          { positionInc = 1; /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 51: break;\n        case 6: \n          { yybegin(CATEGORY_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 52: break;\n        case 7: \n          { yybegin(INTERNAL_LINK_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 53: break;\n        case 8: \n          { /* Break so we don't hit fall-through warning: */ break;/* ignore */\n          }\n        case 54: break;\n        case 9: \n          { if (numLinkToks == 0){positionInc = 0;} else{positionInc = 1;} numWikiTokensSeen++; currentTokType = EXTERNAL_LINK; yybegin(EXTERNAL_LINK_STATE); numLinkToks++; return currentTokType;\n          }\n        case 55: break;\n        case 10: \n          { numLinkToks = 0; positionInc = 0; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 56: break;\n        case 11: \n          { currentTokType = BOLD;  yybegin(THREE_SINGLE_QUOTES_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 57: break;\n        case 12: \n          { currentTokType = ITALICS; numWikiTokensSeen++;  yybegin(STRING); return currentTokType;/*italics*/\n          }\n        case 58: break;\n        case 13: \n          { currentTokType = EXTERNAL_LINK; numWikiTokensSeen = 0; yybegin(EXTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 59: break;\n        case 14: \n          { yybegin(STRING); numWikiTokensSeen++; return currentTokType;\n          }\n        case 60: break;\n        case 15: \n          { currentTokType = SUB_HEADING; numWikiTokensSeen = 0; yybegin(STRING); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 61: break;\n        case 16: \n          { currentTokType = HEADING; yybegin(DOUBLE_EQUALS_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 62: break;\n        case 17: \n          { yybegin(DOUBLE_BRACE_STATE); numWikiTokensSeen = 0; return currentTokType;\n          }\n        case 63: break;\n        case 18: \n          { /* Break so we don't hit fall-through warning: */ break;/* ignore STRING */\n          }\n        case 64: break;\n        case 19: \n          { yybegin(STRING); numWikiTokensSeen++; return currentTokType;/* STRING ALPHANUM*/\n          }\n        case 65: break;\n        case 20: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = EXTERNAL_LINK;yybegin(EXTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 66: break;\n        case 21: \n          { yybegin(STRING); return currentTokType;/*pipe*/\n          }\n        case 67: break;\n        case 22: \n          { numWikiTokensSeen = 0; positionInc = 1; if (numBalanced == 0){numBalanced++;yybegin(TWO_SINGLE_QUOTES_STATE);} else{numBalanced = 0;}/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 68: break;\n        case 23: \n          { numWikiTokensSeen = 0; positionInc = 1; yybegin(DOUBLE_EQUALS_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 69: break;\n        case 24: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = INTERNAL_LINK; yybegin(INTERNAL_LINK_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 70: break;\n        case 25: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = CITATION; yybegin(DOUBLE_BRACE_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 71: break;\n        case 26: \n          { yybegin(YYINITIAL);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 72: break;\n        case 27: \n          { numLinkToks = 0; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 73: break;\n        case 28: \n          { currentTokType = INTERNAL_LINK; numWikiTokensSeen = 0; yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 74: break;\n        case 29: \n          { currentTokType = INTERNAL_LINK; numWikiTokensSeen = 0;  yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 75: break;\n        case 30: \n          { yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 76: break;\n        case 31: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end italics*/\n          }\n        case 77: break;\n        case 32: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = INTERNAL_LINK;yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 78: break;\n        case 33: \n          { positionInc = 1; return APOSTROPHE;\n          }\n        case 79: break;\n        case 34: \n          { positionInc = 1; return HOST;\n          }\n        case 80: break;\n        case 35: \n          { positionInc = 1; return NUM;\n          }\n        case 81: break;\n        case 36: \n          { positionInc = 1; return COMPANY;\n          }\n        case 82: break;\n        case 37: \n          { currentTokType = BOLD_ITALICS;  yybegin(FIVE_SINGLE_QUOTES_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 83: break;\n        case 38: \n          { numBalanced = 0;currentTokType = ALPHANUM;yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end bold*/\n          }\n        case 84: break;\n        case 39: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end sub header*/\n          }\n        case 85: break;\n        case 40: \n          { positionInc = 1; return ACRONYM;\n          }\n        case 86: break;\n        case 41: \n          { positionInc = 1; return EMAIL;\n          }\n        case 87: break;\n        case 42: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end bold italics*/\n          }\n        case 88: break;\n        case 43: \n          { positionInc = 1; numWikiTokensSeen++; yybegin(EXTERNAL_LINK_STATE); return currentTokType;\n          }\n        case 89: break;\n        case 44: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = CATEGORY; yybegin(CATEGORY_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 90: break;\n        case 45: \n          { currentTokType = CATEGORY; numWikiTokensSeen = 0; yybegin(CATEGORY_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 91: break;\n        case 46: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = CATEGORY;yybegin(CATEGORY_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 92: break;\n        default: \n          if (zzInput == YYEOF && zzStartRead == zzCurrentPos) {\n            zzAtEOF = true;\n            return YYEOF;\n          } \n          else {\n            zzScanError(ZZ_NO_MATCH);\n          }\n      }\n    }\n  }\n\n","sourceOld":"  /**\n   * Resumes scanning until the next regular expression is matched,\n   * the end of input is encountered or an I/O-Error occurs.\n   *\n   * @return      the next token\n   * @exception   java.io.IOException  if any I/O-Error occurs\n   */\n  public int getNextToken() throws java.io.IOException {\n    int zzInput;\n    int zzAction;\n\n    // cached fields:\n    int zzCurrentPosL;\n    int zzMarkedPosL;\n    int zzEndReadL = zzEndRead;\n    char [] zzBufferL = zzBuffer;\n    char [] zzCMapL = ZZ_CMAP;\n\n    int [] zzTransL = ZZ_TRANS;\n    int [] zzRowMapL = ZZ_ROWMAP;\n    int [] zzAttrL = ZZ_ATTRIBUTE;\n\n    while (true) {\n      zzMarkedPosL = zzMarkedPos;\n\n      yychar+= zzMarkedPosL-zzStartRead;\n\n      zzAction = -1;\n\n      zzCurrentPosL = zzCurrentPos = zzStartRead = zzMarkedPosL;\n  \n      zzState = ZZ_LEXSTATE[zzLexicalState];\n\n      // set up zzAction for empty match case:\n      int zzAttributes = zzAttrL[zzState];\n      if ( (zzAttributes & 1) == 1 ) {\n        zzAction = zzState;\n      }\n\n\n      zzForAction: {\n        while (true) {\n    \n          if (zzCurrentPosL < zzEndReadL)\n            zzInput = zzBufferL[zzCurrentPosL++];\n          else if (zzAtEOF) {\n            zzInput = YYEOF;\n            break zzForAction;\n          }\n          else {\n            // store back cached positions\n            zzCurrentPos  = zzCurrentPosL;\n            zzMarkedPos   = zzMarkedPosL;\n            boolean eof = zzRefill();\n            // get translated positions and possibly new buffer\n            zzCurrentPosL  = zzCurrentPos;\n            zzMarkedPosL   = zzMarkedPos;\n            zzBufferL      = zzBuffer;\n            zzEndReadL     = zzEndRead;\n            if (eof) {\n              zzInput = YYEOF;\n              break zzForAction;\n            }\n            else {\n              zzInput = zzBufferL[zzCurrentPosL++];\n            }\n          }\n          int zzNext = zzTransL[ zzRowMapL[zzState] + zzCMapL[zzInput] ];\n          if (zzNext == -1) break zzForAction;\n          zzState = zzNext;\n\n          zzAttributes = zzAttrL[zzState];\n          if ( (zzAttributes & 1) == 1 ) {\n            zzAction = zzState;\n            zzMarkedPosL = zzCurrentPosL;\n            if ( (zzAttributes & 8) == 8 ) break zzForAction;\n          }\n\n        }\n      }\n\n      // store back cached position\n      zzMarkedPos = zzMarkedPosL;\n\n      switch (zzAction < 0 ? zzAction : ZZ_ACTION[zzAction]) {\n        case 44: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = CATEGORY; yybegin(CATEGORY_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 47: break;\n        case 37: \n          { currentTokType = BOLD_ITALICS;  yybegin(FIVE_SINGLE_QUOTES_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 48: break;\n        case 16: \n          { currentTokType = HEADING; yybegin(DOUBLE_EQUALS_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 49: break;\n        case 20: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = EXTERNAL_LINK;yybegin(EXTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 50: break;\n        case 40: \n          { positionInc = 1; return ACRONYM;\n          }\n        case 51: break;\n        case 5: \n          { positionInc = 1; /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 52: break;\n        case 36: \n          { positionInc = 1; return COMPANY;\n          }\n        case 53: break;\n        case 10: \n          { numLinkToks = 0; positionInc = 0; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 54: break;\n        case 15: \n          { currentTokType = SUB_HEADING; numWikiTokensSeen = 0; yybegin(STRING); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 55: break;\n        case 22: \n          { numWikiTokensSeen = 0; positionInc = 1; if (numBalanced == 0){numBalanced++;yybegin(TWO_SINGLE_QUOTES_STATE);} else{numBalanced = 0;}/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 56: break;\n        case 35: \n          { positionInc = 1; return NUM;\n          }\n        case 57: break;\n        case 33: \n          { positionInc = 1; return APOSTROPHE;\n          }\n        case 58: break;\n        case 21: \n          { yybegin(STRING); return currentTokType;/*pipe*/\n          }\n        case 59: break;\n        case 18: \n          { /* Break so we don't hit fall-through warning: */ break;/* ignore STRING */\n          }\n        case 60: break;\n        case 2: \n          { positionInc = 1; return ALPHANUM;\n          }\n        case 61: break;\n        case 1: \n          { numWikiTokensSeen = 0;  positionInc = 1; /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 62: break;\n        case 17: \n          { yybegin(DOUBLE_BRACE_STATE); numWikiTokensSeen = 0; return currentTokType;\n          }\n        case 63: break;\n        case 39: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end sub header*/\n          }\n        case 64: break;\n        case 29: \n          { currentTokType = INTERNAL_LINK; numWikiTokensSeen = 0;  yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 65: break;\n        case 46: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = CATEGORY;yybegin(CATEGORY_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 66: break;\n        case 27: \n          { numLinkToks = 0; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 67: break;\n        case 4: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = EXTERNAL_LINK_URL; yybegin(EXTERNAL_LINK_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 68: break;\n        case 38: \n          { numBalanced = 0;currentTokType = ALPHANUM;yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end bold*/\n          }\n        case 69: break;\n        case 13: \n          { currentTokType = EXTERNAL_LINK; numWikiTokensSeen = 0; yybegin(EXTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 70: break;\n        case 3: \n          { positionInc = 1; return CJ;\n          }\n        case 71: break;\n        case 45: \n          { currentTokType = CATEGORY; numWikiTokensSeen = 0; yybegin(CATEGORY_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 72: break;\n        case 6: \n          { yybegin(CATEGORY_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 73: break;\n        case 11: \n          { currentTokType = BOLD;  yybegin(THREE_SINGLE_QUOTES_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 74: break;\n        case 25: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = CITATION; yybegin(DOUBLE_BRACE_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 75: break;\n        case 8: \n          { /* Break so we don't hit fall-through warning: */ break;/* ignore */\n          }\n        case 76: break;\n        case 19: \n          { yybegin(STRING); numWikiTokensSeen++; return currentTokType;/* STRING ALPHANUM*/\n          }\n        case 77: break;\n        case 43: \n          { positionInc = 1; numWikiTokensSeen++; yybegin(EXTERNAL_LINK_STATE); return currentTokType;\n          }\n        case 78: break;\n        case 42: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end bold italics*/\n          }\n        case 79: break;\n        case 30: \n          { yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 80: break;\n        case 14: \n          { yybegin(STRING); numWikiTokensSeen++; return currentTokType;\n          }\n        case 81: break;\n        case 9: \n          { if (numLinkToks == 0){positionInc = 0;} else{positionInc = 1;} numWikiTokensSeen++; currentTokType = EXTERNAL_LINK; yybegin(EXTERNAL_LINK_STATE); numLinkToks++; return currentTokType;\n          }\n        case 82: break;\n        case 7: \n          { yybegin(INTERNAL_LINK_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 83: break;\n        case 41: \n          { positionInc = 1; return EMAIL;\n          }\n        case 84: break;\n        case 28: \n          { currentTokType = INTERNAL_LINK; numWikiTokensSeen = 0; yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 85: break;\n        case 23: \n          { numWikiTokensSeen = 0; positionInc = 1; yybegin(DOUBLE_EQUALS_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 86: break;\n        case 34: \n          { positionInc = 1; return HOST;\n          }\n        case 87: break;\n        case 32: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = INTERNAL_LINK;yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 88: break;\n        case 12: \n          { currentTokType = ITALICS; numWikiTokensSeen++;  yybegin(STRING); return currentTokType;/*italics*/\n          }\n        case 89: break;\n        case 24: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = INTERNAL_LINK; yybegin(INTERNAL_LINK_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 90: break;\n        case 31: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end italics*/\n          }\n        case 91: break;\n        case 26: \n          { yybegin(YYINITIAL);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 92: break;\n        default: \n          if (zzInput == YYEOF && zzStartRead == zzCurrentPos) {\n            zzAtEOF = true;\n            return YYEOF;\n          } \n          else {\n            zzScanError(ZZ_NO_MATCH);\n          }\n      }\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"4f0c6d69031c318c402abfe2543736076e80a132","date":1404594729,"type":3,"author":"Steven Rowe","isMerge":false,"pathNew":"lucene/analysis/common/src/java/org/apache/lucene/analysis/wikipedia/WikipediaTokenizerImpl#getNextToken().mjava","pathOld":"lucene/analysis/common/src/java/org/apache/lucene/analysis/wikipedia/WikipediaTokenizerImpl#getNextToken().mjava","sourceNew":"  /**\n   * Resumes scanning until the next regular expression is matched,\n   * the end of input is encountered or an I/O-Error occurs.\n   *\n   * @return      the next token\n   * @exception   java.io.IOException  if any I/O-Error occurs\n   */\n  public int getNextToken() throws java.io.IOException {\n    int zzInput;\n    int zzAction;\n\n    // cached fields:\n    int zzCurrentPosL;\n    int zzMarkedPosL;\n    int zzEndReadL = zzEndRead;\n    char [] zzBufferL = zzBuffer;\n    char [] zzCMapL = ZZ_CMAP;\n\n    int [] zzTransL = ZZ_TRANS;\n    int [] zzRowMapL = ZZ_ROWMAP;\n    int [] zzAttrL = ZZ_ATTRIBUTE;\n\n    while (true) {\n      zzMarkedPosL = zzMarkedPos;\n\n      yychar+= zzMarkedPosL-zzStartRead;\n\n      zzAction = -1;\n\n      zzCurrentPosL = zzCurrentPos = zzStartRead = zzMarkedPosL;\n  \n      zzState = ZZ_LEXSTATE[zzLexicalState];\n\n      // set up zzAction for empty match case:\n      int zzAttributes = zzAttrL[zzState];\n      if ( (zzAttributes & 1) == 1 ) {\n        zzAction = zzState;\n      }\n\n\n      zzForAction: {\n        while (true) {\n    \n          if (zzCurrentPosL < zzEndReadL) {\n            zzInput = Character.codePointAt(zzBufferL, zzCurrentPosL, zzEndReadL);\n            zzCurrentPosL += Character.charCount(zzInput);\n          }\n          else if (zzAtEOF) {\n            zzInput = YYEOF;\n            break zzForAction;\n          }\n          else {\n            // store back cached positions\n            zzCurrentPos  = zzCurrentPosL;\n            zzMarkedPos   = zzMarkedPosL;\n            boolean eof = zzRefill();\n            // get translated positions and possibly new buffer\n            zzCurrentPosL  = zzCurrentPos;\n            zzMarkedPosL   = zzMarkedPos;\n            zzBufferL      = zzBuffer;\n            zzEndReadL     = zzEndRead;\n            if (eof) {\n              zzInput = YYEOF;\n              break zzForAction;\n            }\n            else {\n              zzInput = Character.codePointAt(zzBufferL, zzCurrentPosL, zzEndReadL);\n              zzCurrentPosL += Character.charCount(zzInput);\n            }\n          }\n          int zzNext = zzTransL[ zzRowMapL[zzState] + zzCMapL[zzInput] ];\n          if (zzNext == -1) break zzForAction;\n          zzState = zzNext;\n\n          zzAttributes = zzAttrL[zzState];\n          if ( (zzAttributes & 1) == 1 ) {\n            zzAction = zzState;\n            zzMarkedPosL = zzCurrentPosL;\n            if ( (zzAttributes & 8) == 8 ) break zzForAction;\n          }\n\n        }\n      }\n\n      // store back cached position\n      zzMarkedPos = zzMarkedPosL;\n\n      switch (zzAction < 0 ? zzAction : ZZ_ACTION[zzAction]) {\n        case 1: \n          { numWikiTokensSeen = 0;  positionInc = 1; /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 47: break;\n        case 2: \n          { positionInc = 1; return ALPHANUM;\n          }\n        case 48: break;\n        case 3: \n          { positionInc = 1; return CJ;\n          }\n        case 49: break;\n        case 4: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = EXTERNAL_LINK_URL; yybegin(EXTERNAL_LINK_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 50: break;\n        case 5: \n          { positionInc = 1; /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 51: break;\n        case 6: \n          { yybegin(CATEGORY_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 52: break;\n        case 7: \n          { yybegin(INTERNAL_LINK_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 53: break;\n        case 8: \n          { /* Break so we don't hit fall-through warning: */ break;/* ignore */\n          }\n        case 54: break;\n        case 9: \n          { if (numLinkToks == 0){positionInc = 0;} else{positionInc = 1;} numWikiTokensSeen++; currentTokType = EXTERNAL_LINK; yybegin(EXTERNAL_LINK_STATE); numLinkToks++; return currentTokType;\n          }\n        case 55: break;\n        case 10: \n          { numLinkToks = 0; positionInc = 0; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 56: break;\n        case 11: \n          { currentTokType = BOLD;  yybegin(THREE_SINGLE_QUOTES_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 57: break;\n        case 12: \n          { currentTokType = ITALICS; numWikiTokensSeen++;  yybegin(STRING); return currentTokType;/*italics*/\n          }\n        case 58: break;\n        case 13: \n          { currentTokType = EXTERNAL_LINK; numWikiTokensSeen = 0; yybegin(EXTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 59: break;\n        case 14: \n          { yybegin(STRING); numWikiTokensSeen++; return currentTokType;\n          }\n        case 60: break;\n        case 15: \n          { currentTokType = SUB_HEADING; numWikiTokensSeen = 0; yybegin(STRING); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 61: break;\n        case 16: \n          { currentTokType = HEADING; yybegin(DOUBLE_EQUALS_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 62: break;\n        case 17: \n          { yybegin(DOUBLE_BRACE_STATE); numWikiTokensSeen = 0; return currentTokType;\n          }\n        case 63: break;\n        case 18: \n          { /* Break so we don't hit fall-through warning: */ break;/* ignore STRING */\n          }\n        case 64: break;\n        case 19: \n          { yybegin(STRING); numWikiTokensSeen++; return currentTokType;/* STRING ALPHANUM*/\n          }\n        case 65: break;\n        case 20: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = EXTERNAL_LINK;yybegin(EXTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 66: break;\n        case 21: \n          { yybegin(STRING); return currentTokType;/*pipe*/\n          }\n        case 67: break;\n        case 22: \n          { numWikiTokensSeen = 0; positionInc = 1; if (numBalanced == 0){numBalanced++;yybegin(TWO_SINGLE_QUOTES_STATE);} else{numBalanced = 0;}/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 68: break;\n        case 23: \n          { numWikiTokensSeen = 0; positionInc = 1; yybegin(DOUBLE_EQUALS_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 69: break;\n        case 24: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = INTERNAL_LINK; yybegin(INTERNAL_LINK_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 70: break;\n        case 25: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = CITATION; yybegin(DOUBLE_BRACE_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 71: break;\n        case 26: \n          { yybegin(YYINITIAL);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 72: break;\n        case 27: \n          { numLinkToks = 0; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 73: break;\n        case 28: \n          { currentTokType = INTERNAL_LINK; numWikiTokensSeen = 0; yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 74: break;\n        case 29: \n          { currentTokType = INTERNAL_LINK; numWikiTokensSeen = 0;  yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 75: break;\n        case 30: \n          { yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 76: break;\n        case 31: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end italics*/\n          }\n        case 77: break;\n        case 32: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = INTERNAL_LINK;yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 78: break;\n        case 33: \n          { positionInc = 1; return APOSTROPHE;\n          }\n        case 79: break;\n        case 34: \n          { positionInc = 1; return HOST;\n          }\n        case 80: break;\n        case 35: \n          { positionInc = 1; return NUM;\n          }\n        case 81: break;\n        case 36: \n          { positionInc = 1; return COMPANY;\n          }\n        case 82: break;\n        case 37: \n          { currentTokType = BOLD_ITALICS;  yybegin(FIVE_SINGLE_QUOTES_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 83: break;\n        case 38: \n          { numBalanced = 0;currentTokType = ALPHANUM;yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end bold*/\n          }\n        case 84: break;\n        case 39: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end sub header*/\n          }\n        case 85: break;\n        case 40: \n          { positionInc = 1; return ACRONYM;\n          }\n        case 86: break;\n        case 41: \n          { positionInc = 1; return EMAIL;\n          }\n        case 87: break;\n        case 42: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end bold italics*/\n          }\n        case 88: break;\n        case 43: \n          { positionInc = 1; numWikiTokensSeen++; yybegin(EXTERNAL_LINK_STATE); return currentTokType;\n          }\n        case 89: break;\n        case 44: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = CATEGORY; yybegin(CATEGORY_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 90: break;\n        case 45: \n          { currentTokType = CATEGORY; numWikiTokensSeen = 0; yybegin(CATEGORY_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 91: break;\n        case 46: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = CATEGORY;yybegin(CATEGORY_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 92: break;\n        default: \n          if (zzInput == YYEOF && zzStartRead == zzCurrentPos) {\n            zzAtEOF = true;\n            return YYEOF;\n          } \n          else {\n            zzScanError(ZZ_NO_MATCH);\n          }\n      }\n    }\n  }\n\n","sourceOld":"  /**\n   * Resumes scanning until the next regular expression is matched,\n   * the end of input is encountered or an I/O-Error occurs.\n   *\n   * @return      the next token\n   * @exception   java.io.IOException  if any I/O-Error occurs\n   */\n  public int getNextToken() throws java.io.IOException {\n    int zzInput;\n    int zzAction;\n\n    // cached fields:\n    int zzCurrentPosL;\n    int zzMarkedPosL;\n    int zzEndReadL = zzEndRead;\n    char [] zzBufferL = zzBuffer;\n    char [] zzCMapL = ZZ_CMAP;\n\n    int [] zzTransL = ZZ_TRANS;\n    int [] zzRowMapL = ZZ_ROWMAP;\n    int [] zzAttrL = ZZ_ATTRIBUTE;\n\n    while (true) {\n      zzMarkedPosL = zzMarkedPos;\n\n      yychar+= zzMarkedPosL-zzStartRead;\n\n      zzAction = -1;\n\n      zzCurrentPosL = zzCurrentPos = zzStartRead = zzMarkedPosL;\n  \n      zzState = ZZ_LEXSTATE[zzLexicalState];\n\n      // set up zzAction for empty match case:\n      int zzAttributes = zzAttrL[zzState];\n      if ( (zzAttributes & 1) == 1 ) {\n        zzAction = zzState;\n      }\n\n\n      zzForAction: {\n        while (true) {\n    \n          if (zzCurrentPosL < zzEndReadL)\n            zzInput = zzBufferL[zzCurrentPosL++];\n          else if (zzAtEOF) {\n            zzInput = YYEOF;\n            break zzForAction;\n          }\n          else {\n            // store back cached positions\n            zzCurrentPos  = zzCurrentPosL;\n            zzMarkedPos   = zzMarkedPosL;\n            boolean eof = zzRefill();\n            // get translated positions and possibly new buffer\n            zzCurrentPosL  = zzCurrentPos;\n            zzMarkedPosL   = zzMarkedPos;\n            zzBufferL      = zzBuffer;\n            zzEndReadL     = zzEndRead;\n            if (eof) {\n              zzInput = YYEOF;\n              break zzForAction;\n            }\n            else {\n              zzInput = zzBufferL[zzCurrentPosL++];\n            }\n          }\n          int zzNext = zzTransL[ zzRowMapL[zzState] + zzCMapL[zzInput] ];\n          if (zzNext == -1) break zzForAction;\n          zzState = zzNext;\n\n          zzAttributes = zzAttrL[zzState];\n          if ( (zzAttributes & 1) == 1 ) {\n            zzAction = zzState;\n            zzMarkedPosL = zzCurrentPosL;\n            if ( (zzAttributes & 8) == 8 ) break zzForAction;\n          }\n\n        }\n      }\n\n      // store back cached position\n      zzMarkedPos = zzMarkedPosL;\n\n      switch (zzAction < 0 ? zzAction : ZZ_ACTION[zzAction]) {\n        case 1: \n          { numWikiTokensSeen = 0;  positionInc = 1; /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 47: break;\n        case 2: \n          { positionInc = 1; return ALPHANUM;\n          }\n        case 48: break;\n        case 3: \n          { positionInc = 1; return CJ;\n          }\n        case 49: break;\n        case 4: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = EXTERNAL_LINK_URL; yybegin(EXTERNAL_LINK_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 50: break;\n        case 5: \n          { positionInc = 1; /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 51: break;\n        case 6: \n          { yybegin(CATEGORY_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 52: break;\n        case 7: \n          { yybegin(INTERNAL_LINK_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 53: break;\n        case 8: \n          { /* Break so we don't hit fall-through warning: */ break;/* ignore */\n          }\n        case 54: break;\n        case 9: \n          { if (numLinkToks == 0){positionInc = 0;} else{positionInc = 1;} numWikiTokensSeen++; currentTokType = EXTERNAL_LINK; yybegin(EXTERNAL_LINK_STATE); numLinkToks++; return currentTokType;\n          }\n        case 55: break;\n        case 10: \n          { numLinkToks = 0; positionInc = 0; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 56: break;\n        case 11: \n          { currentTokType = BOLD;  yybegin(THREE_SINGLE_QUOTES_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 57: break;\n        case 12: \n          { currentTokType = ITALICS; numWikiTokensSeen++;  yybegin(STRING); return currentTokType;/*italics*/\n          }\n        case 58: break;\n        case 13: \n          { currentTokType = EXTERNAL_LINK; numWikiTokensSeen = 0; yybegin(EXTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 59: break;\n        case 14: \n          { yybegin(STRING); numWikiTokensSeen++; return currentTokType;\n          }\n        case 60: break;\n        case 15: \n          { currentTokType = SUB_HEADING; numWikiTokensSeen = 0; yybegin(STRING); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 61: break;\n        case 16: \n          { currentTokType = HEADING; yybegin(DOUBLE_EQUALS_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 62: break;\n        case 17: \n          { yybegin(DOUBLE_BRACE_STATE); numWikiTokensSeen = 0; return currentTokType;\n          }\n        case 63: break;\n        case 18: \n          { /* Break so we don't hit fall-through warning: */ break;/* ignore STRING */\n          }\n        case 64: break;\n        case 19: \n          { yybegin(STRING); numWikiTokensSeen++; return currentTokType;/* STRING ALPHANUM*/\n          }\n        case 65: break;\n        case 20: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = EXTERNAL_LINK;yybegin(EXTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 66: break;\n        case 21: \n          { yybegin(STRING); return currentTokType;/*pipe*/\n          }\n        case 67: break;\n        case 22: \n          { numWikiTokensSeen = 0; positionInc = 1; if (numBalanced == 0){numBalanced++;yybegin(TWO_SINGLE_QUOTES_STATE);} else{numBalanced = 0;}/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 68: break;\n        case 23: \n          { numWikiTokensSeen = 0; positionInc = 1; yybegin(DOUBLE_EQUALS_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 69: break;\n        case 24: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = INTERNAL_LINK; yybegin(INTERNAL_LINK_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 70: break;\n        case 25: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = CITATION; yybegin(DOUBLE_BRACE_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 71: break;\n        case 26: \n          { yybegin(YYINITIAL);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 72: break;\n        case 27: \n          { numLinkToks = 0; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 73: break;\n        case 28: \n          { currentTokType = INTERNAL_LINK; numWikiTokensSeen = 0; yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 74: break;\n        case 29: \n          { currentTokType = INTERNAL_LINK; numWikiTokensSeen = 0;  yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 75: break;\n        case 30: \n          { yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 76: break;\n        case 31: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end italics*/\n          }\n        case 77: break;\n        case 32: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = INTERNAL_LINK;yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 78: break;\n        case 33: \n          { positionInc = 1; return APOSTROPHE;\n          }\n        case 79: break;\n        case 34: \n          { positionInc = 1; return HOST;\n          }\n        case 80: break;\n        case 35: \n          { positionInc = 1; return NUM;\n          }\n        case 81: break;\n        case 36: \n          { positionInc = 1; return COMPANY;\n          }\n        case 82: break;\n        case 37: \n          { currentTokType = BOLD_ITALICS;  yybegin(FIVE_SINGLE_QUOTES_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 83: break;\n        case 38: \n          { numBalanced = 0;currentTokType = ALPHANUM;yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end bold*/\n          }\n        case 84: break;\n        case 39: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end sub header*/\n          }\n        case 85: break;\n        case 40: \n          { positionInc = 1; return ACRONYM;\n          }\n        case 86: break;\n        case 41: \n          { positionInc = 1; return EMAIL;\n          }\n        case 87: break;\n        case 42: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end bold italics*/\n          }\n        case 88: break;\n        case 43: \n          { positionInc = 1; numWikiTokensSeen++; yybegin(EXTERNAL_LINK_STATE); return currentTokType;\n          }\n        case 89: break;\n        case 44: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = CATEGORY; yybegin(CATEGORY_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 90: break;\n        case 45: \n          { currentTokType = CATEGORY; numWikiTokensSeen = 0; yybegin(CATEGORY_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 91: break;\n        case 46: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = CATEGORY;yybegin(CATEGORY_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 92: break;\n        default: \n          if (zzInput == YYEOF && zzStartRead == zzCurrentPos) {\n            zzAtEOF = true;\n            return YYEOF;\n          } \n          else {\n            zzScanError(ZZ_NO_MATCH);\n          }\n      }\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"b8c6c25f6bab8e32b731127f3516a593af8a3305","date":1546972429,"type":3,"author":"Steve Rowe","isMerge":false,"pathNew":"lucene/analysis/common/src/java/org/apache/lucene/analysis/wikipedia/WikipediaTokenizerImpl#getNextToken().mjava","pathOld":"lucene/analysis/common/src/java/org/apache/lucene/analysis/wikipedia/WikipediaTokenizerImpl#getNextToken().mjava","sourceNew":"  /**\n   * Resumes scanning until the next regular expression is matched,\n   * the end of input is encountered or an I/O-Error occurs.\n   *\n   * @return      the next token\n   * @exception   java.io.IOException  if any I/O-Error occurs\n   */\n  public int getNextToken() throws java.io.IOException {\n    int zzInput;\n    int zzAction;\n\n    // cached fields:\n    int zzCurrentPosL;\n    int zzMarkedPosL;\n    int zzEndReadL = zzEndRead;\n    char [] zzBufferL = zzBuffer;\n    char [] zzCMapL = ZZ_CMAP;\n\n    int [] zzTransL = ZZ_TRANS;\n    int [] zzRowMapL = ZZ_ROWMAP;\n    int [] zzAttrL = ZZ_ATTRIBUTE;\n\n    while (true) {\n      zzMarkedPosL = zzMarkedPos;\n\n      yychar+= zzMarkedPosL-zzStartRead;\n\n      zzAction = -1;\n\n      zzCurrentPosL = zzCurrentPos = zzStartRead = zzMarkedPosL;\n  \n      zzState = ZZ_LEXSTATE[zzLexicalState];\n\n      // set up zzAction for empty match case:\n      int zzAttributes = zzAttrL[zzState];\n      if ( (zzAttributes & 1) == 1 ) {\n        zzAction = zzState;\n      }\n\n\n      zzForAction: {\n        while (true) {\n    \n          if (zzCurrentPosL < zzEndReadL) {\n            zzInput = Character.codePointAt(zzBufferL, zzCurrentPosL, zzEndReadL);\n            zzCurrentPosL += Character.charCount(zzInput);\n          }\n          else if (zzAtEOF) {\n            zzInput = YYEOF;\n            break zzForAction;\n          }\n          else {\n            // store back cached positions\n            zzCurrentPos  = zzCurrentPosL;\n            zzMarkedPos   = zzMarkedPosL;\n            boolean eof = zzRefill();\n            // get translated positions and possibly new buffer\n            zzCurrentPosL  = zzCurrentPos;\n            zzMarkedPosL   = zzMarkedPos;\n            zzBufferL      = zzBuffer;\n            zzEndReadL     = zzEndRead;\n            if (eof) {\n              zzInput = YYEOF;\n              break zzForAction;\n            }\n            else {\n              zzInput = Character.codePointAt(zzBufferL, zzCurrentPosL, zzEndReadL);\n              zzCurrentPosL += Character.charCount(zzInput);\n            }\n          }\n          int zzNext = zzTransL[ zzRowMapL[zzState] + zzCMapL[zzInput] ];\n          if (zzNext == -1) break zzForAction;\n          zzState = zzNext;\n\n          zzAttributes = zzAttrL[zzState];\n          if ( (zzAttributes & 1) == 1 ) {\n            zzAction = zzState;\n            zzMarkedPosL = zzCurrentPosL;\n            if ( (zzAttributes & 8) == 8 ) break zzForAction;\n          }\n\n        }\n      }\n\n      // store back cached position\n      zzMarkedPos = zzMarkedPosL;\n\n      if (zzInput == YYEOF && zzStartRead == zzCurrentPos) {\n        zzAtEOF = true;\n        return YYEOF;\n      }\n      else {\n        switch (zzAction < 0 ? zzAction : ZZ_ACTION[zzAction]) {\n          case 1: \n            { numWikiTokensSeen = 0;  positionInc = 1; /* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 47: break;\n          case 2: \n            { positionInc = 1; return ALPHANUM;\n            } \n            // fall through\n          case 48: break;\n          case 3: \n            { positionInc = 1; return CJ;\n            } \n            // fall through\n          case 49: break;\n          case 4: \n            { numWikiTokensSeen = 0; positionInc = 1; currentTokType = EXTERNAL_LINK_URL; yybegin(EXTERNAL_LINK_STATE);/* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 50: break;\n          case 5: \n            { positionInc = 1; /* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 51: break;\n          case 6: \n            { yybegin(CATEGORY_STATE); numWikiTokensSeen++; return currentTokType;\n            } \n            // fall through\n          case 52: break;\n          case 7: \n            { yybegin(INTERNAL_LINK_STATE); numWikiTokensSeen++; return currentTokType;\n            } \n            // fall through\n          case 53: break;\n          case 8: \n            { /* Break so we don't hit fall-through warning: */ break;/* ignore */\n            } \n            // fall through\n          case 54: break;\n          case 9: \n            { if (numLinkToks == 0){positionInc = 0;} else{positionInc = 1;} numWikiTokensSeen++; currentTokType = EXTERNAL_LINK; yybegin(EXTERNAL_LINK_STATE); numLinkToks++; return currentTokType;\n            } \n            // fall through\n          case 55: break;\n          case 10: \n            { numLinkToks = 0; positionInc = 0; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 56: break;\n          case 11: \n            { currentTokType = BOLD;  yybegin(THREE_SINGLE_QUOTES_STATE); /* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 57: break;\n          case 12: \n            { currentTokType = ITALICS; numWikiTokensSeen++;  yybegin(STRING); return currentTokType;/*italics*/\n            } \n            // fall through\n          case 58: break;\n          case 13: \n            { currentTokType = EXTERNAL_LINK; numWikiTokensSeen = 0; yybegin(EXTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 59: break;\n          case 14: \n            { yybegin(STRING); numWikiTokensSeen++; return currentTokType;\n            } \n            // fall through\n          case 60: break;\n          case 15: \n            { currentTokType = SUB_HEADING; numWikiTokensSeen = 0; yybegin(STRING); /* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 61: break;\n          case 16: \n            { currentTokType = HEADING; yybegin(DOUBLE_EQUALS_STATE); numWikiTokensSeen++; return currentTokType;\n            } \n            // fall through\n          case 62: break;\n          case 17: \n            { yybegin(DOUBLE_BRACE_STATE); numWikiTokensSeen = 0; return currentTokType;\n            } \n            // fall through\n          case 63: break;\n          case 18: \n            { /* Break so we don't hit fall-through warning: */ break;/* ignore STRING */\n            } \n            // fall through\n          case 64: break;\n          case 19: \n            { yybegin(STRING); numWikiTokensSeen++; return currentTokType;/* STRING ALPHANUM*/\n            } \n            // fall through\n          case 65: break;\n          case 20: \n            { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = EXTERNAL_LINK;yybegin(EXTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 66: break;\n          case 21: \n            { yybegin(STRING); return currentTokType;/*pipe*/\n            } \n            // fall through\n          case 67: break;\n          case 22: \n            { numWikiTokensSeen = 0; positionInc = 1; if (numBalanced == 0){numBalanced++;yybegin(TWO_SINGLE_QUOTES_STATE);} else{numBalanced = 0;}/* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 68: break;\n          case 23: \n            { numWikiTokensSeen = 0; positionInc = 1; yybegin(DOUBLE_EQUALS_STATE);/* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 69: break;\n          case 24: \n            { numWikiTokensSeen = 0; positionInc = 1; currentTokType = INTERNAL_LINK; yybegin(INTERNAL_LINK_STATE);/* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 70: break;\n          case 25: \n            { numWikiTokensSeen = 0; positionInc = 1; currentTokType = CITATION; yybegin(DOUBLE_BRACE_STATE);/* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 71: break;\n          case 26: \n            { yybegin(YYINITIAL);/* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 72: break;\n          case 27: \n            { numLinkToks = 0; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 73: break;\n          case 28: \n            { currentTokType = INTERNAL_LINK; numWikiTokensSeen = 0; yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 74: break;\n          case 29: \n            { currentTokType = INTERNAL_LINK; numWikiTokensSeen = 0;  yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 75: break;\n          case 30: \n            { yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 76: break;\n          case 31: \n            { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end italics*/\n            } \n            // fall through\n          case 77: break;\n          case 32: \n            { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = INTERNAL_LINK;yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 78: break;\n          case 33: \n            { positionInc = 1; return APOSTROPHE;\n            } \n            // fall through\n          case 79: break;\n          case 34: \n            { positionInc = 1; return HOST;\n            } \n            // fall through\n          case 80: break;\n          case 35: \n            { positionInc = 1; return NUM;\n            } \n            // fall through\n          case 81: break;\n          case 36: \n            { positionInc = 1; return COMPANY;\n            } \n            // fall through\n          case 82: break;\n          case 37: \n            { currentTokType = BOLD_ITALICS;  yybegin(FIVE_SINGLE_QUOTES_STATE); /* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 83: break;\n          case 38: \n            { numBalanced = 0;currentTokType = ALPHANUM;yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end bold*/\n            } \n            // fall through\n          case 84: break;\n          case 39: \n            { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end sub header*/\n            } \n            // fall through\n          case 85: break;\n          case 40: \n            { positionInc = 1; return ACRONYM;\n            } \n            // fall through\n          case 86: break;\n          case 41: \n            { positionInc = 1; return EMAIL;\n            } \n            // fall through\n          case 87: break;\n          case 42: \n            { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end bold italics*/\n            } \n            // fall through\n          case 88: break;\n          case 43: \n            { positionInc = 1; numWikiTokensSeen++; yybegin(EXTERNAL_LINK_STATE); return currentTokType;\n            } \n            // fall through\n          case 89: break;\n          case 44: \n            { numWikiTokensSeen = 0; positionInc = 1; currentTokType = CATEGORY; yybegin(CATEGORY_STATE);/* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 90: break;\n          case 45: \n            { currentTokType = CATEGORY; numWikiTokensSeen = 0; yybegin(CATEGORY_STATE); /* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 91: break;\n          case 46: \n            { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = CATEGORY;yybegin(CATEGORY_STATE); /* Break so we don't hit fall-through warning: */ break;\n            } \n            // fall through\n          case 92: break;\n          default:\n            zzScanError(ZZ_NO_MATCH);\n        }\n      }\n    }\n  }\n\n","sourceOld":"  /**\n   * Resumes scanning until the next regular expression is matched,\n   * the end of input is encountered or an I/O-Error occurs.\n   *\n   * @return      the next token\n   * @exception   java.io.IOException  if any I/O-Error occurs\n   */\n  public int getNextToken() throws java.io.IOException {\n    int zzInput;\n    int zzAction;\n\n    // cached fields:\n    int zzCurrentPosL;\n    int zzMarkedPosL;\n    int zzEndReadL = zzEndRead;\n    char [] zzBufferL = zzBuffer;\n    char [] zzCMapL = ZZ_CMAP;\n\n    int [] zzTransL = ZZ_TRANS;\n    int [] zzRowMapL = ZZ_ROWMAP;\n    int [] zzAttrL = ZZ_ATTRIBUTE;\n\n    while (true) {\n      zzMarkedPosL = zzMarkedPos;\n\n      yychar+= zzMarkedPosL-zzStartRead;\n\n      zzAction = -1;\n\n      zzCurrentPosL = zzCurrentPos = zzStartRead = zzMarkedPosL;\n  \n      zzState = ZZ_LEXSTATE[zzLexicalState];\n\n      // set up zzAction for empty match case:\n      int zzAttributes = zzAttrL[zzState];\n      if ( (zzAttributes & 1) == 1 ) {\n        zzAction = zzState;\n      }\n\n\n      zzForAction: {\n        while (true) {\n    \n          if (zzCurrentPosL < zzEndReadL) {\n            zzInput = Character.codePointAt(zzBufferL, zzCurrentPosL, zzEndReadL);\n            zzCurrentPosL += Character.charCount(zzInput);\n          }\n          else if (zzAtEOF) {\n            zzInput = YYEOF;\n            break zzForAction;\n          }\n          else {\n            // store back cached positions\n            zzCurrentPos  = zzCurrentPosL;\n            zzMarkedPos   = zzMarkedPosL;\n            boolean eof = zzRefill();\n            // get translated positions and possibly new buffer\n            zzCurrentPosL  = zzCurrentPos;\n            zzMarkedPosL   = zzMarkedPos;\n            zzBufferL      = zzBuffer;\n            zzEndReadL     = zzEndRead;\n            if (eof) {\n              zzInput = YYEOF;\n              break zzForAction;\n            }\n            else {\n              zzInput = Character.codePointAt(zzBufferL, zzCurrentPosL, zzEndReadL);\n              zzCurrentPosL += Character.charCount(zzInput);\n            }\n          }\n          int zzNext = zzTransL[ zzRowMapL[zzState] + zzCMapL[zzInput] ];\n          if (zzNext == -1) break zzForAction;\n          zzState = zzNext;\n\n          zzAttributes = zzAttrL[zzState];\n          if ( (zzAttributes & 1) == 1 ) {\n            zzAction = zzState;\n            zzMarkedPosL = zzCurrentPosL;\n            if ( (zzAttributes & 8) == 8 ) break zzForAction;\n          }\n\n        }\n      }\n\n      // store back cached position\n      zzMarkedPos = zzMarkedPosL;\n\n      switch (zzAction < 0 ? zzAction : ZZ_ACTION[zzAction]) {\n        case 1: \n          { numWikiTokensSeen = 0;  positionInc = 1; /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 47: break;\n        case 2: \n          { positionInc = 1; return ALPHANUM;\n          }\n        case 48: break;\n        case 3: \n          { positionInc = 1; return CJ;\n          }\n        case 49: break;\n        case 4: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = EXTERNAL_LINK_URL; yybegin(EXTERNAL_LINK_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 50: break;\n        case 5: \n          { positionInc = 1; /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 51: break;\n        case 6: \n          { yybegin(CATEGORY_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 52: break;\n        case 7: \n          { yybegin(INTERNAL_LINK_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 53: break;\n        case 8: \n          { /* Break so we don't hit fall-through warning: */ break;/* ignore */\n          }\n        case 54: break;\n        case 9: \n          { if (numLinkToks == 0){positionInc = 0;} else{positionInc = 1;} numWikiTokensSeen++; currentTokType = EXTERNAL_LINK; yybegin(EXTERNAL_LINK_STATE); numLinkToks++; return currentTokType;\n          }\n        case 55: break;\n        case 10: \n          { numLinkToks = 0; positionInc = 0; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 56: break;\n        case 11: \n          { currentTokType = BOLD;  yybegin(THREE_SINGLE_QUOTES_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 57: break;\n        case 12: \n          { currentTokType = ITALICS; numWikiTokensSeen++;  yybegin(STRING); return currentTokType;/*italics*/\n          }\n        case 58: break;\n        case 13: \n          { currentTokType = EXTERNAL_LINK; numWikiTokensSeen = 0; yybegin(EXTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 59: break;\n        case 14: \n          { yybegin(STRING); numWikiTokensSeen++; return currentTokType;\n          }\n        case 60: break;\n        case 15: \n          { currentTokType = SUB_HEADING; numWikiTokensSeen = 0; yybegin(STRING); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 61: break;\n        case 16: \n          { currentTokType = HEADING; yybegin(DOUBLE_EQUALS_STATE); numWikiTokensSeen++; return currentTokType;\n          }\n        case 62: break;\n        case 17: \n          { yybegin(DOUBLE_BRACE_STATE); numWikiTokensSeen = 0; return currentTokType;\n          }\n        case 63: break;\n        case 18: \n          { /* Break so we don't hit fall-through warning: */ break;/* ignore STRING */\n          }\n        case 64: break;\n        case 19: \n          { yybegin(STRING); numWikiTokensSeen++; return currentTokType;/* STRING ALPHANUM*/\n          }\n        case 65: break;\n        case 20: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = EXTERNAL_LINK;yybegin(EXTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 66: break;\n        case 21: \n          { yybegin(STRING); return currentTokType;/*pipe*/\n          }\n        case 67: break;\n        case 22: \n          { numWikiTokensSeen = 0; positionInc = 1; if (numBalanced == 0){numBalanced++;yybegin(TWO_SINGLE_QUOTES_STATE);} else{numBalanced = 0;}/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 68: break;\n        case 23: \n          { numWikiTokensSeen = 0; positionInc = 1; yybegin(DOUBLE_EQUALS_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 69: break;\n        case 24: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = INTERNAL_LINK; yybegin(INTERNAL_LINK_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 70: break;\n        case 25: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = CITATION; yybegin(DOUBLE_BRACE_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 71: break;\n        case 26: \n          { yybegin(YYINITIAL);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 72: break;\n        case 27: \n          { numLinkToks = 0; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 73: break;\n        case 28: \n          { currentTokType = INTERNAL_LINK; numWikiTokensSeen = 0; yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 74: break;\n        case 29: \n          { currentTokType = INTERNAL_LINK; numWikiTokensSeen = 0;  yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 75: break;\n        case 30: \n          { yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 76: break;\n        case 31: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end italics*/\n          }\n        case 77: break;\n        case 32: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = INTERNAL_LINK;yybegin(INTERNAL_LINK_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 78: break;\n        case 33: \n          { positionInc = 1; return APOSTROPHE;\n          }\n        case 79: break;\n        case 34: \n          { positionInc = 1; return HOST;\n          }\n        case 80: break;\n        case 35: \n          { positionInc = 1; return NUM;\n          }\n        case 81: break;\n        case 36: \n          { positionInc = 1; return COMPANY;\n          }\n        case 82: break;\n        case 37: \n          { currentTokType = BOLD_ITALICS;  yybegin(FIVE_SINGLE_QUOTES_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 83: break;\n        case 38: \n          { numBalanced = 0;currentTokType = ALPHANUM;yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end bold*/\n          }\n        case 84: break;\n        case 39: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end sub header*/\n          }\n        case 85: break;\n        case 40: \n          { positionInc = 1; return ACRONYM;\n          }\n        case 86: break;\n        case 41: \n          { positionInc = 1; return EMAIL;\n          }\n        case 87: break;\n        case 42: \n          { numBalanced = 0;currentTokType = ALPHANUM; yybegin(YYINITIAL); /* Break so we don't hit fall-through warning: */ break;/*end bold italics*/\n          }\n        case 88: break;\n        case 43: \n          { positionInc = 1; numWikiTokensSeen++; yybegin(EXTERNAL_LINK_STATE); return currentTokType;\n          }\n        case 89: break;\n        case 44: \n          { numWikiTokensSeen = 0; positionInc = 1; currentTokType = CATEGORY; yybegin(CATEGORY_STATE);/* Break so we don't hit fall-through warning: */ break;\n          }\n        case 90: break;\n        case 45: \n          { currentTokType = CATEGORY; numWikiTokensSeen = 0; yybegin(CATEGORY_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 91: break;\n        case 46: \n          { numBalanced = 0; numWikiTokensSeen = 0; currentTokType = CATEGORY;yybegin(CATEGORY_STATE); /* Break so we don't hit fall-through warning: */ break;\n          }\n        case 92: break;\n        default: \n          if (zzInput == YYEOF && zzStartRead == zzCurrentPos) {\n            zzAtEOF = true;\n            return YYEOF;\n          } \n          else {\n            zzScanError(ZZ_NO_MATCH);\n          }\n      }\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"b89678825b68eccaf09e6ab71675fc0b0af1e099":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"b8c6c25f6bab8e32b731127f3516a593af8a3305":["4f0c6d69031c318c402abfe2543736076e80a132"],"4f0c6d69031c318c402abfe2543736076e80a132":["4093b270ba337f9c25a4c0e6cb2ae2c07f697376"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["b8c6c25f6bab8e32b731127f3516a593af8a3305"],"4093b270ba337f9c25a4c0e6cb2ae2c07f697376":["b89678825b68eccaf09e6ab71675fc0b0af1e099"]},"commit2Childs":{"b89678825b68eccaf09e6ab71675fc0b0af1e099":["4093b270ba337f9c25a4c0e6cb2ae2c07f697376"],"b8c6c25f6bab8e32b731127f3516a593af8a3305":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"4f0c6d69031c318c402abfe2543736076e80a132":["b8c6c25f6bab8e32b731127f3516a593af8a3305"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["b89678825b68eccaf09e6ab71675fc0b0af1e099"],"4093b270ba337f9c25a4c0e6cb2ae2c07f697376":["4f0c6d69031c318c402abfe2543736076e80a132"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}