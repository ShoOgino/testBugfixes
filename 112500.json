{"path":"solr/core/src/java/org/apache/solr/cloud/rule/Rule.Condition#Condition(String,Object).mjava","commits":[{"id":"8c7a6584aa35e033d783e02c6f4eefa6ad21c7fe","date":1430750405,"type":0,"author":"Noble Paul","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/cloud/rule/Rule.Condition#Condition(String,Object).mjava","pathOld":"/dev/null","sourceNew":"    Condition(String key, Object val) {\n      Object expectedVal;\n      boolean fuzzy = false;\n      if (val == null) throw new RuntimeException(\"value of  a tag cannot be null for key \" + key);\n      try {\n        this.name = key.trim();\n        String value = val.toString().trim();\n        if (value.endsWith(\"~\")) {\n          fuzzy = true;\n          value = value.substring(0, value.length() - 1);\n        }\n        if ((expectedVal = NOT_EQUAL.match(value)) != null) {\n          operand = NOT_EQUAL;\n        } else if ((expectedVal = GREATER_THAN.match(value)) != null) {\n          operand = GREATER_THAN;\n        } else if ((expectedVal = LESS_THAN.match(value)) != null) {\n          operand = LESS_THAN;\n        } else {\n          operand = EQUAL;\n          expectedVal = value;\n        }\n\n        if (name.equals(REPLICA_PROP)) {\n          if (!WILD_CARD.equals(expectedVal)) {\n            try {\n              expectedVal = Integer.parseInt(expectedVal.toString());\n            } catch (NumberFormatException e) {\n              throw new RuntimeException(\"The replica tag value can only be '*' or an integer\");\n            }\n          }\n        }\n\n      } catch (Exception e) {\n        throw new IllegalArgumentException(\"Invalid condition : \" + key + \":\" + val, e);\n      }\n      this.val = expectedVal;\n      this.fuzzy = fuzzy;\n\n    }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"8c7a6584aa35e033d783e02c6f4eefa6ad21c7fe":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["8c7a6584aa35e033d783e02c6f4eefa6ad21c7fe"]},"commit2Childs":{"8c7a6584aa35e033d783e02c6f4eefa6ad21c7fe":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["8c7a6584aa35e033d783e02c6f4eefa6ad21c7fe"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}