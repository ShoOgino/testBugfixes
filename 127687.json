{"path":"lucene/classification/src/test/org/apache/lucene/classification/utils/DataSplitterTest#assertSplit(AtomicReader,double,double,String...).mjava","commits":[{"id":"1d2ec95cdc45879e188017e6e9b00a9a23e5e8c3","date":1354172806,"type":0,"author":"Tommaso Teofili","isMerge":false,"pathNew":"lucene/classification/src/test/org/apache/lucene/classification/utils/DataSplitterTest#assertSplit(AtomicReader,double,double,String...).mjava","pathOld":"/dev/null","sourceNew":"  public static void assertSplit(AtomicReader originalIndex, double testRatio, double crossValidationRatio, String... fieldNames) throws Exception {\n\n    BaseDirectoryWrapper trainingIndex = newDirectory();\n    BaseDirectoryWrapper testIndex = newDirectory();\n    BaseDirectoryWrapper crossValidationIndex = newDirectory();\n\n    try {\n      DatasetSplitter datasetSplitter = new DatasetSplitter(testRatio, crossValidationRatio);\n      datasetSplitter.split(originalIndex, trainingIndex, testIndex, crossValidationIndex, new MockAnalyzer(new Random()), fieldNames);\n\n      assertNotNull(trainingIndex);\n      assertNotNull(testIndex);\n      assertNotNull(crossValidationIndex);\n\n      DirectoryReader trainingReader = DirectoryReader.open(trainingIndex);\n      assertTrue((int) (originalIndex.maxDoc() * (1d - testRatio - crossValidationRatio)) == trainingReader.maxDoc());\n      DirectoryReader testReader = DirectoryReader.open(testIndex);\n      assertTrue((int) (originalIndex.maxDoc() * testRatio) == testReader.maxDoc());\n      DirectoryReader cvReader = DirectoryReader.open(crossValidationIndex);\n      assertTrue((int) (originalIndex.maxDoc() * crossValidationRatio) == cvReader.maxDoc());\n\n      trainingReader.close();\n      testReader.close();\n      cvReader.close();\n      closeQuietly(trainingReader);\n      closeQuietly(testReader);\n      closeQuietly(cvReader);\n    } finally {\n      trainingIndex.close();\n      testIndex.close();\n      crossValidationIndex.close();\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"7a3e5484ad53b0938b88384f6c41f658a3971edd","date":1354176947,"type":3,"author":"Uwe Schindler","isMerge":false,"pathNew":"lucene/classification/src/test/org/apache/lucene/classification/utils/DataSplitterTest#assertSplit(AtomicReader,double,double,String...).mjava","pathOld":"lucene/classification/src/test/org/apache/lucene/classification/utils/DataSplitterTest#assertSplit(AtomicReader,double,double,String...).mjava","sourceNew":"  public static void assertSplit(AtomicReader originalIndex, double testRatio, double crossValidationRatio, String... fieldNames) throws Exception {\n\n    BaseDirectoryWrapper trainingIndex = newDirectory();\n    BaseDirectoryWrapper testIndex = newDirectory();\n    BaseDirectoryWrapper crossValidationIndex = newDirectory();\n\n    try {\n      DatasetSplitter datasetSplitter = new DatasetSplitter(testRatio, crossValidationRatio);\n      datasetSplitter.split(originalIndex, trainingIndex, testIndex, crossValidationIndex, new MockAnalyzer(random()), fieldNames);\n\n      assertNotNull(trainingIndex);\n      assertNotNull(testIndex);\n      assertNotNull(crossValidationIndex);\n\n      DirectoryReader trainingReader = DirectoryReader.open(trainingIndex);\n      assertTrue((int) (originalIndex.maxDoc() * (1d - testRatio - crossValidationRatio)) == trainingReader.maxDoc());\n      DirectoryReader testReader = DirectoryReader.open(testIndex);\n      assertTrue((int) (originalIndex.maxDoc() * testRatio) == testReader.maxDoc());\n      DirectoryReader cvReader = DirectoryReader.open(crossValidationIndex);\n      assertTrue((int) (originalIndex.maxDoc() * crossValidationRatio) == cvReader.maxDoc());\n\n      trainingReader.close();\n      testReader.close();\n      cvReader.close();\n      closeQuietly(trainingReader);\n      closeQuietly(testReader);\n      closeQuietly(cvReader);\n    } finally {\n      trainingIndex.close();\n      testIndex.close();\n      crossValidationIndex.close();\n    }\n  }\n\n","sourceOld":"  public static void assertSplit(AtomicReader originalIndex, double testRatio, double crossValidationRatio, String... fieldNames) throws Exception {\n\n    BaseDirectoryWrapper trainingIndex = newDirectory();\n    BaseDirectoryWrapper testIndex = newDirectory();\n    BaseDirectoryWrapper crossValidationIndex = newDirectory();\n\n    try {\n      DatasetSplitter datasetSplitter = new DatasetSplitter(testRatio, crossValidationRatio);\n      datasetSplitter.split(originalIndex, trainingIndex, testIndex, crossValidationIndex, new MockAnalyzer(new Random()), fieldNames);\n\n      assertNotNull(trainingIndex);\n      assertNotNull(testIndex);\n      assertNotNull(crossValidationIndex);\n\n      DirectoryReader trainingReader = DirectoryReader.open(trainingIndex);\n      assertTrue((int) (originalIndex.maxDoc() * (1d - testRatio - crossValidationRatio)) == trainingReader.maxDoc());\n      DirectoryReader testReader = DirectoryReader.open(testIndex);\n      assertTrue((int) (originalIndex.maxDoc() * testRatio) == testReader.maxDoc());\n      DirectoryReader cvReader = DirectoryReader.open(crossValidationIndex);\n      assertTrue((int) (originalIndex.maxDoc() * crossValidationRatio) == cvReader.maxDoc());\n\n      trainingReader.close();\n      testReader.close();\n      cvReader.close();\n      closeQuietly(trainingReader);\n      closeQuietly(testReader);\n      closeQuietly(cvReader);\n    } finally {\n      trainingIndex.close();\n      testIndex.close();\n      crossValidationIndex.close();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"407687e67faf6e1f02a211ca078d8e3eed631027","date":1355157407,"type":0,"author":"Robert Muir","isMerge":true,"pathNew":"lucene/classification/src/test/org/apache/lucene/classification/utils/DataSplitterTest#assertSplit(AtomicReader,double,double,String...).mjava","pathOld":"/dev/null","sourceNew":"  public static void assertSplit(AtomicReader originalIndex, double testRatio, double crossValidationRatio, String... fieldNames) throws Exception {\n\n    BaseDirectoryWrapper trainingIndex = newDirectory();\n    BaseDirectoryWrapper testIndex = newDirectory();\n    BaseDirectoryWrapper crossValidationIndex = newDirectory();\n\n    try {\n      DatasetSplitter datasetSplitter = new DatasetSplitter(testRatio, crossValidationRatio);\n      datasetSplitter.split(originalIndex, trainingIndex, testIndex, crossValidationIndex, new MockAnalyzer(random()), fieldNames);\n\n      assertNotNull(trainingIndex);\n      assertNotNull(testIndex);\n      assertNotNull(crossValidationIndex);\n\n      DirectoryReader trainingReader = DirectoryReader.open(trainingIndex);\n      assertTrue((int) (originalIndex.maxDoc() * (1d - testRatio - crossValidationRatio)) == trainingReader.maxDoc());\n      DirectoryReader testReader = DirectoryReader.open(testIndex);\n      assertTrue((int) (originalIndex.maxDoc() * testRatio) == testReader.maxDoc());\n      DirectoryReader cvReader = DirectoryReader.open(crossValidationIndex);\n      assertTrue((int) (originalIndex.maxDoc() * crossValidationRatio) == cvReader.maxDoc());\n\n      trainingReader.close();\n      testReader.close();\n      cvReader.close();\n      closeQuietly(trainingReader);\n      closeQuietly(testReader);\n      closeQuietly(cvReader);\n    } finally {\n      trainingIndex.close();\n      testIndex.close();\n      crossValidationIndex.close();\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"45ae8f6354b0826d27014deff71fe330604a9783","date":1378195819,"type":3,"author":"Tommaso Teofili","isMerge":false,"pathNew":"lucene/classification/src/test/org/apache/lucene/classification/utils/DataSplitterTest#assertSplit(AtomicReader,double,double,String...).mjava","pathOld":"lucene/classification/src/test/org/apache/lucene/classification/utils/DataSplitterTest#assertSplit(AtomicReader,double,double,String...).mjava","sourceNew":"  public static void assertSplit(AtomicReader originalIndex, double testRatio, double crossValidationRatio, String... fieldNames) throws Exception {\n\n    BaseDirectoryWrapper trainingIndex = newDirectory();\n    BaseDirectoryWrapper testIndex = newDirectory();\n    BaseDirectoryWrapper crossValidationIndex = newDirectory();\n\n    try {\n      DatasetSplitter datasetSplitter = new DatasetSplitter(testRatio, crossValidationRatio);\n      datasetSplitter.split(originalIndex, trainingIndex, testIndex, crossValidationIndex, new MockAnalyzer(random()), fieldNames);\n\n      assertNotNull(trainingIndex);\n      assertNotNull(testIndex);\n      assertNotNull(crossValidationIndex);\n\n      DirectoryReader trainingReader = DirectoryReader.open(trainingIndex);\n      assertTrue((int) (originalIndex.maxDoc() * (1d - testRatio - crossValidationRatio)) == trainingReader.maxDoc());\n      DirectoryReader testReader = DirectoryReader.open(testIndex);\n      assertTrue((int) (originalIndex.maxDoc() * testRatio) == testReader.maxDoc());\n      DirectoryReader cvReader = DirectoryReader.open(crossValidationIndex);\n      assertTrue((int) (originalIndex.maxDoc() * crossValidationRatio) == cvReader.maxDoc());\n\n      trainingReader.close();\n      testReader.close();\n      cvReader.close();\n      closeQuietly(trainingReader);\n      closeQuietly(testReader);\n      closeQuietly(cvReader);\n    } finally {\n      if (trainingIndex != null) {\n        trainingIndex.close();\n      }\n      if (testIndex != null) {\n        testIndex.close();\n      }\n      if (crossValidationIndex != null) {\n        crossValidationIndex.close();\n      }\n    }\n  }\n\n","sourceOld":"  public static void assertSplit(AtomicReader originalIndex, double testRatio, double crossValidationRatio, String... fieldNames) throws Exception {\n\n    BaseDirectoryWrapper trainingIndex = newDirectory();\n    BaseDirectoryWrapper testIndex = newDirectory();\n    BaseDirectoryWrapper crossValidationIndex = newDirectory();\n\n    try {\n      DatasetSplitter datasetSplitter = new DatasetSplitter(testRatio, crossValidationRatio);\n      datasetSplitter.split(originalIndex, trainingIndex, testIndex, crossValidationIndex, new MockAnalyzer(random()), fieldNames);\n\n      assertNotNull(trainingIndex);\n      assertNotNull(testIndex);\n      assertNotNull(crossValidationIndex);\n\n      DirectoryReader trainingReader = DirectoryReader.open(trainingIndex);\n      assertTrue((int) (originalIndex.maxDoc() * (1d - testRatio - crossValidationRatio)) == trainingReader.maxDoc());\n      DirectoryReader testReader = DirectoryReader.open(testIndex);\n      assertTrue((int) (originalIndex.maxDoc() * testRatio) == testReader.maxDoc());\n      DirectoryReader cvReader = DirectoryReader.open(crossValidationIndex);\n      assertTrue((int) (originalIndex.maxDoc() * crossValidationRatio) == cvReader.maxDoc());\n\n      trainingReader.close();\n      testReader.close();\n      cvReader.close();\n      closeQuietly(trainingReader);\n      closeQuietly(testReader);\n      closeQuietly(cvReader);\n    } finally {\n      trainingIndex.close();\n      testIndex.close();\n      crossValidationIndex.close();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"c9fb5f46e264daf5ba3860defe623a89d202dd87","date":1411516315,"type":4,"author":"Ryan Ernst","isMerge":false,"pathNew":"/dev/null","pathOld":"lucene/classification/src/test/org/apache/lucene/classification/utils/DataSplitterTest#assertSplit(AtomicReader,double,double,String...).mjava","sourceNew":null,"sourceOld":"  public static void assertSplit(AtomicReader originalIndex, double testRatio, double crossValidationRatio, String... fieldNames) throws Exception {\n\n    BaseDirectoryWrapper trainingIndex = newDirectory();\n    BaseDirectoryWrapper testIndex = newDirectory();\n    BaseDirectoryWrapper crossValidationIndex = newDirectory();\n\n    try {\n      DatasetSplitter datasetSplitter = new DatasetSplitter(testRatio, crossValidationRatio);\n      datasetSplitter.split(originalIndex, trainingIndex, testIndex, crossValidationIndex, new MockAnalyzer(random()), fieldNames);\n\n      assertNotNull(trainingIndex);\n      assertNotNull(testIndex);\n      assertNotNull(crossValidationIndex);\n\n      DirectoryReader trainingReader = DirectoryReader.open(trainingIndex);\n      assertTrue((int) (originalIndex.maxDoc() * (1d - testRatio - crossValidationRatio)) == trainingReader.maxDoc());\n      DirectoryReader testReader = DirectoryReader.open(testIndex);\n      assertTrue((int) (originalIndex.maxDoc() * testRatio) == testReader.maxDoc());\n      DirectoryReader cvReader = DirectoryReader.open(crossValidationIndex);\n      assertTrue((int) (originalIndex.maxDoc() * crossValidationRatio) == cvReader.maxDoc());\n\n      trainingReader.close();\n      testReader.close();\n      cvReader.close();\n      closeQuietly(trainingReader);\n      closeQuietly(testReader);\n      closeQuietly(cvReader);\n    } finally {\n      if (trainingIndex != null) {\n        trainingIndex.close();\n      }\n      if (testIndex != null) {\n        testIndex.close();\n      }\n      if (crossValidationIndex != null) {\n        crossValidationIndex.close();\n      }\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"407687e67faf6e1f02a211ca078d8e3eed631027":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","7a3e5484ad53b0938b88384f6c41f658a3971edd"],"7a3e5484ad53b0938b88384f6c41f658a3971edd":["1d2ec95cdc45879e188017e6e9b00a9a23e5e8c3"],"c9fb5f46e264daf5ba3860defe623a89d202dd87":["45ae8f6354b0826d27014deff71fe330604a9783"],"1d2ec95cdc45879e188017e6e9b00a9a23e5e8c3":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["c9fb5f46e264daf5ba3860defe623a89d202dd87"],"45ae8f6354b0826d27014deff71fe330604a9783":["7a3e5484ad53b0938b88384f6c41f658a3971edd"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["407687e67faf6e1f02a211ca078d8e3eed631027","1d2ec95cdc45879e188017e6e9b00a9a23e5e8c3"],"407687e67faf6e1f02a211ca078d8e3eed631027":[],"7a3e5484ad53b0938b88384f6c41f658a3971edd":["407687e67faf6e1f02a211ca078d8e3eed631027","45ae8f6354b0826d27014deff71fe330604a9783"],"1d2ec95cdc45879e188017e6e9b00a9a23e5e8c3":["7a3e5484ad53b0938b88384f6c41f658a3971edd"],"c9fb5f46e264daf5ba3860defe623a89d202dd87":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"45ae8f6354b0826d27014deff71fe330604a9783":["c9fb5f46e264daf5ba3860defe623a89d202dd87"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["407687e67faf6e1f02a211ca078d8e3eed631027","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}