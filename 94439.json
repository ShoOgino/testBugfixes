{"path":"lucene/core/src/java/org/apache/lucene/search/ImpactsDISI#advanceTarget(int).mjava","commits":[{"id":"2f2c13220a828a78007cedb364e22dd8986ed650","date":1527233410,"type":0,"author":"Adrien Grand","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/search/ImpactsDISI#advanceTarget(int).mjava","pathOld":"/dev/null","sourceNew":"  private int advanceTarget(int target) throws IOException {\n    if (target <= upTo) {\n      // we are still in the current block, which is considered competitive\n      // according to impacts, no skipping\n      return target;\n    }\n\n    upTo = advanceShallow(target);\n    maxScore = maxScoreCache.getMaxScoreForLevel(0);\n\n    while (true) {\n      assert upTo >= target;\n\n      if (maxScore >= minCompetitiveScore) {\n        return target;\n      }\n\n      if (upTo == NO_MORE_DOCS) {\n        return NO_MORE_DOCS;\n      }\n\n      final int skipUpTo = maxScoreCache.getSkipUpTo(minCompetitiveScore);\n      if (skipUpTo == -1) { // no further skipping\n        target = upTo + 1;\n      } else if (skipUpTo == NO_MORE_DOCS) {\n        return NO_MORE_DOCS;\n      } else {\n        target = skipUpTo + 1;\n      }\n      upTo = advanceShallow(target);\n      maxScore = maxScoreCache.getMaxScoreForLevel(0);\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"2f2c13220a828a78007cedb364e22dd8986ed650":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["2f2c13220a828a78007cedb364e22dd8986ed650"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["2f2c13220a828a78007cedb364e22dd8986ed650"],"2f2c13220a828a78007cedb364e22dd8986ed650":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}