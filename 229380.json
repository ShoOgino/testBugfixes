{"path":"lucene/luke/src/test/org/apache/lucene/luke/models/documents/DocumentsTestBase#createIndex().mjava","commits":[{"id":"f554f2d9b5456248ab6467b9d4f6015686797a6c","date":1554891357,"type":0,"author":"Tomoko Uchida","isMerge":false,"pathNew":"lucene/luke/src/test/org/apache/lucene/luke/models/documents/DocumentsTestBase#createIndex().mjava","pathOld":"/dev/null","sourceNew":"  protected void createIndex() throws IOException {\n    indexDir = createTempDir();\n\n    Directory dir = newFSDirectory(indexDir);\n    RandomIndexWriter writer = new RandomIndexWriter(random(), dir, new StandardAnalyzer());\n\n    FieldType titleType = new FieldType();\n    titleType.setIndexOptions(IndexOptions.DOCS_AND_FREQS);\n    titleType.setStored(true);\n    titleType.setTokenized(true);\n    titleType.setOmitNorms(true);\n\n    FieldType authorType = new FieldType();\n    authorType.setIndexOptions(IndexOptions.DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS);\n    authorType.setStored(true);\n    authorType.setTokenized(true);\n    authorType.setOmitNorms(false);\n\n    FieldType textType = new FieldType();\n    textType.setIndexOptions(IndexOptions.DOCS_AND_FREQS);\n    textType.setStored(false);\n    textType.setTokenized(true);\n    textType.setStoreTermVectors(true);\n    textType.setOmitNorms(false);\n\n    FieldType downloadsType = new FieldType();\n    downloadsType.setDimensions(1, Integer.BYTES);\n    downloadsType.setStored(true);\n\n    Document doc1 = new Document();\n    doc1.add(newField(\"title\", \"Pride and Prejudice\", titleType));\n    doc1.add(newField(\"author\", \"Jane Austen\", authorType));\n    doc1.add(newField(\"text\",\n        \"It is a truth universally acknowledged, that a single man in possession of a good fortune, must be in want of a wife.\",\n        textType));\n    doc1.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Fiction\")));\n    doc1.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Love stories\")));\n    doc1.add(new Field(\"downloads\", packInt(28533), downloadsType));\n    writer.addDocument(doc1);\n\n    Document doc2 = new Document();\n    doc2.add(newField(\"title\", \"Alice's Adventures in Wonderland\", titleType));\n    doc2.add(newField(\"author\", \"Lewis Carroll\", authorType));\n    doc2.add(newField(\"text\", \"Alice was beginning to get very tired of sitting by her sister on the bank, and of having nothing to do: once or twice she had peeped into the book her sister was reading, but it had no pictures or conversations in it, ‘and what is the use of a book,’ thought Alice ‘without pictures or conversations?’\",\n        textType));\n    doc2.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Fantasy literature\")));\n    doc2.add(new Field(\"downloads\", packInt(18712), downloadsType));\n    writer.addDocument(doc2);\n\n    Document doc3 = new Document();\n    doc3.add(newField(\"title\", \"Frankenstein; Or, The Modern Prometheus\", titleType));\n    doc3.add(newField(\"author\", \"Mary Wollstonecraft Shelley\", authorType));\n    doc3.add(newField(\"text\", \"You will rejoice to hear that no disaster has accompanied the commencement of an enterprise which you have regarded with such evil forebodings. I arrived here yesterday, and my first task is to assure my dear sister of my welfare and increasing confidence in the success of my undertaking.\",\n        textType));\n    doc3.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Science fiction\")));\n    doc3.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Horror tales\")));\n    doc3.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Monsters\")));\n    doc3.add(new Field(\"downloads\", packInt(14737), downloadsType));\n    writer.addDocument(doc3);\n\n    Document doc4 = new Document();\n    doc4.add(newField(\"title\", \"A Doll's House : a play\", titleType));\n    doc4.add(newField(\"author\", \"Henrik Ibsen\", authorType));\n    doc4.add(newField(\"text\", \"\",\n        textType));\n    doc4.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Drama\")));\n    doc4.add(new Field(\"downloads\", packInt(14629), downloadsType));\n    writer.addDocument(doc4);\n\n    Document doc5 = new Document();\n    doc5.add(newField(\"title\", \"The Adventures of Sherlock Holmes\", titleType));\n    doc5.add(newField(\"author\", \"Arthur Conan Doyle\", authorType));\n    doc5.add(newField(\"text\", \"To Sherlock Holmes she is always the woman. I have seldom heard him mention her under any other name. In his eyes she eclipses and predominates the whole of her sex.\",\n        textType));\n    doc5.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Fiction\")));\n    doc5.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Detective and mystery stories\")));\n    doc5.add(new Field(\"downloads\", packInt(12828), downloadsType));\n    writer.addDocument(doc5);\n\n    writer.commit();\n\n    writer.close();\n    dir.close();\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"c26db67c00b0a41e493a7627288a6c186da32719","date":1555572429,"type":3,"author":"Adrien Grand","isMerge":false,"pathNew":"lucene/luke/src/test/org/apache/lucene/luke/models/documents/DocumentsTestBase#createIndex().mjava","pathOld":"lucene/luke/src/test/org/apache/lucene/luke/models/documents/DocumentsTestBase#createIndex().mjava","sourceNew":"  protected void createIndex() throws IOException {\n    indexDir = createTempDir();\n\n    Directory dir = newFSDirectory(indexDir);\n    RandomIndexWriter writer = new RandomIndexWriter(random(), dir, new StandardAnalyzer());\n\n    FieldType titleType = new FieldType();\n    titleType.setIndexOptions(IndexOptions.DOCS_AND_FREQS);\n    titleType.setStored(true);\n    titleType.setTokenized(true);\n    titleType.setOmitNorms(true);\n\n    FieldType authorType = new FieldType();\n    authorType.setIndexOptions(IndexOptions.DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS);\n    authorType.setStored(true);\n    authorType.setTokenized(true);\n    authorType.setOmitNorms(false);\n\n    FieldType textType = new FieldType();\n    textType.setIndexOptions(IndexOptions.DOCS_AND_FREQS);\n    textType.setStored(false);\n    textType.setTokenized(true);\n    textType.setStoreTermVectors(true);\n    textType.setOmitNorms(false);\n\n    FieldType downloadsType = new FieldType();\n    downloadsType.setDimensions(1, Integer.BYTES);\n    downloadsType.setStored(true);\n\n    Document doc1 = new Document();\n    doc1.add(new Field(\"title\", \"Pride and Prejudice\", titleType));\n    doc1.add(new Field(\"author\", \"Jane Austen\", authorType));\n    doc1.add(new Field(\"text\",\n        \"It is a truth universally acknowledged, that a single man in possession of a good fortune, must be in want of a wife.\",\n        textType));\n    doc1.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Fiction\")));\n    doc1.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Love stories\")));\n    doc1.add(new Field(\"downloads\", packInt(28533), downloadsType));\n    writer.addDocument(doc1);\n\n    Document doc2 = new Document();\n    doc2.add(new Field(\"title\", \"Alice's Adventures in Wonderland\", titleType));\n    doc2.add(new Field(\"author\", \"Lewis Carroll\", authorType));\n    doc2.add(new Field(\"text\", \"Alice was beginning to get very tired of sitting by her sister on the bank, and of having nothing to do: once or twice she had peeped into the book her sister was reading, but it had no pictures or conversations in it, ‘and what is the use of a book,’ thought Alice ‘without pictures or conversations?’\",\n        textType));\n    doc2.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Fantasy literature\")));\n    doc2.add(new Field(\"downloads\", packInt(18712), downloadsType));\n    writer.addDocument(doc2);\n\n    Document doc3 = new Document();\n    doc3.add(new Field(\"title\", \"Frankenstein; Or, The Modern Prometheus\", titleType));\n    doc3.add(new Field(\"author\", \"Mary Wollstonecraft Shelley\", authorType));\n    doc3.add(new Field(\"text\", \"You will rejoice to hear that no disaster has accompanied the commencement of an enterprise which you have regarded with such evil forebodings. I arrived here yesterday, and my first task is to assure my dear sister of my welfare and increasing confidence in the success of my undertaking.\",\n        textType));\n    doc3.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Science fiction\")));\n    doc3.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Horror tales\")));\n    doc3.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Monsters\")));\n    doc3.add(new Field(\"downloads\", packInt(14737), downloadsType));\n    writer.addDocument(doc3);\n\n    Document doc4 = new Document();\n    doc4.add(new Field(\"title\", \"A Doll's House : a play\", titleType));\n    doc4.add(new Field(\"author\", \"Henrik Ibsen\", authorType));\n    doc4.add(new Field(\"text\", \"\",\n        textType));\n    doc4.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Drama\")));\n    doc4.add(new Field(\"downloads\", packInt(14629), downloadsType));\n    writer.addDocument(doc4);\n\n    Document doc5 = new Document();\n    doc5.add(new Field(\"title\", \"The Adventures of Sherlock Holmes\", titleType));\n    doc5.add(new Field(\"author\", \"Arthur Conan Doyle\", authorType));\n    doc5.add(new Field(\"text\", \"To Sherlock Holmes she is always the woman. I have seldom heard him mention her under any other name. In his eyes she eclipses and predominates the whole of her sex.\",\n        textType));\n    doc5.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Fiction\")));\n    doc5.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Detective and mystery stories\")));\n    doc5.add(new Field(\"downloads\", packInt(12828), downloadsType));\n    writer.addDocument(doc5);\n\n    writer.commit();\n\n    writer.close();\n    dir.close();\n  }\n\n","sourceOld":"  protected void createIndex() throws IOException {\n    indexDir = createTempDir();\n\n    Directory dir = newFSDirectory(indexDir);\n    RandomIndexWriter writer = new RandomIndexWriter(random(), dir, new StandardAnalyzer());\n\n    FieldType titleType = new FieldType();\n    titleType.setIndexOptions(IndexOptions.DOCS_AND_FREQS);\n    titleType.setStored(true);\n    titleType.setTokenized(true);\n    titleType.setOmitNorms(true);\n\n    FieldType authorType = new FieldType();\n    authorType.setIndexOptions(IndexOptions.DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS);\n    authorType.setStored(true);\n    authorType.setTokenized(true);\n    authorType.setOmitNorms(false);\n\n    FieldType textType = new FieldType();\n    textType.setIndexOptions(IndexOptions.DOCS_AND_FREQS);\n    textType.setStored(false);\n    textType.setTokenized(true);\n    textType.setStoreTermVectors(true);\n    textType.setOmitNorms(false);\n\n    FieldType downloadsType = new FieldType();\n    downloadsType.setDimensions(1, Integer.BYTES);\n    downloadsType.setStored(true);\n\n    Document doc1 = new Document();\n    doc1.add(newField(\"title\", \"Pride and Prejudice\", titleType));\n    doc1.add(newField(\"author\", \"Jane Austen\", authorType));\n    doc1.add(newField(\"text\",\n        \"It is a truth universally acknowledged, that a single man in possession of a good fortune, must be in want of a wife.\",\n        textType));\n    doc1.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Fiction\")));\n    doc1.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Love stories\")));\n    doc1.add(new Field(\"downloads\", packInt(28533), downloadsType));\n    writer.addDocument(doc1);\n\n    Document doc2 = new Document();\n    doc2.add(newField(\"title\", \"Alice's Adventures in Wonderland\", titleType));\n    doc2.add(newField(\"author\", \"Lewis Carroll\", authorType));\n    doc2.add(newField(\"text\", \"Alice was beginning to get very tired of sitting by her sister on the bank, and of having nothing to do: once or twice she had peeped into the book her sister was reading, but it had no pictures or conversations in it, ‘and what is the use of a book,’ thought Alice ‘without pictures or conversations?’\",\n        textType));\n    doc2.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Fantasy literature\")));\n    doc2.add(new Field(\"downloads\", packInt(18712), downloadsType));\n    writer.addDocument(doc2);\n\n    Document doc3 = new Document();\n    doc3.add(newField(\"title\", \"Frankenstein; Or, The Modern Prometheus\", titleType));\n    doc3.add(newField(\"author\", \"Mary Wollstonecraft Shelley\", authorType));\n    doc3.add(newField(\"text\", \"You will rejoice to hear that no disaster has accompanied the commencement of an enterprise which you have regarded with such evil forebodings. I arrived here yesterday, and my first task is to assure my dear sister of my welfare and increasing confidence in the success of my undertaking.\",\n        textType));\n    doc3.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Science fiction\")));\n    doc3.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Horror tales\")));\n    doc3.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Monsters\")));\n    doc3.add(new Field(\"downloads\", packInt(14737), downloadsType));\n    writer.addDocument(doc3);\n\n    Document doc4 = new Document();\n    doc4.add(newField(\"title\", \"A Doll's House : a play\", titleType));\n    doc4.add(newField(\"author\", \"Henrik Ibsen\", authorType));\n    doc4.add(newField(\"text\", \"\",\n        textType));\n    doc4.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Drama\")));\n    doc4.add(new Field(\"downloads\", packInt(14629), downloadsType));\n    writer.addDocument(doc4);\n\n    Document doc5 = new Document();\n    doc5.add(newField(\"title\", \"The Adventures of Sherlock Holmes\", titleType));\n    doc5.add(newField(\"author\", \"Arthur Conan Doyle\", authorType));\n    doc5.add(newField(\"text\", \"To Sherlock Holmes she is always the woman. I have seldom heard him mention her under any other name. In his eyes she eclipses and predominates the whole of her sex.\",\n        textType));\n    doc5.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Fiction\")));\n    doc5.add(new SortedSetDocValuesField(\"subject\", new BytesRef(\"Detective and mystery stories\")));\n    doc5.add(new Field(\"downloads\", packInt(12828), downloadsType));\n    writer.addDocument(doc5);\n\n    writer.commit();\n\n    writer.close();\n    dir.close();\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"c26db67c00b0a41e493a7627288a6c186da32719":["f554f2d9b5456248ab6467b9d4f6015686797a6c"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"f554f2d9b5456248ab6467b9d4f6015686797a6c":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["c26db67c00b0a41e493a7627288a6c186da32719"]},"commit2Childs":{"c26db67c00b0a41e493a7627288a6c186da32719":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["f554f2d9b5456248ab6467b9d4f6015686797a6c"],"f554f2d9b5456248ab6467b9d4f6015686797a6c":["c26db67c00b0a41e493a7627288a6c186da32719"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}