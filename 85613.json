{"path":"solr/contrib/ltr/src/java/org/apache/solr/ltr/model/NeuralNetworkModel.DefaultLayer#validate(int).mjava","commits":[{"id":"ef667cf0740be872811ddbabc4952c3a21c1fa2e","date":1520015275,"type":0,"author":"Christine Poerschke","isMerge":false,"pathNew":"solr/contrib/ltr/src/java/org/apache/solr/ltr/model/NeuralNetworkModel.DefaultLayer#validate(int).mjava","pathOld":"/dev/null","sourceNew":"    public int validate(int inputDim) throws ModelException {\n      if (this.numUnits != this.matrixRows) {\n        throw new ModelException(\"Dimension mismatch in model \\\"\"  + name +  \"\\\". Layer \" +\n                                 Integer.toString(this.layerID) + \" has \" + Integer.toString(this.numUnits) +\n                                 \" bias weights but \" + Integer.toString(this.matrixRows) + \" weight matrix rows.\");\n      }\n      if (this.activation == null) {\n        throw new ModelException(\"Invalid activation function (\\\"\"+this.activationStr+\"\\\") in layer \"+Integer.toString(this.layerID)+\" of model \\\"\" + name + \"\\\".\");\n      }\n      if (inputDim != this.matrixCols) {\n        if (this.layerID == 0) {\n          throw new ModelException(\"Dimension mismatch in model \\\"\" + name + \"\\\". The input has \" +\n                                   Integer.toString(inputDim) + \" features, but the weight matrix for layer 0 has \" +\n                                   Integer.toString(this.matrixCols) + \" columns.\");\n        } else {\n          throw new ModelException(\"Dimension mismatch in model \\\"\" + name + \"\\\". The weight matrix for layer \" +\n                                   Integer.toString(this.layerID - 1) + \" has \" + Integer.toString(inputDim) + \" rows, but the \" +\n                                   \"weight matrix for layer \" + Integer.toString(this.layerID) + \" has \" +\n                                   Integer.toString(this.matrixCols) + \" columns.\");\n        }\n      }\n      return this.matrixRows;\n    }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"ef667cf0740be872811ddbabc4952c3a21c1fa2e":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["ef667cf0740be872811ddbabc4952c3a21c1fa2e"]},"commit2Childs":{"ef667cf0740be872811ddbabc4952c3a21c1fa2e":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["ef667cf0740be872811ddbabc4952c3a21c1fa2e"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}