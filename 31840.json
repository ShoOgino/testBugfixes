{"path":"solr/core/src/test/org/apache/solr/update/TransactionLogTest#testUUID().mjava","commits":[{"id":"293f00d1caf419a7bfacb997c982715cc8eb9b73","date":1560380201,"type":0,"author":"Thomas WÃ¶ckinger","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/update/TransactionLogTest#testUUID().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testUUID() throws IOException, InterruptedException {\n    String tlogFileName = String.format(Locale.ROOT, UpdateLog.LOG_FILENAME_PATTERN, UpdateLog.TLOG_NAME,\n        Long.MAX_VALUE);\n    Path path = createTempDir();\n    File logFile = new File(path.toFile(), tlogFileName);\n    UUID uuid = UUID.randomUUID();\n    try (TransactionLog tlog = new TransactionLog(logFile, new ArrayList<>())) {\n      tlog.deleteOnClose = false;\n      AddUpdateCommand updateCommand = new AddUpdateCommand(null);\n\n      SolrInputDocument doc = new SolrInputDocument();\n      doc.addField(\"uuid\", uuid);\n      updateCommand.solrDoc = doc;\n\n      tlog.write(updateCommand);\n    }\n\n    try (TransactionLog tlog = new TransactionLog(logFile, new ArrayList<>(), true)) {\n      LogReader reader = tlog.getReader(0);\n      Object entry = reader.next();\n      assertNotNull(entry);\n      SolrInputDocument doc = (SolrInputDocument) ((List<?>) entry).get(2);\n      assertEquals(uuid, (UUID) doc.getFieldValue(\"uuid\"));\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"293f00d1caf419a7bfacb997c982715cc8eb9b73":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["293f00d1caf419a7bfacb997c982715cc8eb9b73"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["293f00d1caf419a7bfacb997c982715cc8eb9b73"],"293f00d1caf419a7bfacb997c982715cc8eb9b73":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}