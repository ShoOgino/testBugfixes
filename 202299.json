{"path":"solr/core/src/java/org/apache/solr/handler/ReplicationHandler#deleteSnapshot(ModifiableSolrParams,SolrQueryResponse).mjava","commits":[{"id":"5cb65c1c2f90852e718f86c8be09beb1c4dba408","date":1543785784,"type":1,"author":"Jason Gerlowski","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/handler/ReplicationHandler#deleteSnapshot(ModifiableSolrParams,SolrQueryResponse).mjava","pathOld":"solr/core/src/java/org/apache/solr/handler/ReplicationHandler#deleteSnapshot(ModifiableSolrParams).mjava","sourceNew":"  private void deleteSnapshot(ModifiableSolrParams params, SolrQueryResponse rsp) {\n    String name = params.required().get(NAME);\n\n    SnapShooter snapShooter = new SnapShooter(core, params.get(CoreAdminParams.BACKUP_LOCATION), params.get(NAME));\n    snapShooter.validateDeleteSnapshot();\n    snapShooter.deleteSnapAsync(this);\n    rsp.add(STATUS, OK_STATUS);\n  }\n\n","sourceOld":"  private void deleteSnapshot(ModifiableSolrParams params) {\n    String name = params.get(NAME);\n    if(name == null) {\n      throw new SolrException(ErrorCode.BAD_REQUEST, \"Missing mandatory param: name\");\n    }\n\n    SnapShooter snapShooter = new SnapShooter(core, params.get(CoreAdminParams.BACKUP_LOCATION), params.get(NAME));\n    snapShooter.validateDeleteSnapshot();\n    snapShooter.deleteSnapAsync(this);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"a6b17e67903ace8abb1d4d602bfc40d1994692ff","date":1593429504,"type":3,"author":"Jan HÃ¸ydahl","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/handler/ReplicationHandler#deleteSnapshot(ModifiableSolrParams,SolrQueryResponse).mjava","pathOld":"solr/core/src/java/org/apache/solr/handler/ReplicationHandler#deleteSnapshot(ModifiableSolrParams,SolrQueryResponse).mjava","sourceNew":"  @SuppressWarnings(\"deprecation\")\n  private void deleteSnapshot(ModifiableSolrParams params, SolrQueryResponse rsp) {\n    params.required().get(NAME);\n\n    String location = params.get(CoreAdminParams.BACKUP_LOCATION);\n    core.getCoreContainer().assertPathAllowed(location == null ? null : Path.of(location));\n    SnapShooter snapShooter = new SnapShooter(core, location, params.get(NAME));\n    snapShooter.validateDeleteSnapshot();\n    snapShooter.deleteSnapAsync(this);\n    rsp.add(STATUS, OK_STATUS);\n  }\n\n","sourceOld":"  private void deleteSnapshot(ModifiableSolrParams params, SolrQueryResponse rsp) {\n    String name = params.required().get(NAME);\n\n    SnapShooter snapShooter = new SnapShooter(core, params.get(CoreAdminParams.BACKUP_LOCATION), params.get(NAME));\n    snapShooter.validateDeleteSnapshot();\n    snapShooter.deleteSnapAsync(this);\n    rsp.add(STATUS, OK_STATUS);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a6b17e67903ace8abb1d4d602bfc40d1994692ff":["5cb65c1c2f90852e718f86c8be09beb1c4dba408"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"5cb65c1c2f90852e718f86c8be09beb1c4dba408":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["a6b17e67903ace8abb1d4d602bfc40d1994692ff"]},"commit2Childs":{"a6b17e67903ace8abb1d4d602bfc40d1994692ff":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["5cb65c1c2f90852e718f86c8be09beb1c4dba408"],"5cb65c1c2f90852e718f86c8be09beb1c4dba408":["a6b17e67903ace8abb1d4d602bfc40d1994692ff"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}