{"path":"solr/core/src/test/org/apache/solr/search/TestTrieFacet#doTestNoZeros(String,String).mjava","commits":[{"id":"7249bf663236743660155abfc0941aebf4245391","date":1433953380,"type":0,"author":"Chris M. Hostetter","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/TestTrieFacet#doTestNoZeros(String,String).mjava","pathOld":"/dev/null","sourceNew":"  private static void doTestNoZeros(final String field, final String method) throws Exception {\n\n    assertQ(\"sanity check # docs in index: \" + NUM_DOCS,\n            req(\"q\", \"*:*\", \"rows\", \"0\")\n            ,\"//result[@numFound=\"+NUM_DOCS+\"]\");\n    assertQ(\"sanity check that no docs match 0 failed\",\n            req(\"q\", field+\":0\", \"rows\", \"0\")\n            ,\"//result[@numFound=0]\");\n    assertQ(\"sanity check that no docs match [0 TO 0] failed\",\n            req(\"q\", field+\":[0 TO 0]\", \"rows\", \"0\")\n            ,\"//result[@numFound=0]\");\n                \n    assertQ(\"*:* facet with mincount 0 found unexpected 0 value\",\n            req(\"q\", \"*:*\"\n                ,\"rows\", \"0\"\n                ,\"indent\",\"true\"\n                ,\"facet\", \"true\"\n                ,\"facet.field\", field\n                ,\"facet.limit\", \"-1\"\n                ,\"facet.mincount\", \"0\"\n                ,\"facet.method\", method\n                )\n            // trivial sanity check we're at least getting facet counts in output\n            ,\"*[count(//lst[@name='facet_fields']/lst[@name='\"+field+\"']/int)!=0]\"\n            // main point of test\n            ,\"*[count(//lst[@name='facet_fields']/lst[@name='\"+field+\"']/int[@name='0'])=0]\"\n            );\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"7249bf663236743660155abfc0941aebf4245391":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["7249bf663236743660155abfc0941aebf4245391"]},"commit2Childs":{"7249bf663236743660155abfc0941aebf4245391":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["7249bf663236743660155abfc0941aebf4245391"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}