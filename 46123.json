{"path":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","commits":[{"id":"aa75c94645bfc8da99a503e2018fd71899cbf9f2","date":1404877329,"type":0,"author":"David Wayne Smiley","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","pathOld":"/dev/null","sourceNew":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String s) {\n    BBoxStrategy strategy = new BBoxStrategy(ctx, s);\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a field with a dummy value.\n    SchemaField field = schema.getField(strategy.getFieldName() + BBoxStrategy.SUFFIX_MINX);\n    strategy.setFieldType((org.apache.lucene.document.FieldType) field.createField(0.0, 1.0f).fieldType());\n    return strategy;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":["aaa4203f9b7fbc832b95b0ab5f986b81cd12aae4","2a44d91ba112b5986f9411955e116445c92a37f0"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"d120d3be84a0dd18bc332541aa4eea9d90b192b1","date":1404937897,"type":3,"author":"David Wayne Smiley","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","pathOld":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","sourceNew":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String s) {\n    BBoxStrategy strategy = new BBoxStrategy(ctx, s);\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    SchemaField field = schema.getField(strategy.getFieldName() + BBoxStrategy.SUFFIX_MINX);\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) field.createField(0.0, 1.0f).fieldType();\n    //and annoyingly this field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (field.hasDocValues()) {\n      luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      luceneType.setDocValueType(FieldInfo.DocValuesType.NUMERIC);\n    }\n    strategy.setFieldType(luceneType);\n    return strategy;\n  }\n\n","sourceOld":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String s) {\n    BBoxStrategy strategy = new BBoxStrategy(ctx, s);\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a field with a dummy value.\n    SchemaField field = schema.getField(strategy.getFieldName() + BBoxStrategy.SUFFIX_MINX);\n    strategy.setFieldType((org.apache.lucene.document.FieldType) field.createField(0.0, 1.0f).fieldType());\n    return strategy;\n  }\n\n","bugFix":null,"bugIntro":["aaa4203f9b7fbc832b95b0ab5f986b81cd12aae4","2a44d91ba112b5986f9411955e116445c92a37f0"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"2bb2842e561df4e8e9ad89010605fc86ac265465","date":1414768208,"type":3,"author":"Michael McCandless","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","pathOld":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","sourceNew":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String s) {\n    BBoxStrategy strategy = new BBoxStrategy(ctx, s);\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    SchemaField field = schema.getField(strategy.getFieldName() + BBoxStrategy.SUFFIX_MINX);\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) field.createField(0.0, 1.0f).fieldType();\n    //and annoyingly this field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (field.hasDocValues()) {\n      luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      luceneType.setDocValueType(DocValuesType.NUMERIC);\n    }\n    strategy.setFieldType(luceneType);\n    return strategy;\n  }\n\n","sourceOld":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String s) {\n    BBoxStrategy strategy = new BBoxStrategy(ctx, s);\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    SchemaField field = schema.getField(strategy.getFieldName() + BBoxStrategy.SUFFIX_MINX);\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) field.createField(0.0, 1.0f).fieldType();\n    //and annoyingly this field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (field.hasDocValues()) {\n      luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      luceneType.setDocValueType(FieldInfo.DocValuesType.NUMERIC);\n    }\n    strategy.setFieldType(luceneType);\n    return strategy;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"eac6ccb51c439bec7f67cb0e299d3cb77b62b87e","date":1415435053,"type":3,"author":"Michael McCandless","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","pathOld":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","sourceNew":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String s) {\n    BBoxStrategy strategy = new BBoxStrategy(ctx, s);\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    SchemaField field = schema.getField(strategy.getFieldName() + BBoxStrategy.SUFFIX_MINX);\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) field.createField(0.0, 1.0f).fieldType();\n    //and annoyingly this field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (field.hasDocValues()) {\n      luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    strategy.setFieldType(luceneType);\n    return strategy;\n  }\n\n","sourceOld":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String s) {\n    BBoxStrategy strategy = new BBoxStrategy(ctx, s);\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    SchemaField field = schema.getField(strategy.getFieldName() + BBoxStrategy.SUFFIX_MINX);\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) field.createField(0.0, 1.0f).fieldType();\n    //and annoyingly this field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (field.hasDocValues()) {\n      luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      luceneType.setDocValueType(DocValuesType.NUMERIC);\n    }\n    strategy.setFieldType(luceneType);\n    return strategy;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"2a44d91ba112b5986f9411955e116445c92a37f0","date":1416887019,"type":3,"author":"David Wayne Smiley","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","pathOld":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","sourceNew":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    BBoxStrategy strategy = new BBoxStrategy(ctx, fieldName);\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0, 1.0f).fieldType();\n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    strategy.setFieldType(luceneType);\n    return strategy;\n  }\n\n","sourceOld":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String s) {\n    BBoxStrategy strategy = new BBoxStrategy(ctx, s);\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    SchemaField field = schema.getField(strategy.getFieldName() + BBoxStrategy.SUFFIX_MINX);\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) field.createField(0.0, 1.0f).fieldType();\n    //and annoyingly this field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (field.hasDocValues()) {\n      luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    strategy.setFieldType(luceneType);\n    return strategy;\n  }\n\n","bugFix":["aa75c94645bfc8da99a503e2018fd71899cbf9f2","d120d3be84a0dd18bc332541aa4eea9d90b192b1"],"bugIntro":["aaa4203f9b7fbc832b95b0ab5f986b81cd12aae4"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"bd1bb7e9fe9837323db8839b55add94108ab0041","date":1428637070,"type":3,"author":"Ryan McKinley","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","pathOld":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","sourceNew":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    BBoxStrategy strategy = new BBoxStrategy(ctx, fieldName);\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0, 1.0f).fieldType();\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    strategy.setFieldType(luceneType);\n    return strategy;\n  }\n\n","sourceOld":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    BBoxStrategy strategy = new BBoxStrategy(ctx, fieldName);\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0, 1.0f).fieldType();\n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    strategy.setFieldType(luceneType);\n    return strategy;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"aaa4203f9b7fbc832b95b0ab5f986b81cd12aae4","date":1459379660,"type":3,"author":"nknize","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","pathOld":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","sourceNew":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0, 1.0f).fieldType();\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    return new BBoxStrategy(ctx, fieldName, luceneType);\n  }\n\n","sourceOld":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    BBoxStrategy strategy = new BBoxStrategy(ctx, fieldName);\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0, 1.0f).fieldType();\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    strategy.setFieldType(luceneType);\n    return strategy;\n  }\n\n","bugFix":["aa75c94645bfc8da99a503e2018fd71899cbf9f2","d120d3be84a0dd18bc332541aa4eea9d90b192b1","2a44d91ba112b5986f9411955e116445c92a37f0"],"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"5af5ba0166322092193d4c29880b0f7670fc7ca0","date":1471440525,"type":3,"author":"Robert Muir","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","pathOld":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","sourceNew":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0, 1.0f).fieldType();\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      if (luceneType instanceof LegacyFieldType) {\n        luceneType = new LegacyFieldType((LegacyFieldType)luceneType);\n      } else {\n        luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      }\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    return new BBoxStrategy(ctx, fieldName, luceneType);\n  }\n\n","sourceOld":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0, 1.0f).fieldType();\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    return new BBoxStrategy(ctx, fieldName, luceneType);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"2c8bedceb91e64a3f0e831450058fc4a76d2c0a6","date":1471496851,"type":3,"author":"Noble Paul","isMerge":true,"pathNew":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","pathOld":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","sourceNew":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0, 1.0f).fieldType();\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      if (luceneType instanceof LegacyFieldType) {\n        luceneType = new LegacyFieldType((LegacyFieldType)luceneType);\n      } else {\n        luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      }\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    return new BBoxStrategy(ctx, fieldName, luceneType);\n  }\n\n","sourceOld":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0, 1.0f).fieldType();\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    return new BBoxStrategy(ctx, fieldName, luceneType);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"403d05f7f8d69b65659157eff1bc1d2717f04c66","date":1471692961,"type":3,"author":"Karl Wright","isMerge":true,"pathNew":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","pathOld":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","sourceNew":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0, 1.0f).fieldType();\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      if (luceneType instanceof LegacyFieldType) {\n        luceneType = new LegacyFieldType((LegacyFieldType)luceneType);\n      } else {\n        luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      }\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    return new BBoxStrategy(ctx, fieldName, luceneType);\n  }\n\n","sourceOld":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0, 1.0f).fieldType();\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    return new BBoxStrategy(ctx, fieldName, luceneType);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"4cce5816ef15a48a0bc11e5d400497ee4301dd3b","date":1476991456,"type":3,"author":"Kevin Risden","isMerge":true,"pathNew":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","pathOld":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","sourceNew":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0, 1.0f).fieldType();\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      if (luceneType instanceof LegacyFieldType) {\n        luceneType = new LegacyFieldType((LegacyFieldType)luceneType);\n      } else {\n        luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      }\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    return new BBoxStrategy(ctx, fieldName, luceneType);\n  }\n\n","sourceOld":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0, 1.0f).fieldType();\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    return new BBoxStrategy(ctx, fieldName, luceneType);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"acd9883560fd89e6448b2b447302fe543040cd4f","date":1488478696,"type":3,"author":"Adrien Grand","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","pathOld":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","sourceNew":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0).fieldType();\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      if (luceneType instanceof LegacyFieldType) {\n        luceneType = new LegacyFieldType((LegacyFieldType)luceneType);\n      } else {\n        luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      }\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    return new BBoxStrategy(ctx, fieldName, luceneType);\n  }\n\n","sourceOld":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0, 1.0f).fieldType();\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      if (luceneType instanceof LegacyFieldType) {\n        luceneType = new LegacyFieldType((LegacyFieldType)luceneType);\n      } else {\n        luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      }\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    return new BBoxStrategy(ctx, fieldName, luceneType);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"c939830c5ef00597037daf5dde07e64e5df61e2a","date":1497546065,"type":3,"author":"Steve Rowe","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","pathOld":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","sourceNew":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0).fieldType();\n    if ( ! (luceneType instanceof LegacyFieldType)) {\n      luceneType = new org.apache.lucene.document.FieldType(luceneType);\n    }\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      if (luceneType instanceof LegacyFieldType) {\n        luceneType = new LegacyFieldType((LegacyFieldType)luceneType);\n      } else {\n        luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      }\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    return new BBoxStrategy(ctx, fieldName, luceneType);\n  }\n\n","sourceOld":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0).fieldType();\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      if (luceneType instanceof LegacyFieldType) {\n        luceneType = new LegacyFieldType((LegacyFieldType)luceneType);\n      } else {\n        luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      }\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    return new BBoxStrategy(ctx, fieldName, luceneType);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9","date":1498028748,"type":3,"author":"Shalin Shekhar Mangar","isMerge":true,"pathNew":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","pathOld":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","sourceNew":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0).fieldType();\n    if ( ! (luceneType instanceof LegacyFieldType)) {\n      luceneType = new org.apache.lucene.document.FieldType(luceneType);\n    }\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      if (luceneType instanceof LegacyFieldType) {\n        luceneType = new LegacyFieldType((LegacyFieldType)luceneType);\n      } else {\n        luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      }\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    return new BBoxStrategy(ctx, fieldName, luceneType);\n  }\n\n","sourceOld":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0).fieldType();\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      if (luceneType instanceof LegacyFieldType) {\n        luceneType = new LegacyFieldType((LegacyFieldType)luceneType);\n      } else {\n        luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      }\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    return new BBoxStrategy(ctx, fieldName, luceneType);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"28288370235ed02234a64753cdbf0c6ec096304a","date":1498726817,"type":3,"author":"Karl Wright","isMerge":true,"pathNew":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","pathOld":"solr/core/src/java/org/apache/solr/schema/BBoxField#newSpatialStrategy(String).mjava","sourceNew":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0).fieldType();\n    if ( ! (luceneType instanceof LegacyFieldType)) {\n      luceneType = new org.apache.lucene.document.FieldType(luceneType);\n    }\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      if (luceneType instanceof LegacyFieldType) {\n        luceneType = new LegacyFieldType((LegacyFieldType)luceneType);\n      } else {\n        luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      }\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    return new BBoxStrategy(ctx, fieldName, luceneType);\n  }\n\n","sourceOld":"  @Override\n  protected BBoxStrategy newSpatialStrategy(String fieldName) {\n    //if it's a dynamic field, we register the sub-fields now.\n    FieldType numberType = schema.getFieldTypeByName(numberTypeName);\n    FieldType booleanType = schema.getFieldTypeByName(booleanTypeName);\n    if (schema.isDynamicField(fieldName)) {\n      registerSubFields(schema, fieldName, numberType, booleanType);\n    }\n\n    //Solr's FieldType ought to expose Lucene FieldType. Instead as a hack we create a Field with a dummy value.\n    final SchemaField solrNumField = new SchemaField(\"_\", numberType);//dummy temp\n    org.apache.lucene.document.FieldType luceneType =\n        (org.apache.lucene.document.FieldType) solrNumField.createField(0.0).fieldType();\n    luceneType.setStored(storeSubFields);\n    \n    //and annoyingly this Field isn't going to have a docValues format because Solr uses a separate Field for that\n    if (solrNumField.hasDocValues()) {\n      if (luceneType instanceof LegacyFieldType) {\n        luceneType = new LegacyFieldType((LegacyFieldType)luceneType);\n      } else {\n        luceneType = new org.apache.lucene.document.FieldType(luceneType);\n      }\n      luceneType.setDocValuesType(DocValuesType.NUMERIC);\n    }\n    return new BBoxStrategy(ctx, fieldName, luceneType);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"aa75c94645bfc8da99a503e2018fd71899cbf9f2":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"403d05f7f8d69b65659157eff1bc1d2717f04c66":["aaa4203f9b7fbc832b95b0ab5f986b81cd12aae4","2c8bedceb91e64a3f0e831450058fc4a76d2c0a6"],"2a44d91ba112b5986f9411955e116445c92a37f0":["eac6ccb51c439bec7f67cb0e299d3cb77b62b87e"],"5af5ba0166322092193d4c29880b0f7670fc7ca0":["aaa4203f9b7fbc832b95b0ab5f986b81cd12aae4"],"2bb2842e561df4e8e9ad89010605fc86ac265465":["d120d3be84a0dd18bc332541aa4eea9d90b192b1"],"2c8bedceb91e64a3f0e831450058fc4a76d2c0a6":["aaa4203f9b7fbc832b95b0ab5f986b81cd12aae4","5af5ba0166322092193d4c29880b0f7670fc7ca0"],"c939830c5ef00597037daf5dde07e64e5df61e2a":["acd9883560fd89e6448b2b447302fe543040cd4f"],"d120d3be84a0dd18bc332541aa4eea9d90b192b1":["aa75c94645bfc8da99a503e2018fd71899cbf9f2"],"28288370235ed02234a64753cdbf0c6ec096304a":["acd9883560fd89e6448b2b447302fe543040cd4f","c939830c5ef00597037daf5dde07e64e5df61e2a"],"4cce5816ef15a48a0bc11e5d400497ee4301dd3b":["aaa4203f9b7fbc832b95b0ab5f986b81cd12aae4","403d05f7f8d69b65659157eff1bc1d2717f04c66"],"aaa4203f9b7fbc832b95b0ab5f986b81cd12aae4":["bd1bb7e9fe9837323db8839b55add94108ab0041"],"bd1bb7e9fe9837323db8839b55add94108ab0041":["2a44d91ba112b5986f9411955e116445c92a37f0"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"eac6ccb51c439bec7f67cb0e299d3cb77b62b87e":["2bb2842e561df4e8e9ad89010605fc86ac265465"],"acd9883560fd89e6448b2b447302fe543040cd4f":["403d05f7f8d69b65659157eff1bc1d2717f04c66"],"2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9":["acd9883560fd89e6448b2b447302fe543040cd4f","c939830c5ef00597037daf5dde07e64e5df61e2a"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["28288370235ed02234a64753cdbf0c6ec096304a"]},"commit2Childs":{"aa75c94645bfc8da99a503e2018fd71899cbf9f2":["d120d3be84a0dd18bc332541aa4eea9d90b192b1"],"403d05f7f8d69b65659157eff1bc1d2717f04c66":["4cce5816ef15a48a0bc11e5d400497ee4301dd3b","acd9883560fd89e6448b2b447302fe543040cd4f"],"2a44d91ba112b5986f9411955e116445c92a37f0":["bd1bb7e9fe9837323db8839b55add94108ab0041"],"5af5ba0166322092193d4c29880b0f7670fc7ca0":["2c8bedceb91e64a3f0e831450058fc4a76d2c0a6"],"2c8bedceb91e64a3f0e831450058fc4a76d2c0a6":["403d05f7f8d69b65659157eff1bc1d2717f04c66"],"2bb2842e561df4e8e9ad89010605fc86ac265465":["eac6ccb51c439bec7f67cb0e299d3cb77b62b87e"],"c939830c5ef00597037daf5dde07e64e5df61e2a":["28288370235ed02234a64753cdbf0c6ec096304a","2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9"],"d120d3be84a0dd18bc332541aa4eea9d90b192b1":["2bb2842e561df4e8e9ad89010605fc86ac265465"],"28288370235ed02234a64753cdbf0c6ec096304a":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"4cce5816ef15a48a0bc11e5d400497ee4301dd3b":[],"aaa4203f9b7fbc832b95b0ab5f986b81cd12aae4":["403d05f7f8d69b65659157eff1bc1d2717f04c66","5af5ba0166322092193d4c29880b0f7670fc7ca0","2c8bedceb91e64a3f0e831450058fc4a76d2c0a6","4cce5816ef15a48a0bc11e5d400497ee4301dd3b"],"bd1bb7e9fe9837323db8839b55add94108ab0041":["aaa4203f9b7fbc832b95b0ab5f986b81cd12aae4"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["aa75c94645bfc8da99a503e2018fd71899cbf9f2"],"eac6ccb51c439bec7f67cb0e299d3cb77b62b87e":["2a44d91ba112b5986f9411955e116445c92a37f0"],"acd9883560fd89e6448b2b447302fe543040cd4f":["c939830c5ef00597037daf5dde07e64e5df61e2a","28288370235ed02234a64753cdbf0c6ec096304a","2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9"],"2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["4cce5816ef15a48a0bc11e5d400497ee4301dd3b","2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}