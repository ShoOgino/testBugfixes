{"path":"lucene/core/src/java/org/apache/lucene/index/SegmentCoreReaders#getNumericDocValues(String,boolean).mjava","commits":[{"id":"7cd329bd749496f6c58b586a6c0dd0dc8201206f","date":1353092226,"type":0,"author":"Michael McCandless","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/index/SegmentCoreReaders#getNumericDocValues(String,boolean).mjava","pathOld":"/dev/null","sourceNew":"  // nocommit shrink the sync'd part to a cache miss\n  synchronized NumericDocValues getNumericDocValues(String field, boolean direct) throws IOException {\n    FieldInfo fi = fieldInfos.fieldInfo(field);\n    if (fi == null) {\n      return null;\n    }\n    if (!DocValues.isNumber(fi.getDocValuesType())) {\n      throw new IllegalArgumentException(\"field \\\"\" + field + \"\\\" was not indexed as a numeric doc values field\");\n    }\n\n    if (direct) {\n      return simpleDVProducer.getDirectNumeric(fi);\n    } else {\n      if (!docValuesCache.containsKey(fi)) {\n        NumericDocValues dv = simpleDVProducer.getNumeric(fi);\n        if (dv != null) {\n          docValuesCache.put(fi, dv);\n        }\n      }\n      return (NumericDocValues) docValuesCache.get(fi);\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"a4d374b2bebd0d52acaa61038fbf23068620fba7","date":1353240004,"type":5,"author":"Michael McCandless","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/index/SegmentCoreReaders#getNumericDocValues(String).mjava","pathOld":"lucene/core/src/java/org/apache/lucene/index/SegmentCoreReaders#getNumericDocValues(String,boolean).mjava","sourceNew":"  // nocommit shrink the sync'd part to a cache miss\n  synchronized NumericDocValues getNumericDocValues(String field) throws IOException {\n    FieldInfo fi = fieldInfos.fieldInfo(field);\n    if (fi == null) {\n      // Field does not exist\n      return null;\n    }\n    if (fi.getDocValuesType() == null) {\n      // Field was not indexed with doc values\n      return null;\n    }\n    if (!DocValues.isNumber(fi.getDocValuesType())) {\n      // DocValues were not numeric\n      return null;\n    }\n\n    return simpleDVProducer.getNumeric(fi);\n  }\n\n","sourceOld":"  // nocommit shrink the sync'd part to a cache miss\n  synchronized NumericDocValues getNumericDocValues(String field, boolean direct) throws IOException {\n    FieldInfo fi = fieldInfos.fieldInfo(field);\n    if (fi == null) {\n      return null;\n    }\n    if (!DocValues.isNumber(fi.getDocValuesType())) {\n      throw new IllegalArgumentException(\"field \\\"\" + field + \"\\\" was not indexed as a numeric doc values field\");\n    }\n\n    if (direct) {\n      return simpleDVProducer.getDirectNumeric(fi);\n    } else {\n      if (!docValuesCache.containsKey(fi)) {\n        NumericDocValues dv = simpleDVProducer.getNumeric(fi);\n        if (dv != null) {\n          docValuesCache.put(fi, dv);\n        }\n      }\n      return (NumericDocValues) docValuesCache.get(fi);\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"7cd329bd749496f6c58b586a6c0dd0dc8201206f":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a4d374b2bebd0d52acaa61038fbf23068620fba7":["7cd329bd749496f6c58b586a6c0dd0dc8201206f"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["7cd329bd749496f6c58b586a6c0dd0dc8201206f","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"7cd329bd749496f6c58b586a6c0dd0dc8201206f":["a4d374b2bebd0d52acaa61038fbf23068620fba7"],"a4d374b2bebd0d52acaa61038fbf23068620fba7":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["a4d374b2bebd0d52acaa61038fbf23068620fba7","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}