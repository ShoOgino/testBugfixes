{"path":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/TestVariableResolverEndToEnd#generateConfig().mjava","commits":[{"id":"d30d20145e9c54b7890711c3307fade007068e9f","date":1354032746,"type":0,"author":"James Dyer","isMerge":false,"pathNew":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/TestVariableResolverEndToEnd#generateConfig().mjava","pathOld":"/dev/null","sourceNew":"  @Override\n  protected String generateConfig() {\n    String thirdLocaleParam = random().nextBoolean() ? \"\" : (\", '\" + Locale.getDefault() + \"'\");\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"<dataConfig> \\n\");\n    sb.append(\"<dataSource name=\\\"hsqldb\\\" driver=\\\"org.hsqldb.jdbcDriver\\\" url=\\\"jdbc:hsqldb:mem:.\\\" /> \\n\");\n    sb.append(\"<document name=\\\"TestEvaluators\\\"> \\n\");\n    sb.append(\"<entity name=\\\"FIRST\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" \");\n    sb.append(\" query=\\\"\" +\n    \t\t\"select \" +\n    \t\t\" 1 as id, \" +\n    \t\t\" 'SELECT' as SELECT_KEYWORD, \" +\n    \t\t\" CURRENT_TIMESTAMP as FIRST_TS \" +\n    \t\t\"from DUAL \\\" >\\n\");\n    sb.append(\"  <field column=\\\"SELECT_KEYWORD\\\" name=\\\"select_keyword_s\\\" /> \\n\");\n    sb.append(\"  <entity name=\\\"SECOND\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" transformer=\\\"TemplateTransformer\\\" \");\n    sb.append(\"   query=\\\"\" +\n    \t\t\"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n    \t\t\" 1 as SORT, \" +\n    \t\t\" CURRENT_TIMESTAMP as SECOND_TS, \" +\n    \t\t\" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n    \t\t\" 'PORK' AS MEAT, \" +\n    \t\t\" 'GRILL' AS METHOD, \" +\n        \" 'ROUND' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n    \t\t\"from DUAL \" +\n    \t\t\"WHERE 1=${FIRST.ID} \" +\n    \t\t\"UNION \" +    \t\t\n    \t\t\"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n    \t\t\" 2 as SORT, \" +\n        \" CURRENT_TIMESTAMP as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'FISH' AS MEAT, \" +\n        \" 'FRY' AS METHOD, \" +\n        \" 'SIRLOIN' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"ORDER BY SORT \\\"\" +\n    \t\t\">\\n\");\n    sb.append(\"   <field column=\\\"SECOND_S\\\" name=\\\"second_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"SECOND1_S\\\" name=\\\"second1_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second2_s\\\" template=\\\"${dataimporter.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second3_s\\\" template=\\\"${dih.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"METHOD\\\" name=\\\"${SECOND.MEAT}_s\\\"/>\\n\");\n    sb.append(\"   <field column=\\\"CUTS\\\" name=\\\"${SECOND.WHATKIND}_mult_s\\\"/>\\n\");\n    sb.append(\"  </entity>\\n\");\n    sb.append(\"</entity>\\n\");\n    sb.append(\"</document> \\n\");\n    sb.append(\"</dataConfig> \\n\");\n    String config = sb.toString();\n    log.debug(config); \n    return config;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":["f4ee7393d31efafd6b1df3a24a1d31c1564947c9"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"f4ee7393d31efafd6b1df3a24a1d31c1564947c9","date":1354034961,"type":3,"author":"James Dyer","isMerge":false,"pathNew":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/TestVariableResolverEndToEnd#generateConfig().mjava","pathOld":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/TestVariableResolverEndToEnd#generateConfig().mjava","sourceNew":"  @Override\n  protected String generateConfig() {\n    String thirdLocaleParam = random().nextBoolean() ? \"\" : (\", '\" + Locale.getDefault() + \"'\");\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"<dataConfig> \\n\");\n    sb.append(\"<dataSource name=\\\"hsqldb\\\" driver=\\\"org.hsqldb.jdbcDriver\\\" url=\\\"jdbc:hsqldb:mem:.\\\" /> \\n\");\n    sb.append(\"<document name=\\\"TestEvaluators\\\"> \\n\");\n    sb.append(\"<entity name=\\\"FIRST\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" \");\n    sb.append(\" query=\\\"\" +\n        \"select \" +\n        \" 1 as id, \" +\n        \" 'SELECT' as SELECT_KEYWORD, \" +\n        \" CURRENT_TIMESTAMP as FIRST_TS \" +\n        \"from DUAL \\\" >\\n\");\n    sb.append(\"  <field column=\\\"SELECT_KEYWORD\\\" name=\\\"select_keyword_s\\\" /> \\n\");\n    sb.append(\"  <entity name=\\\"SECOND\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" transformer=\\\"TemplateTransformer\\\" \");\n    sb.append(\"   query=\\\"\" +\n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 1 as SORT, \" +\n        \" CURRENT_TIMESTAMP as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'PORK' AS MEAT, \" +\n        \" 'GRILL' AS METHOD, \" +\n        \" 'ROUND' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"UNION \" +        \n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 2 as SORT, \" +\n        \" CURRENT_TIMESTAMP as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'FISH' AS MEAT, \" +\n        \" 'FRY' AS METHOD, \" +\n        \" 'SIRLOIN' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"ORDER BY SORT \\\"\" +\n        \">\\n\");\n    sb.append(\"   <field column=\\\"SECOND_S\\\" name=\\\"second_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"SECOND1_S\\\" name=\\\"second1_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second2_s\\\" template=\\\"${dataimporter.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second3_s\\\" template=\\\"${dih.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"METHOD\\\" name=\\\"${SECOND.MEAT}_s\\\"/>\\n\");\n    sb.append(\"   <field column=\\\"CUTS\\\" name=\\\"${SECOND.WHATKIND}_mult_s\\\"/>\\n\");\n    sb.append(\"  </entity>\\n\");\n    sb.append(\"</entity>\\n\");\n    sb.append(\"</document> \\n\");\n    sb.append(\"</dataConfig> \\n\");\n    String config = sb.toString();\n    log.debug(config); \n    return config;\n  }\n\n","sourceOld":"  @Override\n  protected String generateConfig() {\n    String thirdLocaleParam = random().nextBoolean() ? \"\" : (\", '\" + Locale.getDefault() + \"'\");\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"<dataConfig> \\n\");\n    sb.append(\"<dataSource name=\\\"hsqldb\\\" driver=\\\"org.hsqldb.jdbcDriver\\\" url=\\\"jdbc:hsqldb:mem:.\\\" /> \\n\");\n    sb.append(\"<document name=\\\"TestEvaluators\\\"> \\n\");\n    sb.append(\"<entity name=\\\"FIRST\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" \");\n    sb.append(\" query=\\\"\" +\n    \t\t\"select \" +\n    \t\t\" 1 as id, \" +\n    \t\t\" 'SELECT' as SELECT_KEYWORD, \" +\n    \t\t\" CURRENT_TIMESTAMP as FIRST_TS \" +\n    \t\t\"from DUAL \\\" >\\n\");\n    sb.append(\"  <field column=\\\"SELECT_KEYWORD\\\" name=\\\"select_keyword_s\\\" /> \\n\");\n    sb.append(\"  <entity name=\\\"SECOND\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" transformer=\\\"TemplateTransformer\\\" \");\n    sb.append(\"   query=\\\"\" +\n    \t\t\"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n    \t\t\" 1 as SORT, \" +\n    \t\t\" CURRENT_TIMESTAMP as SECOND_TS, \" +\n    \t\t\" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n    \t\t\" 'PORK' AS MEAT, \" +\n    \t\t\" 'GRILL' AS METHOD, \" +\n        \" 'ROUND' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n    \t\t\"from DUAL \" +\n    \t\t\"WHERE 1=${FIRST.ID} \" +\n    \t\t\"UNION \" +    \t\t\n    \t\t\"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n    \t\t\" 2 as SORT, \" +\n        \" CURRENT_TIMESTAMP as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'FISH' AS MEAT, \" +\n        \" 'FRY' AS METHOD, \" +\n        \" 'SIRLOIN' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"ORDER BY SORT \\\"\" +\n    \t\t\">\\n\");\n    sb.append(\"   <field column=\\\"SECOND_S\\\" name=\\\"second_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"SECOND1_S\\\" name=\\\"second1_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second2_s\\\" template=\\\"${dataimporter.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second3_s\\\" template=\\\"${dih.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"METHOD\\\" name=\\\"${SECOND.MEAT}_s\\\"/>\\n\");\n    sb.append(\"   <field column=\\\"CUTS\\\" name=\\\"${SECOND.WHATKIND}_mult_s\\\"/>\\n\");\n    sb.append(\"  </entity>\\n\");\n    sb.append(\"</entity>\\n\");\n    sb.append(\"</document> \\n\");\n    sb.append(\"</dataConfig> \\n\");\n    String config = sb.toString();\n    log.debug(config); \n    return config;\n  }\n\n","bugFix":["d30d20145e9c54b7890711c3307fade007068e9f"],"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"407687e67faf6e1f02a211ca078d8e3eed631027","date":1355157407,"type":0,"author":"Robert Muir","isMerge":true,"pathNew":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/TestVariableResolverEndToEnd#generateConfig().mjava","pathOld":"/dev/null","sourceNew":"  @Override\n  protected String generateConfig() {\n    String thirdLocaleParam = random().nextBoolean() ? \"\" : (\", '\" + Locale.getDefault() + \"'\");\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"<dataConfig> \\n\");\n    sb.append(\"<dataSource name=\\\"hsqldb\\\" driver=\\\"org.hsqldb.jdbcDriver\\\" url=\\\"jdbc:hsqldb:mem:.\\\" /> \\n\");\n    sb.append(\"<document name=\\\"TestEvaluators\\\"> \\n\");\n    sb.append(\"<entity name=\\\"FIRST\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" \");\n    sb.append(\" query=\\\"\" +\n        \"select \" +\n        \" 1 as id, \" +\n        \" 'SELECT' as SELECT_KEYWORD, \" +\n        \" CURRENT_TIMESTAMP as FIRST_TS \" +\n        \"from DUAL \\\" >\\n\");\n    sb.append(\"  <field column=\\\"SELECT_KEYWORD\\\" name=\\\"select_keyword_s\\\" /> \\n\");\n    sb.append(\"  <entity name=\\\"SECOND\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" transformer=\\\"TemplateTransformer\\\" \");\n    sb.append(\"   query=\\\"\" +\n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 1 as SORT, \" +\n        \" CURRENT_TIMESTAMP as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'PORK' AS MEAT, \" +\n        \" 'GRILL' AS METHOD, \" +\n        \" 'ROUND' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"UNION \" +        \n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 2 as SORT, \" +\n        \" CURRENT_TIMESTAMP as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'FISH' AS MEAT, \" +\n        \" 'FRY' AS METHOD, \" +\n        \" 'SIRLOIN' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"ORDER BY SORT \\\"\" +\n        \">\\n\");\n    sb.append(\"   <field column=\\\"SECOND_S\\\" name=\\\"second_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"SECOND1_S\\\" name=\\\"second1_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second2_s\\\" template=\\\"${dataimporter.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second3_s\\\" template=\\\"${dih.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"METHOD\\\" name=\\\"${SECOND.MEAT}_s\\\"/>\\n\");\n    sb.append(\"   <field column=\\\"CUTS\\\" name=\\\"${SECOND.WHATKIND}_mult_s\\\"/>\\n\");\n    sb.append(\"  </entity>\\n\");\n    sb.append(\"</entity>\\n\");\n    sb.append(\"</document> \\n\");\n    sb.append(\"</dataConfig> \\n\");\n    String config = sb.toString();\n    log.debug(config); \n    return config;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"ba58b751368f9b74be72216b17abfb47ecb18588","date":1363023437,"type":3,"author":"James Dyer","isMerge":false,"pathNew":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/TestVariableResolverEndToEnd#generateConfig().mjava","pathOld":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/TestVariableResolverEndToEnd#generateConfig().mjava","sourceNew":"  @Override\n  protected String generateConfig() {\n    String thirdLocaleParam = random().nextBoolean() ? \"\" : (\", '\" + Locale.getDefault() + \"'\");\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"<dataConfig> \\n\");\n    sb.append(\"<dataSource name=\\\"hsqldb\\\" driver=\\\"${dataimporter.request.dots.in.hsqldb.driver}\\\" url=\\\"jdbc:hsqldb:mem:.\\\" /> \\n\");\n    sb.append(\"<document name=\\\"TestEvaluators\\\"> \\n\");\n    sb.append(\"<entity name=\\\"FIRST\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" \");\n    sb.append(\" query=\\\"\" +\n        \"select \" +\n        \" 1 as id, \" +\n        \" 'SELECT' as SELECT_KEYWORD, \" +\n        \" CURRENT_TIMESTAMP as FIRST_TS \" +\n        \"from DUAL \\\" >\\n\");\n    sb.append(\"  <field column=\\\"SELECT_KEYWORD\\\" name=\\\"select_keyword_s\\\" /> \\n\");\n    sb.append(\"  <entity name=\\\"SECOND\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" transformer=\\\"TemplateTransformer\\\" \");\n    sb.append(\"   query=\\\"\" +\n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 1 as SORT, \" +\n        \" CURRENT_TIMESTAMP as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'PORK' AS MEAT, \" +\n        \" 'GRILL' AS METHOD, \" +\n        \" 'ROUND' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"UNION \" +        \n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 2 as SORT, \" +\n        \" CURRENT_TIMESTAMP as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'FISH' AS MEAT, \" +\n        \" 'FRY' AS METHOD, \" +\n        \" 'SIRLOIN' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"ORDER BY SORT \\\"\" +\n        \">\\n\");\n    sb.append(\"   <field column=\\\"SECOND_S\\\" name=\\\"second_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"SECOND1_S\\\" name=\\\"second1_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second2_s\\\" template=\\\"${dataimporter.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second3_s\\\" template=\\\"${dih.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"METHOD\\\" name=\\\"${SECOND.MEAT}_s\\\"/>\\n\");\n    sb.append(\"   <field column=\\\"CUTS\\\" name=\\\"${SECOND.WHATKIND}_mult_s\\\"/>\\n\");\n    sb.append(\"  </entity>\\n\");\n    sb.append(\"</entity>\\n\");\n    sb.append(\"</document> \\n\");\n    sb.append(\"</dataConfig> \\n\");\n    String config = sb.toString();\n    log.debug(config); \n    return config;\n  }\n\n","sourceOld":"  @Override\n  protected String generateConfig() {\n    String thirdLocaleParam = random().nextBoolean() ? \"\" : (\", '\" + Locale.getDefault() + \"'\");\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"<dataConfig> \\n\");\n    sb.append(\"<dataSource name=\\\"hsqldb\\\" driver=\\\"org.hsqldb.jdbcDriver\\\" url=\\\"jdbc:hsqldb:mem:.\\\" /> \\n\");\n    sb.append(\"<document name=\\\"TestEvaluators\\\"> \\n\");\n    sb.append(\"<entity name=\\\"FIRST\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" \");\n    sb.append(\" query=\\\"\" +\n        \"select \" +\n        \" 1 as id, \" +\n        \" 'SELECT' as SELECT_KEYWORD, \" +\n        \" CURRENT_TIMESTAMP as FIRST_TS \" +\n        \"from DUAL \\\" >\\n\");\n    sb.append(\"  <field column=\\\"SELECT_KEYWORD\\\" name=\\\"select_keyword_s\\\" /> \\n\");\n    sb.append(\"  <entity name=\\\"SECOND\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" transformer=\\\"TemplateTransformer\\\" \");\n    sb.append(\"   query=\\\"\" +\n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 1 as SORT, \" +\n        \" CURRENT_TIMESTAMP as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'PORK' AS MEAT, \" +\n        \" 'GRILL' AS METHOD, \" +\n        \" 'ROUND' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"UNION \" +        \n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 2 as SORT, \" +\n        \" CURRENT_TIMESTAMP as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'FISH' AS MEAT, \" +\n        \" 'FRY' AS METHOD, \" +\n        \" 'SIRLOIN' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"ORDER BY SORT \\\"\" +\n        \">\\n\");\n    sb.append(\"   <field column=\\\"SECOND_S\\\" name=\\\"second_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"SECOND1_S\\\" name=\\\"second1_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second2_s\\\" template=\\\"${dataimporter.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second3_s\\\" template=\\\"${dih.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"METHOD\\\" name=\\\"${SECOND.MEAT}_s\\\"/>\\n\");\n    sb.append(\"   <field column=\\\"CUTS\\\" name=\\\"${SECOND.WHATKIND}_mult_s\\\"/>\\n\");\n    sb.append(\"  </entity>\\n\");\n    sb.append(\"</entity>\\n\");\n    sb.append(\"</document> \\n\");\n    sb.append(\"</dataConfig> \\n\");\n    String config = sb.toString();\n    log.debug(config); \n    return config;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"982acea6b1fe5ee8319e43789b99c5cfa04e6a36","date":1453496740,"type":3,"author":"Uwe Schindler","isMerge":false,"pathNew":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/TestVariableResolverEndToEnd#generateConfig().mjava","pathOld":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/TestVariableResolverEndToEnd#generateConfig().mjava","sourceNew":"  @Override\n  protected String generateConfig() {\n    String thirdLocaleParam = random().nextBoolean() ? \"\" : (\", '\" + Locale.getDefault().toLanguageTag() + \"'\");\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"<dataConfig> \\n\");\n    sb.append(\"<dataSource name=\\\"hsqldb\\\" driver=\\\"${dataimporter.request.dots.in.hsqldb.driver}\\\" url=\\\"jdbc:hsqldb:mem:.\\\" /> \\n\");\n    sb.append(\"<document name=\\\"TestEvaluators\\\"> \\n\");\n    sb.append(\"<entity name=\\\"FIRST\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" \");\n    sb.append(\" query=\\\"\" +\n        \"select \" +\n        \" 1 as id, \" +\n        \" 'SELECT' as SELECT_KEYWORD, \" +\n        \" CURRENT_TIMESTAMP as FIRST_TS \" +\n        \"from DUAL \\\" >\\n\");\n    sb.append(\"  <field column=\\\"SELECT_KEYWORD\\\" name=\\\"select_keyword_s\\\" /> \\n\");\n    sb.append(\"  <entity name=\\\"SECOND\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" transformer=\\\"TemplateTransformer\\\" \");\n    sb.append(\"   query=\\\"\" +\n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 1 as SORT, \" +\n        \" CURRENT_TIMESTAMP as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'PORK' AS MEAT, \" +\n        \" 'GRILL' AS METHOD, \" +\n        \" 'ROUND' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"UNION \" +        \n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 2 as SORT, \" +\n        \" CURRENT_TIMESTAMP as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'FISH' AS MEAT, \" +\n        \" 'FRY' AS METHOD, \" +\n        \" 'SIRLOIN' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"ORDER BY SORT \\\"\" +\n        \">\\n\");\n    sb.append(\"   <field column=\\\"SECOND_S\\\" name=\\\"second_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"SECOND1_S\\\" name=\\\"second1_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second2_s\\\" template=\\\"${dataimporter.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second3_s\\\" template=\\\"${dih.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"METHOD\\\" name=\\\"${SECOND.MEAT}_s\\\"/>\\n\");\n    sb.append(\"   <field column=\\\"CUTS\\\" name=\\\"${SECOND.WHATKIND}_mult_s\\\"/>\\n\");\n    sb.append(\"  </entity>\\n\");\n    sb.append(\"</entity>\\n\");\n    sb.append(\"</document> \\n\");\n    sb.append(\"</dataConfig> \\n\");\n    String config = sb.toString();\n    log.debug(config); \n    return config;\n  }\n\n","sourceOld":"  @Override\n  protected String generateConfig() {\n    String thirdLocaleParam = random().nextBoolean() ? \"\" : (\", '\" + Locale.getDefault() + \"'\");\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"<dataConfig> \\n\");\n    sb.append(\"<dataSource name=\\\"hsqldb\\\" driver=\\\"${dataimporter.request.dots.in.hsqldb.driver}\\\" url=\\\"jdbc:hsqldb:mem:.\\\" /> \\n\");\n    sb.append(\"<document name=\\\"TestEvaluators\\\"> \\n\");\n    sb.append(\"<entity name=\\\"FIRST\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" \");\n    sb.append(\" query=\\\"\" +\n        \"select \" +\n        \" 1 as id, \" +\n        \" 'SELECT' as SELECT_KEYWORD, \" +\n        \" CURRENT_TIMESTAMP as FIRST_TS \" +\n        \"from DUAL \\\" >\\n\");\n    sb.append(\"  <field column=\\\"SELECT_KEYWORD\\\" name=\\\"select_keyword_s\\\" /> \\n\");\n    sb.append(\"  <entity name=\\\"SECOND\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" transformer=\\\"TemplateTransformer\\\" \");\n    sb.append(\"   query=\\\"\" +\n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 1 as SORT, \" +\n        \" CURRENT_TIMESTAMP as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'PORK' AS MEAT, \" +\n        \" 'GRILL' AS METHOD, \" +\n        \" 'ROUND' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"UNION \" +        \n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 2 as SORT, \" +\n        \" CURRENT_TIMESTAMP as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'FISH' AS MEAT, \" +\n        \" 'FRY' AS METHOD, \" +\n        \" 'SIRLOIN' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"ORDER BY SORT \\\"\" +\n        \">\\n\");\n    sb.append(\"   <field column=\\\"SECOND_S\\\" name=\\\"second_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"SECOND1_S\\\" name=\\\"second1_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second2_s\\\" template=\\\"${dataimporter.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second3_s\\\" template=\\\"${dih.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"METHOD\\\" name=\\\"${SECOND.MEAT}_s\\\"/>\\n\");\n    sb.append(\"   <field column=\\\"CUTS\\\" name=\\\"${SECOND.WHATKIND}_mult_s\\\"/>\\n\");\n    sb.append(\"  </entity>\\n\");\n    sb.append(\"</entity>\\n\");\n    sb.append(\"</document> \\n\");\n    sb.append(\"</dataConfig> \\n\");\n    String config = sb.toString();\n    log.debug(config); \n    return config;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"17361387c1023c3b72fb3bcf3d258318ab54deb7","date":1494596656,"type":3,"author":"jdyer1","isMerge":false,"pathNew":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/TestVariableResolverEndToEnd#generateConfig().mjava","pathOld":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/TestVariableResolverEndToEnd#generateConfig().mjava","sourceNew":"  @Override\n  protected String generateConfig() {\n    String thirdLocaleParam = random().nextBoolean() ? \"\" : (\", '\" + Locale.getDefault().toLanguageTag() + \"'\");\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"<dataConfig> \\n\");\n    sb.append(\"<dataSource name=\\\"hsqldb\\\" driver=\\\"${dataimporter.request.dots.in.hsqldb.driver}\\\" url=\\\"jdbc:hsqldb:mem:.\\\" /> \\n\");\n    sb.append(\"<document name=\\\"TestEvaluators\\\"> \\n\");\n    sb.append(\"<entity name=\\\"FIRST\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" \");\n    sb.append(\" query=\\\"\" +\n        \"select \" +\n        \" 1 as id, \" +\n        \" 'SELECT' as SELECT_KEYWORD, \" +\n        \" {ts '2017-02-18 12:34:56'} as FIRST_TS \" +\n        \"from DUAL \\\" >\\n\");\n    sb.append(\"  <field column=\\\"SELECT_KEYWORD\\\" name=\\\"select_keyword_s\\\" /> \\n\");\n    sb.append(\"  <entity name=\\\"SECOND\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" transformer=\\\"TemplateTransformer\\\" \");\n    sb.append(\"   query=\\\"\" +\n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 1 as SORT, \" +\n        \" {ts '2017-02-18 12:34:56'} as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'PORK' AS MEAT, \" +\n        \" 'GRILL' AS METHOD, \" +\n        \" 'ROUND' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"UNION \" +        \n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 2 as SORT, \" +\n        \" {ts '2017-02-18 12:34:56'} as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'FISH' AS MEAT, \" +\n        \" 'FRY' AS METHOD, \" +\n        \" 'SIRLOIN' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"ORDER BY SORT \\\"\" +\n        \">\\n\");\n    sb.append(\"   <field column=\\\"SECOND_S\\\" name=\\\"second_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"SECOND1_S\\\" name=\\\"second1_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second2_s\\\" template=\\\"${dataimporter.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second3_s\\\" template=\\\"${dih.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"METHOD\\\" name=\\\"${SECOND.MEAT}_s\\\"/>\\n\");\n    sb.append(\"   <field column=\\\"CUTS\\\" name=\\\"${SECOND.WHATKIND}_mult_s\\\"/>\\n\");\n    sb.append(\"  </entity>\\n\");\n    sb.append(\"</entity>\\n\");\n    sb.append(\"</document> \\n\");\n    sb.append(\"</dataConfig> \\n\");\n    String config = sb.toString();\n    log.info(config); \n    return config;\n  }\n\n","sourceOld":"  @Override\n  protected String generateConfig() {\n    String thirdLocaleParam = random().nextBoolean() ? \"\" : (\", '\" + Locale.getDefault().toLanguageTag() + \"'\");\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"<dataConfig> \\n\");\n    sb.append(\"<dataSource name=\\\"hsqldb\\\" driver=\\\"${dataimporter.request.dots.in.hsqldb.driver}\\\" url=\\\"jdbc:hsqldb:mem:.\\\" /> \\n\");\n    sb.append(\"<document name=\\\"TestEvaluators\\\"> \\n\");\n    sb.append(\"<entity name=\\\"FIRST\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" \");\n    sb.append(\" query=\\\"\" +\n        \"select \" +\n        \" 1 as id, \" +\n        \" 'SELECT' as SELECT_KEYWORD, \" +\n        \" CURRENT_TIMESTAMP as FIRST_TS \" +\n        \"from DUAL \\\" >\\n\");\n    sb.append(\"  <field column=\\\"SELECT_KEYWORD\\\" name=\\\"select_keyword_s\\\" /> \\n\");\n    sb.append(\"  <entity name=\\\"SECOND\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" transformer=\\\"TemplateTransformer\\\" \");\n    sb.append(\"   query=\\\"\" +\n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 1 as SORT, \" +\n        \" CURRENT_TIMESTAMP as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'PORK' AS MEAT, \" +\n        \" 'GRILL' AS METHOD, \" +\n        \" 'ROUND' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"UNION \" +        \n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 2 as SORT, \" +\n        \" CURRENT_TIMESTAMP as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'FISH' AS MEAT, \" +\n        \" 'FRY' AS METHOD, \" +\n        \" 'SIRLOIN' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"ORDER BY SORT \\\"\" +\n        \">\\n\");\n    sb.append(\"   <field column=\\\"SECOND_S\\\" name=\\\"second_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"SECOND1_S\\\" name=\\\"second1_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second2_s\\\" template=\\\"${dataimporter.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second3_s\\\" template=\\\"${dih.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"METHOD\\\" name=\\\"${SECOND.MEAT}_s\\\"/>\\n\");\n    sb.append(\"   <field column=\\\"CUTS\\\" name=\\\"${SECOND.WHATKIND}_mult_s\\\"/>\\n\");\n    sb.append(\"  </entity>\\n\");\n    sb.append(\"</entity>\\n\");\n    sb.append(\"</document> \\n\");\n    sb.append(\"</dataConfig> \\n\");\n    String config = sb.toString();\n    log.debug(config); \n    return config;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"e9017cf144952056066919f1ebc7897ff9bd71b1","date":1496757600,"type":3,"author":"Shalin Shekhar Mangar","isMerge":true,"pathNew":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/TestVariableResolverEndToEnd#generateConfig().mjava","pathOld":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/TestVariableResolverEndToEnd#generateConfig().mjava","sourceNew":"  @Override\n  protected String generateConfig() {\n    String thirdLocaleParam = random().nextBoolean() ? \"\" : (\", '\" + Locale.getDefault().toLanguageTag() + \"'\");\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"<dataConfig> \\n\");\n    sb.append(\"<dataSource name=\\\"hsqldb\\\" driver=\\\"${dataimporter.request.dots.in.hsqldb.driver}\\\" url=\\\"jdbc:hsqldb:mem:.\\\" /> \\n\");\n    sb.append(\"<document name=\\\"TestEvaluators\\\"> \\n\");\n    sb.append(\"<entity name=\\\"FIRST\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" \");\n    sb.append(\" query=\\\"\" +\n        \"select \" +\n        \" 1 as id, \" +\n        \" 'SELECT' as SELECT_KEYWORD, \" +\n        \" {ts '2017-02-18 12:34:56'} as FIRST_TS \" +\n        \"from DUAL \\\" >\\n\");\n    sb.append(\"  <field column=\\\"SELECT_KEYWORD\\\" name=\\\"select_keyword_s\\\" /> \\n\");\n    sb.append(\"  <entity name=\\\"SECOND\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" transformer=\\\"TemplateTransformer\\\" \");\n    sb.append(\"   query=\\\"\" +\n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 1 as SORT, \" +\n        \" {ts '2017-02-18 12:34:56'} as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'PORK' AS MEAT, \" +\n        \" 'GRILL' AS METHOD, \" +\n        \" 'ROUND' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"UNION \" +        \n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 2 as SORT, \" +\n        \" {ts '2017-02-18 12:34:56'} as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'FISH' AS MEAT, \" +\n        \" 'FRY' AS METHOD, \" +\n        \" 'SIRLOIN' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"ORDER BY SORT \\\"\" +\n        \">\\n\");\n    sb.append(\"   <field column=\\\"SECOND_S\\\" name=\\\"second_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"SECOND1_S\\\" name=\\\"second1_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second2_s\\\" template=\\\"${dataimporter.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second3_s\\\" template=\\\"${dih.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"METHOD\\\" name=\\\"${SECOND.MEAT}_s\\\"/>\\n\");\n    sb.append(\"   <field column=\\\"CUTS\\\" name=\\\"${SECOND.WHATKIND}_mult_s\\\"/>\\n\");\n    sb.append(\"  </entity>\\n\");\n    sb.append(\"</entity>\\n\");\n    sb.append(\"</document> \\n\");\n    sb.append(\"</dataConfig> \\n\");\n    String config = sb.toString();\n    log.info(config); \n    return config;\n  }\n\n","sourceOld":"  @Override\n  protected String generateConfig() {\n    String thirdLocaleParam = random().nextBoolean() ? \"\" : (\", '\" + Locale.getDefault().toLanguageTag() + \"'\");\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"<dataConfig> \\n\");\n    sb.append(\"<dataSource name=\\\"hsqldb\\\" driver=\\\"${dataimporter.request.dots.in.hsqldb.driver}\\\" url=\\\"jdbc:hsqldb:mem:.\\\" /> \\n\");\n    sb.append(\"<document name=\\\"TestEvaluators\\\"> \\n\");\n    sb.append(\"<entity name=\\\"FIRST\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" \");\n    sb.append(\" query=\\\"\" +\n        \"select \" +\n        \" 1 as id, \" +\n        \" 'SELECT' as SELECT_KEYWORD, \" +\n        \" CURRENT_TIMESTAMP as FIRST_TS \" +\n        \"from DUAL \\\" >\\n\");\n    sb.append(\"  <field column=\\\"SELECT_KEYWORD\\\" name=\\\"select_keyword_s\\\" /> \\n\");\n    sb.append(\"  <entity name=\\\"SECOND\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" transformer=\\\"TemplateTransformer\\\" \");\n    sb.append(\"   query=\\\"\" +\n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 1 as SORT, \" +\n        \" CURRENT_TIMESTAMP as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'PORK' AS MEAT, \" +\n        \" 'GRILL' AS METHOD, \" +\n        \" 'ROUND' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"UNION \" +        \n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 2 as SORT, \" +\n        \" CURRENT_TIMESTAMP as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'FISH' AS MEAT, \" +\n        \" 'FRY' AS METHOD, \" +\n        \" 'SIRLOIN' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"ORDER BY SORT \\\"\" +\n        \">\\n\");\n    sb.append(\"   <field column=\\\"SECOND_S\\\" name=\\\"second_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"SECOND1_S\\\" name=\\\"second1_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second2_s\\\" template=\\\"${dataimporter.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second3_s\\\" template=\\\"${dih.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"METHOD\\\" name=\\\"${SECOND.MEAT}_s\\\"/>\\n\");\n    sb.append(\"   <field column=\\\"CUTS\\\" name=\\\"${SECOND.WHATKIND}_mult_s\\\"/>\\n\");\n    sb.append(\"  </entity>\\n\");\n    sb.append(\"</entity>\\n\");\n    sb.append(\"</document> \\n\");\n    sb.append(\"</dataConfig> \\n\");\n    String config = sb.toString();\n    log.debug(config); \n    return config;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"d2c8f5c46c2501b61e2f55eb7ee59e6c5372290b","date":1598712724,"type":4,"author":"Alexandre Rafalovitch","isMerge":false,"pathNew":"/dev/null","pathOld":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/TestVariableResolverEndToEnd#generateConfig().mjava","sourceNew":null,"sourceOld":"  @Override\n  protected String generateConfig() {\n    String thirdLocaleParam = random().nextBoolean() ? \"\" : (\", '\" + Locale.getDefault().toLanguageTag() + \"'\");\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"<dataConfig> \\n\");\n    sb.append(\"<dataSource name=\\\"hsqldb\\\" driver=\\\"${dataimporter.request.dots.in.hsqldb.driver}\\\" url=\\\"jdbc:hsqldb:mem:.\\\" /> \\n\");\n    sb.append(\"<document name=\\\"TestEvaluators\\\"> \\n\");\n    sb.append(\"<entity name=\\\"FIRST\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" \");\n    sb.append(\" query=\\\"\" +\n        \"select \" +\n        \" 1 as id, \" +\n        \" 'SELECT' as SELECT_KEYWORD, \" +\n        \" {ts '2017-02-18 12:34:56'} as FIRST_TS \" +\n        \"from DUAL \\\" >\\n\");\n    sb.append(\"  <field column=\\\"SELECT_KEYWORD\\\" name=\\\"select_keyword_s\\\" /> \\n\");\n    sb.append(\"  <entity name=\\\"SECOND\\\" processor=\\\"SqlEntityProcessor\\\" dataSource=\\\"hsqldb\\\" transformer=\\\"TemplateTransformer\\\" \");\n    sb.append(\"   query=\\\"\" +\n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 1 as SORT, \" +\n        \" {ts '2017-02-18 12:34:56'} as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'PORK' AS MEAT, \" +\n        \" 'GRILL' AS METHOD, \" +\n        \" 'ROUND' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"UNION \" +        \n        \"${dataimporter.functions.encodeUrl(FIRST.SELECT_KEYWORD)} \" +\n        \" 2 as SORT, \" +\n        \" {ts '2017-02-18 12:34:56'} as SECOND_TS, \" +\n        \" '${dataimporter.functions.formatDate(FIRST.FIRST_TS, 'yyyy'\" + thirdLocaleParam + \")}' as SECOND1_S,  \" +\n        \" 'FISH' AS MEAT, \" +\n        \" 'FRY' AS METHOD, \" +\n        \" 'SIRLOIN' AS CUTS, \" +\n        \" 'BEEF_CUTS' AS WHATKIND \" +\n        \"from DUAL \" +\n        \"WHERE 1=${FIRST.ID} \" +\n        \"ORDER BY SORT \\\"\" +\n        \">\\n\");\n    sb.append(\"   <field column=\\\"SECOND_S\\\" name=\\\"second_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"SECOND1_S\\\" name=\\\"second1_s\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second2_s\\\" template=\\\"${dataimporter.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"second3_s\\\" template=\\\"${dih.functions.formatDate(SECOND.SECOND_TS, 'yyyy'\" + thirdLocaleParam + \")}\\\" /> \\n\");\n    sb.append(\"   <field column=\\\"METHOD\\\" name=\\\"${SECOND.MEAT}_s\\\"/>\\n\");\n    sb.append(\"   <field column=\\\"CUTS\\\" name=\\\"${SECOND.WHATKIND}_mult_s\\\"/>\\n\");\n    sb.append(\"  </entity>\\n\");\n    sb.append(\"</entity>\\n\");\n    sb.append(\"</document> \\n\");\n    sb.append(\"</dataConfig> \\n\");\n    String config = sb.toString();\n    log.info(config); \n    return config;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"ba58b751368f9b74be72216b17abfb47ecb18588":["f4ee7393d31efafd6b1df3a24a1d31c1564947c9"],"17361387c1023c3b72fb3bcf3d258318ab54deb7":["982acea6b1fe5ee8319e43789b99c5cfa04e6a36"],"e9017cf144952056066919f1ebc7897ff9bd71b1":["982acea6b1fe5ee8319e43789b99c5cfa04e6a36","17361387c1023c3b72fb3bcf3d258318ab54deb7"],"d2c8f5c46c2501b61e2f55eb7ee59e6c5372290b":["17361387c1023c3b72fb3bcf3d258318ab54deb7"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"407687e67faf6e1f02a211ca078d8e3eed631027":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","f4ee7393d31efafd6b1df3a24a1d31c1564947c9"],"982acea6b1fe5ee8319e43789b99c5cfa04e6a36":["ba58b751368f9b74be72216b17abfb47ecb18588"],"f4ee7393d31efafd6b1df3a24a1d31c1564947c9":["d30d20145e9c54b7890711c3307fade007068e9f"],"d30d20145e9c54b7890711c3307fade007068e9f":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["d2c8f5c46c2501b61e2f55eb7ee59e6c5372290b"]},"commit2Childs":{"ba58b751368f9b74be72216b17abfb47ecb18588":["982acea6b1fe5ee8319e43789b99c5cfa04e6a36"],"17361387c1023c3b72fb3bcf3d258318ab54deb7":["e9017cf144952056066919f1ebc7897ff9bd71b1","d2c8f5c46c2501b61e2f55eb7ee59e6c5372290b"],"e9017cf144952056066919f1ebc7897ff9bd71b1":[],"d2c8f5c46c2501b61e2f55eb7ee59e6c5372290b":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["407687e67faf6e1f02a211ca078d8e3eed631027","d30d20145e9c54b7890711c3307fade007068e9f"],"407687e67faf6e1f02a211ca078d8e3eed631027":[],"f4ee7393d31efafd6b1df3a24a1d31c1564947c9":["ba58b751368f9b74be72216b17abfb47ecb18588","407687e67faf6e1f02a211ca078d8e3eed631027"],"982acea6b1fe5ee8319e43789b99c5cfa04e6a36":["17361387c1023c3b72fb3bcf3d258318ab54deb7","e9017cf144952056066919f1ebc7897ff9bd71b1"],"d30d20145e9c54b7890711c3307fade007068e9f":["f4ee7393d31efafd6b1df3a24a1d31c1564947c9"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["e9017cf144952056066919f1ebc7897ff9bd71b1","407687e67faf6e1f02a211ca078d8e3eed631027","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}