{"path":"lucene/monitor/src/java/org/apache/lucene/monitor/Monitor#[T-extends-QueryMatch]_match(Document[],MatcherFactory[T]).mjava","commits":[{"id":"7c529b189e09de25455d82ebd7260748cf11ee14","date":1560415257,"type":0,"author":"Alan Woodward","isMerge":false,"pathNew":"lucene/monitor/src/java/org/apache/lucene/monitor/Monitor#[T-extends-QueryMatch]_match(Document[],MatcherFactory[T]).mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Match an array of {@link Document}s against the queryindex, calling a {@link CandidateMatcher} produced by the\n   * supplied {@link MatcherFactory} for each possible matching query.\n   *\n   * @param docs    the DocumentBatch to match\n   * @param factory a {@link MatcherFactory} to use to create a {@link CandidateMatcher} for the match run\n   * @param <T>     the type of {@link QueryMatch} to return\n   * @return a {@link MatchingQueries} object summarizing the match run.\n   * @throws IOException on IO errors\n   */\n  public <T extends QueryMatch> MultiMatchingQueries<T> match(Document[] docs, MatcherFactory<T> factory) throws IOException {\n    try (DocumentBatch batch = DocumentBatch.of(analyzer, docs)) {\n      LeafReader reader = batch.get();\n      CandidateMatcher<T> matcher = factory.createMatcher(new IndexSearcher(batch.get()));\n      StandardQueryCollector<T> collector = new StandardQueryCollector<>(matcher);\n      long buildTime = queryIndex.search(t -> presearcher.buildQuery(reader, t), collector);\n      return matcher.finish(buildTime, collector.queryCount);\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"7c529b189e09de25455d82ebd7260748cf11ee14":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["7c529b189e09de25455d82ebd7260748cf11ee14"]},"commit2Childs":{"7c529b189e09de25455d82ebd7260748cf11ee14":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["7c529b189e09de25455d82ebd7260748cf11ee14"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}