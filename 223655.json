{"path":"lucene/facet/src/test/org/apache/lucene/facet/range/TestRangeFacetCounts#testLongGetAllDims().mjava","commits":[{"id":"4513731041236fcf659e5bfc43d8862e1721a310","date":1504022253,"type":0,"author":"Mike McCandless","isMerge":false,"pathNew":"lucene/facet/src/test/org/apache/lucene/facet/range/TestRangeFacetCounts#testLongGetAllDims().mjava","pathOld":"/dev/null","sourceNew":"  public void testLongGetAllDims() throws Exception {\n    Directory d = newDirectory();\n    RandomIndexWriter w = new RandomIndexWriter(random(), d);\n    Document doc = new Document();\n    NumericDocValuesField field = new NumericDocValuesField(\"field\", 0L);\n    doc.add(field);\n    for(long l=0;l<100;l++) {\n      field.setLongValue(l);\n      w.addDocument(doc);\n    }\n\n    // Also add Long.MAX_VALUE\n    field.setLongValue(Long.MAX_VALUE);\n    w.addDocument(doc);\n\n    IndexReader r = w.getReader();\n    w.close();\n\n    FacetsCollector fc = new FacetsCollector();\n    IndexSearcher s = newSearcher(r);\n    s.search(new MatchAllDocsQuery(), fc);\n\n    Facets facets = new LongRangeFacetCounts(\"field\", fc,\n        new LongRange(\"less than 10\", 0L, true, 10L, false),\n        new LongRange(\"less than or equal to 10\", 0L, true, 10L, true),\n        new LongRange(\"over 90\", 90L, false, 100L, false),\n        new LongRange(\"90 or above\", 90L, true, 100L, false),\n        new LongRange(\"over 1000\", 1000L, false, Long.MAX_VALUE, true));\n\n    List<FacetResult> result = facets.getAllDims(10);\n    assertEquals(1, result.size());\n    assertEquals(\"dim=field path=[] value=22 childCount=5\\n  less than 10 (10)\\n  less than or equal to 10 (11)\\n  over 90 (9)\\n  90 or above (10)\\n  over 1000 (1)\\n\",\n                 result.get(0).toString());\n    \n    r.close();\n    d.close();\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"6028626aa0f7c266ef725110257eed11e5b3d1d7","date":1504104056,"type":0,"author":"Karl Wright","isMerge":true,"pathNew":"lucene/facet/src/test/org/apache/lucene/facet/range/TestRangeFacetCounts#testLongGetAllDims().mjava","pathOld":"/dev/null","sourceNew":"  public void testLongGetAllDims() throws Exception {\n    Directory d = newDirectory();\n    RandomIndexWriter w = new RandomIndexWriter(random(), d);\n    Document doc = new Document();\n    NumericDocValuesField field = new NumericDocValuesField(\"field\", 0L);\n    doc.add(field);\n    for(long l=0;l<100;l++) {\n      field.setLongValue(l);\n      w.addDocument(doc);\n    }\n\n    // Also add Long.MAX_VALUE\n    field.setLongValue(Long.MAX_VALUE);\n    w.addDocument(doc);\n\n    IndexReader r = w.getReader();\n    w.close();\n\n    FacetsCollector fc = new FacetsCollector();\n    IndexSearcher s = newSearcher(r);\n    s.search(new MatchAllDocsQuery(), fc);\n\n    Facets facets = new LongRangeFacetCounts(\"field\", fc,\n        new LongRange(\"less than 10\", 0L, true, 10L, false),\n        new LongRange(\"less than or equal to 10\", 0L, true, 10L, true),\n        new LongRange(\"over 90\", 90L, false, 100L, false),\n        new LongRange(\"90 or above\", 90L, true, 100L, false),\n        new LongRange(\"over 1000\", 1000L, false, Long.MAX_VALUE, true));\n\n    List<FacetResult> result = facets.getAllDims(10);\n    assertEquals(1, result.size());\n    assertEquals(\"dim=field path=[] value=22 childCount=5\\n  less than 10 (10)\\n  less than or equal to 10 (11)\\n  over 90 (9)\\n  90 or above (10)\\n  over 1000 (1)\\n\",\n                 result.get(0).toString());\n    \n    r.close();\n    d.close();\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"3a7809d1d753b67f48b1a706e17034bf8b624ea3","date":1504366927,"type":0,"author":"Shalin Shekhar Mangar","isMerge":true,"pathNew":"lucene/facet/src/test/org/apache/lucene/facet/range/TestRangeFacetCounts#testLongGetAllDims().mjava","pathOld":"/dev/null","sourceNew":"  public void testLongGetAllDims() throws Exception {\n    Directory d = newDirectory();\n    RandomIndexWriter w = new RandomIndexWriter(random(), d);\n    Document doc = new Document();\n    NumericDocValuesField field = new NumericDocValuesField(\"field\", 0L);\n    doc.add(field);\n    for(long l=0;l<100;l++) {\n      field.setLongValue(l);\n      w.addDocument(doc);\n    }\n\n    // Also add Long.MAX_VALUE\n    field.setLongValue(Long.MAX_VALUE);\n    w.addDocument(doc);\n\n    IndexReader r = w.getReader();\n    w.close();\n\n    FacetsCollector fc = new FacetsCollector();\n    IndexSearcher s = newSearcher(r);\n    s.search(new MatchAllDocsQuery(), fc);\n\n    Facets facets = new LongRangeFacetCounts(\"field\", fc,\n        new LongRange(\"less than 10\", 0L, true, 10L, false),\n        new LongRange(\"less than or equal to 10\", 0L, true, 10L, true),\n        new LongRange(\"over 90\", 90L, false, 100L, false),\n        new LongRange(\"90 or above\", 90L, true, 100L, false),\n        new LongRange(\"over 1000\", 1000L, false, Long.MAX_VALUE, true));\n\n    List<FacetResult> result = facets.getAllDims(10);\n    assertEquals(1, result.size());\n    assertEquals(\"dim=field path=[] value=22 childCount=5\\n  less than 10 (10)\\n  less than or equal to 10 (11)\\n  over 90 (9)\\n  90 or above (10)\\n  over 1000 (1)\\n\",\n                 result.get(0).toString());\n    \n    r.close();\n    d.close();\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"6028626aa0f7c266ef725110257eed11e5b3d1d7":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","4513731041236fcf659e5bfc43d8862e1721a310"],"4513731041236fcf659e5bfc43d8862e1721a310":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"3a7809d1d753b67f48b1a706e17034bf8b624ea3":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","6028626aa0f7c266ef725110257eed11e5b3d1d7"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["6028626aa0f7c266ef725110257eed11e5b3d1d7"]},"commit2Childs":{"6028626aa0f7c266ef725110257eed11e5b3d1d7":["3a7809d1d753b67f48b1a706e17034bf8b624ea3","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"4513731041236fcf659e5bfc43d8862e1721a310":["6028626aa0f7c266ef725110257eed11e5b3d1d7"],"3a7809d1d753b67f48b1a706e17034bf8b624ea3":[],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["6028626aa0f7c266ef725110257eed11e5b3d1d7","4513731041236fcf659e5bfc43d8862e1721a310","3a7809d1d753b67f48b1a706e17034bf8b624ea3"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["3a7809d1d753b67f48b1a706e17034bf8b624ea3","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}