{"path":"solr/contrib/prometheus-exporter/src/java/org/apache/solr/prometheus/collector/MetricsCollectorFactory#create().mjava","commits":[{"id":"4cd8a9425419baa85ef4a56ed411ffb4c57964d3","date":1551677567,"type":0,"author":"Shalin Shekhar Mangar","isMerge":false,"pathNew":"solr/contrib/prometheus-exporter/src/java/org/apache/solr/prometheus/collector/MetricsCollectorFactory#create().mjava","pathOld":"/dev/null","sourceNew":"  public SchedulerMetricsCollector create() {\n    Stream<MetricCollector> pings = metricsConfiguration.getPingConfiguration()\n        .stream()\n        .map(query -> new PingCollector(solrScraper, query));\n\n    Stream<MetricCollector> metrics = metricsConfiguration.getMetricsConfiguration()\n        .stream()\n        .map(query -> new MetricsCollector(solrScraper, query));\n\n    Stream<MetricCollector> searches = metricsConfiguration.getSearchConfiguration()\n        .stream()\n        .map(query -> new SearchCollector(solrScraper, query));\n\n    Stream<MetricCollector> collections = metricsConfiguration.getCollectionsConfiguration()\n        .stream()\n        .map(query -> new CollectionsCollector(solrScraper, query));\n\n    List<MetricCollector> collectors = Stream.of(pings, metrics, searches, collections)\n        .reduce(Stream::concat)\n        .orElseGet(Stream::empty)\n        .collect(Collectors.toList());\n\n    return new SchedulerMetricsCollector(executor, refreshInSeconds, TimeUnit.SECONDS, collectors);\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["4cd8a9425419baa85ef4a56ed411ffb4c57964d3"],"4cd8a9425419baa85ef4a56ed411ffb4c57964d3":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["4cd8a9425419baa85ef4a56ed411ffb4c57964d3"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[],"4cd8a9425419baa85ef4a56ed411ffb4c57964d3":["cd5edd1f2b162a5cfa08efd17851a07373a96817"]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}