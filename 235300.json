{"path":"solr/core/src/test/org/apache/solr/request/SimpleFacetsTest#doTestRangeQueryOtherParam(String,FacetRangeMethod).mjava","commits":[{"id":"e135e47842b3fd6a4797b7e4787241b06817efa2","date":1429817254,"type":0,"author":"Tomas Eduardo Fernandez Lobbe","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/request/SimpleFacetsTest#doTestRangeQueryOtherParam(String,FacetRangeMethod).mjava","pathOld":"/dev/null","sourceNew":"  private void doTestRangeQueryOtherParam(String field, FacetRangeMethod method) {\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.BEFORE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.AFTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BETWEEN.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n                ,\"facet.range.other\",FacetRangeOther.AFTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n                ,\"facet.range.other\",FacetRangeOther.AFTER.toString()\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.LOWER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.UPPER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.EDGE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.OUTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='1']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[12345 TO 12345]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='0']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"10\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='5']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"3a2e3a7d2549a34fb7ec9be55424e41388025336","date":1452801298,"type":3,"author":"Chris M. Hostetter","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/request/SimpleFacetsTest#doTestRangeQueryOtherParam(String,FacetRangeMethod).mjava","pathOld":"solr/core/src/test/org/apache/solr/request/SimpleFacetsTest#doTestRangeQueryOtherParam(String,FacetRangeMethod).mjava","sourceNew":"  private void doTestRangeQueryOtherParam(String field, FacetRangeMethod method) {\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.BEFORE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.AFTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BETWEEN.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n\n    // these should have equivilent behavior (multivalued 'other' param: top level vs local)\n    for (SolrQueryRequest req : new SolrQueryRequest[] {\n        req(\"q\", \"id:[42 TO 47]\"\n            ,\"facet\",\"true\"\n            ,\"fl\",\"id,\" + field\n            ,\"facet.range\", field\n            ,\"facet.range.method\", method.toString()\n            ,\"facet.range.start\",\"43\"\n            ,\"facet.range.end\",\"45\"\n            ,\"facet.range.gap\",\"1\"\n            ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n            ,\"facet.range.other\",FacetRangeOther.AFTER.toString()),\n        req(\"q\", \"id:[42 TO 47]\"\n            ,\"facet\",\"true\"\n            ,\"fl\",\"id,\" + field\n            ,\"facet.range\", \"{!facet.range.other=before facet.range.other=after}\" + field\n            ,\"facet.range.method\", method.toString()\n            ,\"facet.range.start\",\"43\"\n            ,\"facet.range.end\",\"45\"\n            ,\"facet.range.gap\",\"1\") }) {\n            \n      assertQ(\"Test facet.range.other: \" + req.toString(), req\n              ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n              ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n              ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n              );\n    }\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n                ,\"facet.range.other\",FacetRangeOther.AFTER.toString()\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.LOWER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.UPPER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.EDGE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.OUTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='1']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[12345 TO 12345]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='0']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"10\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='5']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n  }\n\n","sourceOld":"  private void doTestRangeQueryOtherParam(String field, FacetRangeMethod method) {\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.BEFORE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.AFTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BETWEEN.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n                ,\"facet.range.other\",FacetRangeOther.AFTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n                ,\"facet.range.other\",FacetRangeOther.AFTER.toString()\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.LOWER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.UPPER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.EDGE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.OUTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='1']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[12345 TO 12345]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='0']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"10\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='5']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n  }\n\n","bugFix":null,"bugIntro":["9f4251f14d2db68330fc1e6f0495c053a905d560"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"a71f63026529f3c1f03cfdd664910873ab2369ae","date":1497543264,"type":3,"author":"Chris Hostetter","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/request/SimpleFacetsTest#doTestRangeQueryOtherParam(String,FacetRangeMethod).mjava","pathOld":"solr/core/src/test/org/apache/solr/request/SimpleFacetsTest#doTestRangeQueryOtherParam(String,FacetRangeMethod).mjava","sourceNew":"  private void doTestRangeQueryOtherParam(String field, FacetRangeMethod method) {\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.BEFORE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.AFTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BETWEEN.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n\n    // these should have equivilent behavior (multivalued 'other' param: top level vs local)\n    for (SolrQueryRequest req : new SolrQueryRequest[] {\n        req(\"q\", \"id_i1:[42 TO 47]\"\n            ,\"facet\",\"true\"\n            ,\"fl\",\"id,\" + field\n            ,\"facet.range\", field\n            ,\"facet.range.method\", method.toString()\n            ,\"facet.range.start\",\"43\"\n            ,\"facet.range.end\",\"45\"\n            ,\"facet.range.gap\",\"1\"\n            ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n            ,\"facet.range.other\",FacetRangeOther.AFTER.toString()),\n        req(\"q\", \"id_i1:[42 TO 47]\"\n            ,\"facet\",\"true\"\n            ,\"fl\",\"id,\" + field\n            ,\"facet.range\", \"{!facet.range.other=before facet.range.other=after}\" + field\n            ,\"facet.range.method\", method.toString()\n            ,\"facet.range.start\",\"43\"\n            ,\"facet.range.end\",\"45\"\n            ,\"facet.range.gap\",\"1\") }) {\n            \n      assertQ(\"Test facet.range.other: \" + req.toString(), req\n              ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n              ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n              ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n              );\n    }\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n                ,\"facet.range.other\",FacetRangeOther.AFTER.toString()\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.LOWER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.UPPER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.EDGE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.OUTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='1']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[12345 TO 12345]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='0']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"10\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='5']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n  }\n\n","sourceOld":"  private void doTestRangeQueryOtherParam(String field, FacetRangeMethod method) {\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.BEFORE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.AFTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BETWEEN.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n\n    // these should have equivilent behavior (multivalued 'other' param: top level vs local)\n    for (SolrQueryRequest req : new SolrQueryRequest[] {\n        req(\"q\", \"id:[42 TO 47]\"\n            ,\"facet\",\"true\"\n            ,\"fl\",\"id,\" + field\n            ,\"facet.range\", field\n            ,\"facet.range.method\", method.toString()\n            ,\"facet.range.start\",\"43\"\n            ,\"facet.range.end\",\"45\"\n            ,\"facet.range.gap\",\"1\"\n            ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n            ,\"facet.range.other\",FacetRangeOther.AFTER.toString()),\n        req(\"q\", \"id:[42 TO 47]\"\n            ,\"facet\",\"true\"\n            ,\"fl\",\"id,\" + field\n            ,\"facet.range\", \"{!facet.range.other=before facet.range.other=after}\" + field\n            ,\"facet.range.method\", method.toString()\n            ,\"facet.range.start\",\"43\"\n            ,\"facet.range.end\",\"45\"\n            ,\"facet.range.gap\",\"1\") }) {\n            \n      assertQ(\"Test facet.range.other: \" + req.toString(), req\n              ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n              ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n              ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n              );\n    }\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n                ,\"facet.range.other\",FacetRangeOther.AFTER.toString()\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.LOWER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.UPPER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.EDGE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.OUTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='1']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[12345 TO 12345]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='0']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"10\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='5']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9","date":1498028748,"type":3,"author":"Shalin Shekhar Mangar","isMerge":true,"pathNew":"solr/core/src/test/org/apache/solr/request/SimpleFacetsTest#doTestRangeQueryOtherParam(String,FacetRangeMethod).mjava","pathOld":"solr/core/src/test/org/apache/solr/request/SimpleFacetsTest#doTestRangeQueryOtherParam(String,FacetRangeMethod).mjava","sourceNew":"  private void doTestRangeQueryOtherParam(String field, FacetRangeMethod method) {\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.BEFORE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.AFTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BETWEEN.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n\n    // these should have equivilent behavior (multivalued 'other' param: top level vs local)\n    for (SolrQueryRequest req : new SolrQueryRequest[] {\n        req(\"q\", \"id_i1:[42 TO 47]\"\n            ,\"facet\",\"true\"\n            ,\"fl\",\"id,\" + field\n            ,\"facet.range\", field\n            ,\"facet.range.method\", method.toString()\n            ,\"facet.range.start\",\"43\"\n            ,\"facet.range.end\",\"45\"\n            ,\"facet.range.gap\",\"1\"\n            ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n            ,\"facet.range.other\",FacetRangeOther.AFTER.toString()),\n        req(\"q\", \"id_i1:[42 TO 47]\"\n            ,\"facet\",\"true\"\n            ,\"fl\",\"id,\" + field\n            ,\"facet.range\", \"{!facet.range.other=before facet.range.other=after}\" + field\n            ,\"facet.range.method\", method.toString()\n            ,\"facet.range.start\",\"43\"\n            ,\"facet.range.end\",\"45\"\n            ,\"facet.range.gap\",\"1\") }) {\n            \n      assertQ(\"Test facet.range.other: \" + req.toString(), req\n              ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n              ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n              ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n              );\n    }\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n                ,\"facet.range.other\",FacetRangeOther.AFTER.toString()\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.LOWER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.UPPER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.EDGE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.OUTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='1']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[12345 TO 12345]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='0']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"10\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='5']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n  }\n\n","sourceOld":"  private void doTestRangeQueryOtherParam(String field, FacetRangeMethod method) {\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.BEFORE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.AFTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BETWEEN.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n\n    // these should have equivilent behavior (multivalued 'other' param: top level vs local)\n    for (SolrQueryRequest req : new SolrQueryRequest[] {\n        req(\"q\", \"id:[42 TO 47]\"\n            ,\"facet\",\"true\"\n            ,\"fl\",\"id,\" + field\n            ,\"facet.range\", field\n            ,\"facet.range.method\", method.toString()\n            ,\"facet.range.start\",\"43\"\n            ,\"facet.range.end\",\"45\"\n            ,\"facet.range.gap\",\"1\"\n            ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n            ,\"facet.range.other\",FacetRangeOther.AFTER.toString()),\n        req(\"q\", \"id:[42 TO 47]\"\n            ,\"facet\",\"true\"\n            ,\"fl\",\"id,\" + field\n            ,\"facet.range\", \"{!facet.range.other=before facet.range.other=after}\" + field\n            ,\"facet.range.method\", method.toString()\n            ,\"facet.range.start\",\"43\"\n            ,\"facet.range.end\",\"45\"\n            ,\"facet.range.gap\",\"1\") }) {\n            \n      assertQ(\"Test facet.range.other: \" + req.toString(), req\n              ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n              ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n              ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n              );\n    }\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n                ,\"facet.range.other\",FacetRangeOther.AFTER.toString()\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.LOWER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.UPPER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.EDGE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.OUTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='1']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[12345 TO 12345]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='0']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"10\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='5']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"28288370235ed02234a64753cdbf0c6ec096304a","date":1498726817,"type":3,"author":"Karl Wright","isMerge":true,"pathNew":"solr/core/src/test/org/apache/solr/request/SimpleFacetsTest#doTestRangeQueryOtherParam(String,FacetRangeMethod).mjava","pathOld":"solr/core/src/test/org/apache/solr/request/SimpleFacetsTest#doTestRangeQueryOtherParam(String,FacetRangeMethod).mjava","sourceNew":"  private void doTestRangeQueryOtherParam(String field, FacetRangeMethod method) {\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.BEFORE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.AFTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BETWEEN.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n\n    // these should have equivilent behavior (multivalued 'other' param: top level vs local)\n    for (SolrQueryRequest req : new SolrQueryRequest[] {\n        req(\"q\", \"id_i1:[42 TO 47]\"\n            ,\"facet\",\"true\"\n            ,\"fl\",\"id,\" + field\n            ,\"facet.range\", field\n            ,\"facet.range.method\", method.toString()\n            ,\"facet.range.start\",\"43\"\n            ,\"facet.range.end\",\"45\"\n            ,\"facet.range.gap\",\"1\"\n            ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n            ,\"facet.range.other\",FacetRangeOther.AFTER.toString()),\n        req(\"q\", \"id_i1:[42 TO 47]\"\n            ,\"facet\",\"true\"\n            ,\"fl\",\"id,\" + field\n            ,\"facet.range\", \"{!facet.range.other=before facet.range.other=after}\" + field\n            ,\"facet.range.method\", method.toString()\n            ,\"facet.range.start\",\"43\"\n            ,\"facet.range.end\",\"45\"\n            ,\"facet.range.gap\",\"1\") }) {\n            \n      assertQ(\"Test facet.range.other: \" + req.toString(), req\n              ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n              ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n              ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n              );\n    }\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n                ,\"facet.range.other\",FacetRangeOther.AFTER.toString()\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.LOWER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.UPPER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.EDGE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.OUTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='1']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[12345 TO 12345]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='0']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"10\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='5']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n  }\n\n","sourceOld":"  private void doTestRangeQueryOtherParam(String field, FacetRangeMethod method) {\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.BEFORE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.AFTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BETWEEN.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n\n    // these should have equivilent behavior (multivalued 'other' param: top level vs local)\n    for (SolrQueryRequest req : new SolrQueryRequest[] {\n        req(\"q\", \"id:[42 TO 47]\"\n            ,\"facet\",\"true\"\n            ,\"fl\",\"id,\" + field\n            ,\"facet.range\", field\n            ,\"facet.range.method\", method.toString()\n            ,\"facet.range.start\",\"43\"\n            ,\"facet.range.end\",\"45\"\n            ,\"facet.range.gap\",\"1\"\n            ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n            ,\"facet.range.other\",FacetRangeOther.AFTER.toString()),\n        req(\"q\", \"id:[42 TO 47]\"\n            ,\"facet\",\"true\"\n            ,\"fl\",\"id,\" + field\n            ,\"facet.range\", \"{!facet.range.other=before facet.range.other=after}\" + field\n            ,\"facet.range.method\", method.toString()\n            ,\"facet.range.start\",\"43\"\n            ,\"facet.range.end\",\"45\"\n            ,\"facet.range.gap\",\"1\") }) {\n            \n      assertQ(\"Test facet.range.other: \" + req.toString(), req\n              ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n              ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n              ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n              );\n    }\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n                ,\"facet.range.other\",FacetRangeOther.AFTER.toString()\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.LOWER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.UPPER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.EDGE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.OUTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='1']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[12345 TO 12345]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='0']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"10\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='5']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"9f4251f14d2db68330fc1e6f0495c053a905d560","date":1537116380,"type":3,"author":"Erick Erickson","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/request/SimpleFacetsTest#doTestRangeQueryOtherParam(String,FacetRangeMethod).mjava","pathOld":"solr/core/src/test/org/apache/solr/request/SimpleFacetsTest#doTestRangeQueryOtherParam(String,FacetRangeMethod).mjava","sourceNew":"  private void doTestRangeQueryOtherParam(String field, FacetRangeMethod method) {\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.BEFORE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.AFTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BETWEEN.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n\n    // these should have equivalent behavior (multivalued 'other' param: top level vs local)\n    for (SolrQueryRequest req : new SolrQueryRequest[] {\n        req(\"q\", \"id_i1:[42 TO 47]\"\n            ,\"facet\",\"true\"\n            ,\"fl\",\"id,\" + field\n            ,\"facet.range\", field\n            ,\"facet.range.method\", method.toString()\n            ,\"facet.range.start\",\"43\"\n            ,\"facet.range.end\",\"45\"\n            ,\"facet.range.gap\",\"1\"\n            ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n            ,\"facet.range.other\",FacetRangeOther.AFTER.toString()),\n        req(\"q\", \"id_i1:[42 TO 47]\"\n            ,\"facet\",\"true\"\n            ,\"fl\",\"id,\" + field\n            ,\"facet.range\", \"{!facet.range.other=before facet.range.other=after}\" + field\n            ,\"facet.range.method\", method.toString()\n            ,\"facet.range.start\",\"43\"\n            ,\"facet.range.end\",\"45\"\n            ,\"facet.range.gap\",\"1\") }) {\n            \n      assertQ(\"Test facet.range.other: \" + req.toString(), req\n              ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n              ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n              ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n              );\n    }\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n                ,\"facet.range.other\",FacetRangeOther.AFTER.toString()\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.LOWER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.UPPER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.EDGE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.OUTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='1']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[12345 TO 12345]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='0']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"10\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='5']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n  }\n\n","sourceOld":"  private void doTestRangeQueryOtherParam(String field, FacetRangeMethod method) {\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.BEFORE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.AFTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BETWEEN.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n    );\n\n    // these should have equivilent behavior (multivalued 'other' param: top level vs local)\n    for (SolrQueryRequest req : new SolrQueryRequest[] {\n        req(\"q\", \"id_i1:[42 TO 47]\"\n            ,\"facet\",\"true\"\n            ,\"fl\",\"id,\" + field\n            ,\"facet.range\", field\n            ,\"facet.range.method\", method.toString()\n            ,\"facet.range.start\",\"43\"\n            ,\"facet.range.end\",\"45\"\n            ,\"facet.range.gap\",\"1\"\n            ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n            ,\"facet.range.other\",FacetRangeOther.AFTER.toString()),\n        req(\"q\", \"id_i1:[42 TO 47]\"\n            ,\"facet\",\"true\"\n            ,\"fl\",\"id,\" + field\n            ,\"facet.range\", \"{!facet.range.other=before facet.range.other=after}\" + field\n            ,\"facet.range.method\", method.toString()\n            ,\"facet.range.start\",\"43\"\n            ,\"facet.range.end\",\"45\"\n            ,\"facet.range.gap\",\"1\") }) {\n            \n      assertQ(\"Test facet.range.other: \" + req.toString(), req\n              ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n              ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n              ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n              ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n              );\n    }\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.BEFORE.toString()\n                ,\"facet.range.other\",FacetRangeOther.AFTER.toString()\n                ,\"facet.range.other\",FacetRangeOther.NONE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='between'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='after'])=0]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='before'])=0]\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.LOWER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.UPPER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\",FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.EDGE.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='2']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n                ,\"facet.range.include\", FacetRangeInclude.OUTER.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=2]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='1']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='3']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='2']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[12345 TO 12345]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"1\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='0']\"\n    );\n    \n    assertQ(\"Test facet.range.other\",\n        req(\"q\", \"id_i1:[42 TO 47]\"\n                ,\"facet\",\"true\"\n                ,\"fl\",\"id,\" + field\n                ,\"facet.range\", field\n                ,\"facet.range.method\", method.toString()\n                ,\"facet.range.start\",\"43\"\n                ,\"facet.range.end\",\"45\"\n                ,\"facet.range.gap\",\"10\"\n                ,\"facet.range.other\", FacetRangeOther.ALL.toString()\n        )\n        ,\"*[count(//lst[@name='facet_ranges']/lst)=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts'])=1]\"\n        ,\"*[count(//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/lst[@name='counts']/int)=1]\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='between'][.='5']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='after'][.='0']\"\n        ,\"//lst[@name='facet_ranges']/lst[@name='\" + field + \"']/int[@name='before'][.='1']\"\n    );\n    \n  }\n\n","bugFix":["3a2e3a7d2549a34fb7ec9be55424e41388025336"],"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"e135e47842b3fd6a4797b7e4787241b06817efa2":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"9f4251f14d2db68330fc1e6f0495c053a905d560":["28288370235ed02234a64753cdbf0c6ec096304a"],"3a2e3a7d2549a34fb7ec9be55424e41388025336":["e135e47842b3fd6a4797b7e4787241b06817efa2"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"a71f63026529f3c1f03cfdd664910873ab2369ae":["3a2e3a7d2549a34fb7ec9be55424e41388025336"],"28288370235ed02234a64753cdbf0c6ec096304a":["3a2e3a7d2549a34fb7ec9be55424e41388025336","a71f63026529f3c1f03cfdd664910873ab2369ae"],"2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9":["3a2e3a7d2549a34fb7ec9be55424e41388025336","a71f63026529f3c1f03cfdd664910873ab2369ae"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["9f4251f14d2db68330fc1e6f0495c053a905d560"]},"commit2Childs":{"e135e47842b3fd6a4797b7e4787241b06817efa2":["3a2e3a7d2549a34fb7ec9be55424e41388025336"],"9f4251f14d2db68330fc1e6f0495c053a905d560":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"3a2e3a7d2549a34fb7ec9be55424e41388025336":["a71f63026529f3c1f03cfdd664910873ab2369ae","28288370235ed02234a64753cdbf0c6ec096304a","2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["e135e47842b3fd6a4797b7e4787241b06817efa2"],"a71f63026529f3c1f03cfdd664910873ab2369ae":["28288370235ed02234a64753cdbf0c6ec096304a","2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9"],"28288370235ed02234a64753cdbf0c6ec096304a":["9f4251f14d2db68330fc1e6f0495c053a905d560"],"2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}