{"path":"src/java/org/apache/solr/handler/admin/LukeRequestHandler#getIndexInfo(IndexReader).mjava","commits":[{"id":"2070bf73ffa1039a505000f99ea245884ff19e11","date":1177653367,"type":0,"author":"Ryan McKinley","isMerge":false,"pathNew":"src/java/org/apache/solr/handler/admin/LukeRequestHandler#getIndexInfo(IndexReader).mjava","pathOld":"/dev/null","sourceNew":"  private static SimpleOrderedMap<Object> getIndexInfo( IndexReader reader ) throws IOException\n  {\n    // Count the terms\n    TermEnum te = reader.terms();\n    int numTerms = 0;\n    while (te.next()) {\n      numTerms++;\n    }\n    \n    Directory dir = reader.directory();\n    SimpleOrderedMap<Object> indexInfo = new SimpleOrderedMap<Object>();\n    indexInfo.add(\"numDocs\", reader.numDocs());\n    indexInfo.add(\"maxDoc\", reader.maxDoc());\n    indexInfo.add(\"numTerms\", numTerms );\n    indexInfo.add(\"version\", reader.getVersion());  // TODO? Is this different then: IndexReader.getCurrentVersion( dir )?\n    indexInfo.add(\"optimized\", reader.isOptimized() );\n    indexInfo.add(\"current\", reader.isCurrent() );\n    indexInfo.add(\"hasDeletions\", reader.hasDeletions() );\n    indexInfo.add(\"directory\", dir );\n    indexInfo.add(\"lastModified\", new Date(IndexReader.lastModified(dir)) );\n    return indexInfo;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"6a3ba66d289fab97b1bad9db1f4be6bf42977499","date":1180032380,"type":5,"author":"Ryan McKinley","isMerge":false,"pathNew":"src/java/org/apache/solr/handler/admin/LukeRequestHandler#getIndexInfo(IndexReader,boolean).mjava","pathOld":"src/java/org/apache/solr/handler/admin/LukeRequestHandler#getIndexInfo(IndexReader).mjava","sourceNew":"  private static SimpleOrderedMap<Object> getIndexInfo( IndexReader reader, boolean countTerms ) throws IOException\n  {\n    Directory dir = reader.directory();\n    SimpleOrderedMap<Object> indexInfo = new SimpleOrderedMap<Object>();\n    indexInfo.add(\"numDocs\", reader.numDocs());\n    indexInfo.add(\"maxDoc\", reader.maxDoc());\n    \n    if( countTerms ) {\n      TermEnum te = reader.terms();\n      int numTerms = 0;\n      while (te.next()) {\n        numTerms++;\n      }\n      indexInfo.add(\"numTerms\", numTerms );\n    }\n\n    indexInfo.add(\"version\", reader.getVersion());  // TODO? Is this different then: IndexReader.getCurrentVersion( dir )?\n    indexInfo.add(\"optimized\", reader.isOptimized() );\n    indexInfo.add(\"current\", reader.isCurrent() );\n    indexInfo.add(\"hasDeletions\", reader.hasDeletions() );\n    indexInfo.add(\"directory\", dir );\n    indexInfo.add(\"lastModified\", new Date(IndexReader.lastModified(dir)) );\n    return indexInfo;\n  }\n\n","sourceOld":"  private static SimpleOrderedMap<Object> getIndexInfo( IndexReader reader ) throws IOException\n  {\n    // Count the terms\n    TermEnum te = reader.terms();\n    int numTerms = 0;\n    while (te.next()) {\n      numTerms++;\n    }\n    \n    Directory dir = reader.directory();\n    SimpleOrderedMap<Object> indexInfo = new SimpleOrderedMap<Object>();\n    indexInfo.add(\"numDocs\", reader.numDocs());\n    indexInfo.add(\"maxDoc\", reader.maxDoc());\n    indexInfo.add(\"numTerms\", numTerms );\n    indexInfo.add(\"version\", reader.getVersion());  // TODO? Is this different then: IndexReader.getCurrentVersion( dir )?\n    indexInfo.add(\"optimized\", reader.isOptimized() );\n    indexInfo.add(\"current\", reader.isCurrent() );\n    indexInfo.add(\"hasDeletions\", reader.hasDeletions() );\n    indexInfo.add(\"directory\", dir );\n    indexInfo.add(\"lastModified\", new Date(IndexReader.lastModified(dir)) );\n    return indexInfo;\n  }\n\n","bugFix":null,"bugIntro":["616ed7f9e598992da3e9e972bbb3d6cec6b1aed4"],"isBuggy":true,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b":[],"2070bf73ffa1039a505000f99ea245884ff19e11":["3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b"],"6a3ba66d289fab97b1bad9db1f4be6bf42977499":["2070bf73ffa1039a505000f99ea245884ff19e11"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b":["2070bf73ffa1039a505000f99ea245884ff19e11"],"2070bf73ffa1039a505000f99ea245884ff19e11":["6a3ba66d289fab97b1bad9db1f4be6bf42977499"],"6a3ba66d289fab97b1bad9db1f4be6bf42977499":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["6a3ba66d289fab97b1bad9db1f4be6bf42977499","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b"],"pathCommit":null}