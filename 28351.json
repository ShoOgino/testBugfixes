{"path":"solr/test-framework/src/java/org/apache/solr/SolrTestCaseJ4#assertQEx(String,String,SolrQueryRequest,SolrException.ErrorCode).mjava","commits":[{"id":"84b24f47dd3dfa4e2396cd6f819a35445b0a53fd","date":1406137403,"type":0,"author":"Erick Erickson","isMerge":false,"pathNew":"solr/test-framework/src/java/org/apache/solr/SolrTestCaseJ4#assertQEx(String,String,SolrQueryRequest,SolrException.ErrorCode).mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Makes sure a query throws a SolrException with the listed response code and expected message\n   * @param failMessage The assert message to show when the query doesn't throw the expected exception\n   * @param exceptionMessage A substring of the message expected in the exception\n   * @param req Solr request\n   * @param code expected error code for the query\n   */\n  public static void assertQEx(String failMessage, String exceptionMessage, SolrQueryRequest req, SolrException.ErrorCode code ) {\n    try {\n      ignoreException(\".\");\n      h.query(req);\n      fail( failMessage );\n    } catch (SolrException e) {\n      assertEquals( code.code, e.code() );\n      assertTrue(\"Unexpected error message. Expecting \\\"\" + exceptionMessage + \n          \"\\\" but got \\\"\" + e.getMessage() + \"\\\"\", e.getMessage()!= null && e.getMessage().contains(exceptionMessage));\n    } catch (Exception e2) {\n      throw new RuntimeException(\"Exception during query\", e2);\n    } finally {\n      unIgnoreException(\".\");\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"84b24f47dd3dfa4e2396cd6f819a35445b0a53fd":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["84b24f47dd3dfa4e2396cd6f819a35445b0a53fd"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["84b24f47dd3dfa4e2396cd6f819a35445b0a53fd"],"84b24f47dd3dfa4e2396cd6f819a35445b0a53fd":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}