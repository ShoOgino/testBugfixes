{"path":"solr/core/src/test/org/apache/solr/search/TestHashQParserPlugin#testManyHashPartitions().mjava","commits":[{"id":"b727c2b644ee54d2e38238ce0d24d069e9dec877","date":1534803679,"type":0,"author":"Varun Thacker","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/TestHashQParserPlugin#testManyHashPartitions().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testManyHashPartitions() throws Exception {\n    ModifiableSolrParams params = new ModifiableSolrParams();\n    params.add(\"q\", \"*:*\");\n    params.add(\"fq\", \"{!hash worker=0 workers=2 cost=\"+getCost(random())+\"}\");\n    params.add(\"partitionKeys\", \"a_i,a_s,a_i,a_s\");\n    params.add(\"wt\", \"xml\");\n    String response = h.query(req(params));\n    h.validateXPath(response, \"//*[@numFound='0']\");\n\n    params = new ModifiableSolrParams();\n    params.add(\"q\", \"*:*\");\n    params.add(\"fq\", \"{!hash worker=0 workers=2 cost=\"+getCost(random())+\"}\");\n    params.add(\"partitionKeys\", \"a_i,a_s,a_i,a_s,a_i\");\n    params.add(\"wt\", \"xml\");\n    ModifiableSolrParams finalParams = params;\n    expectThrows(SolrException.class, () -> h.query(req(finalParams)));\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"9dd6cf7e1b30a14801c9e290183b875c6801bbe9","date":1591734817,"type":3,"author":"Mike Drob","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/TestHashQParserPlugin#testManyHashPartitions().mjava","pathOld":"solr/core/src/test/org/apache/solr/search/TestHashQParserPlugin#testManyHashPartitions().mjava","sourceNew":"  @Test\n  public void testManyHashPartitions() throws Exception {\n    ModifiableSolrParams params = new ModifiableSolrParams();\n    params.add(\"q\", \"*:*\");\n    params.add(\"fq\", \"{!hash worker=0 workers=2 cost=\"+getCost(random())+\"}\");\n    params.add(\"partitionKeys\", \"a_i,a_s,a_i,a_s\");\n    params.add(\"wt\", \"xml\");\n    String response = h.query(req(params));\n    BaseTestHarness.validateXPath(response, \"//*[@numFound='0']\");\n\n    params = new ModifiableSolrParams();\n    params.add(\"q\", \"*:*\");\n    params.add(\"fq\", \"{!hash worker=0 workers=2 cost=\"+getCost(random())+\"}\");\n    params.add(\"partitionKeys\", \"a_i,a_s,a_i,a_s,a_i\");\n    params.add(\"wt\", \"xml\");\n    ModifiableSolrParams finalParams = params;\n    expectThrows(SolrException.class, () -> h.query(req(finalParams)));\n  }\n\n","sourceOld":"  @Test\n  public void testManyHashPartitions() throws Exception {\n    ModifiableSolrParams params = new ModifiableSolrParams();\n    params.add(\"q\", \"*:*\");\n    params.add(\"fq\", \"{!hash worker=0 workers=2 cost=\"+getCost(random())+\"}\");\n    params.add(\"partitionKeys\", \"a_i,a_s,a_i,a_s\");\n    params.add(\"wt\", \"xml\");\n    String response = h.query(req(params));\n    h.validateXPath(response, \"//*[@numFound='0']\");\n\n    params = new ModifiableSolrParams();\n    params.add(\"q\", \"*:*\");\n    params.add(\"fq\", \"{!hash worker=0 workers=2 cost=\"+getCost(random())+\"}\");\n    params.add(\"partitionKeys\", \"a_i,a_s,a_i,a_s,a_i\");\n    params.add(\"wt\", \"xml\");\n    ModifiableSolrParams finalParams = params;\n    expectThrows(SolrException.class, () -> h.query(req(finalParams)));\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"9dd6cf7e1b30a14801c9e290183b875c6801bbe9":["b727c2b644ee54d2e38238ce0d24d069e9dec877"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["9dd6cf7e1b30a14801c9e290183b875c6801bbe9"],"b727c2b644ee54d2e38238ce0d24d069e9dec877":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"9dd6cf7e1b30a14801c9e290183b875c6801bbe9":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["b727c2b644ee54d2e38238ce0d24d069e9dec877"],"b727c2b644ee54d2e38238ce0d24d069e9dec877":["9dd6cf7e1b30a14801c9e290183b875c6801bbe9"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}