{"path":"modules/analysis/common/src/java/org/apache/lucene/analysis/synonym/SynonymMap.Builder#analyze(Analyzer,String,CharsRef).mjava","commits":[{"id":"44d6f0ab53c1962856b9f48dedb7a2a6cc18905c","date":1310389132,"type":0,"author":"Robert Muir","isMerge":false,"pathNew":"modules/analysis/common/src/java/org/apache/lucene/analysis/synonym/SynonymMap.Builder#analyze(Analyzer,String,CharsRef).mjava","pathOld":"/dev/null","sourceNew":"    /** Sugar: analyzes the text with the analyzer and\n     *  separates by {@link SynonymMap#WORD_SEPARATOR}.\n     *  reuse and its chars must not be null. */\n    public static CharsRef analyze(Analyzer analyzer, String text, CharsRef reuse) throws IOException {\n      TokenStream ts = analyzer.reusableTokenStream(\"\", new StringReader(text));\n      CharTermAttribute termAtt = ts.addAttribute(CharTermAttribute.class);\n      PositionIncrementAttribute posIncAtt = ts.addAttribute(PositionIncrementAttribute.class);\n      ts.reset();\n      reuse.length = 0;\n      while (ts.incrementToken()) {\n        int length = termAtt.length();\n        if (length == 0) {\n          throw new IllegalArgumentException(\"term: \" + text + \" analyzed to a zero-length token\");\n        }\n        if (posIncAtt.getPositionIncrement() != 1) {\n          throw new IllegalArgumentException(\"term: \" + text + \" analyzed to a token with posinc != 1\");\n        }\n        reuse.grow(reuse.length + length + 1); /* current + word + separator */\n        int end = reuse.offset + reuse.length;\n        if (reuse.length > 0) {\n          reuse.chars[end++] = SynonymMap.WORD_SEPARATOR;\n          reuse.length++;\n        }\n        System.arraycopy(termAtt.buffer(), 0, reuse.chars, end, length);\n        reuse.length += length;\n      }\n      ts.end();\n      ts.close();\n      if (reuse.length == 0) {\n        throw new IllegalArgumentException(\"term: \" + text + \" was completely eliminated by analyzer\");\n      }\n      return reuse;\n    }\n\n","sourceOld":null,"bugFix":null,"bugIntro":["782ed6a4b4ba50ec19734fc8db4e570ee193d627"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"69e043c521d4e8db770cc140c63f5ef51f03426a","date":1317187614,"type":3,"author":"Christopher John Male","isMerge":false,"pathNew":"modules/analysis/common/src/java/org/apache/lucene/analysis/synonym/SynonymMap.Builder#analyze(Analyzer,String,CharsRef).mjava","pathOld":"modules/analysis/common/src/java/org/apache/lucene/analysis/synonym/SynonymMap.Builder#analyze(Analyzer,String,CharsRef).mjava","sourceNew":"    /** Sugar: analyzes the text with the analyzer and\n     *  separates by {@link SynonymMap#WORD_SEPARATOR}.\n     *  reuse and its chars must not be null. */\n    public static CharsRef analyze(Analyzer analyzer, String text, CharsRef reuse) throws IOException {\n      TokenStream ts = analyzer.tokenStream(\"\", new StringReader(text));\n      CharTermAttribute termAtt = ts.addAttribute(CharTermAttribute.class);\n      PositionIncrementAttribute posIncAtt = ts.addAttribute(PositionIncrementAttribute.class);\n      ts.reset();\n      reuse.length = 0;\n      while (ts.incrementToken()) {\n        int length = termAtt.length();\n        if (length == 0) {\n          throw new IllegalArgumentException(\"term: \" + text + \" analyzed to a zero-length token\");\n        }\n        if (posIncAtt.getPositionIncrement() != 1) {\n          throw new IllegalArgumentException(\"term: \" + text + \" analyzed to a token with posinc != 1\");\n        }\n        reuse.grow(reuse.length + length + 1); /* current + word + separator */\n        int end = reuse.offset + reuse.length;\n        if (reuse.length > 0) {\n          reuse.chars[end++] = SynonymMap.WORD_SEPARATOR;\n          reuse.length++;\n        }\n        System.arraycopy(termAtt.buffer(), 0, reuse.chars, end, length);\n        reuse.length += length;\n      }\n      ts.end();\n      ts.close();\n      if (reuse.length == 0) {\n        throw new IllegalArgumentException(\"term: \" + text + \" was completely eliminated by analyzer\");\n      }\n      return reuse;\n    }\n\n","sourceOld":"    /** Sugar: analyzes the text with the analyzer and\n     *  separates by {@link SynonymMap#WORD_SEPARATOR}.\n     *  reuse and its chars must not be null. */\n    public static CharsRef analyze(Analyzer analyzer, String text, CharsRef reuse) throws IOException {\n      TokenStream ts = analyzer.reusableTokenStream(\"\", new StringReader(text));\n      CharTermAttribute termAtt = ts.addAttribute(CharTermAttribute.class);\n      PositionIncrementAttribute posIncAtt = ts.addAttribute(PositionIncrementAttribute.class);\n      ts.reset();\n      reuse.length = 0;\n      while (ts.incrementToken()) {\n        int length = termAtt.length();\n        if (length == 0) {\n          throw new IllegalArgumentException(\"term: \" + text + \" analyzed to a zero-length token\");\n        }\n        if (posIncAtt.getPositionIncrement() != 1) {\n          throw new IllegalArgumentException(\"term: \" + text + \" analyzed to a token with posinc != 1\");\n        }\n        reuse.grow(reuse.length + length + 1); /* current + word + separator */\n        int end = reuse.offset + reuse.length;\n        if (reuse.length > 0) {\n          reuse.chars[end++] = SynonymMap.WORD_SEPARATOR;\n          reuse.length++;\n        }\n        System.arraycopy(termAtt.buffer(), 0, reuse.chars, end, length);\n        reuse.length += length;\n      }\n      ts.end();\n      ts.close();\n      if (reuse.length == 0) {\n        throw new IllegalArgumentException(\"term: \" + text + \" was completely eliminated by analyzer\");\n      }\n      return reuse;\n    }\n\n","bugFix":null,"bugIntro":["c83d6c4335f31cae14f625a222bc842f20073dcd"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"b89678825b68eccaf09e6ab71675fc0b0af1e099","date":1334669779,"type":5,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/analysis/common/src/java/org/apache/lucene/analysis/synonym/SynonymMap.Builder#analyze(Analyzer,String,CharsRef).mjava","pathOld":"modules/analysis/common/src/java/org/apache/lucene/analysis/synonym/SynonymMap.Builder#analyze(Analyzer,String,CharsRef).mjava","sourceNew":"    /** Sugar: analyzes the text with the analyzer and\n     *  separates by {@link SynonymMap#WORD_SEPARATOR}.\n     *  reuse and its chars must not be null. */\n    public static CharsRef analyze(Analyzer analyzer, String text, CharsRef reuse) throws IOException {\n      TokenStream ts = analyzer.tokenStream(\"\", new StringReader(text));\n      CharTermAttribute termAtt = ts.addAttribute(CharTermAttribute.class);\n      PositionIncrementAttribute posIncAtt = ts.addAttribute(PositionIncrementAttribute.class);\n      ts.reset();\n      reuse.length = 0;\n      while (ts.incrementToken()) {\n        int length = termAtt.length();\n        if (length == 0) {\n          throw new IllegalArgumentException(\"term: \" + text + \" analyzed to a zero-length token\");\n        }\n        if (posIncAtt.getPositionIncrement() != 1) {\n          throw new IllegalArgumentException(\"term: \" + text + \" analyzed to a token with posinc != 1\");\n        }\n        reuse.grow(reuse.length + length + 1); /* current + word + separator */\n        int end = reuse.offset + reuse.length;\n        if (reuse.length > 0) {\n          reuse.chars[end++] = SynonymMap.WORD_SEPARATOR;\n          reuse.length++;\n        }\n        System.arraycopy(termAtt.buffer(), 0, reuse.chars, end, length);\n        reuse.length += length;\n      }\n      ts.end();\n      ts.close();\n      if (reuse.length == 0) {\n        throw new IllegalArgumentException(\"term: \" + text + \" was completely eliminated by analyzer\");\n      }\n      return reuse;\n    }\n\n","sourceOld":"    /** Sugar: analyzes the text with the analyzer and\n     *  separates by {@link SynonymMap#WORD_SEPARATOR}.\n     *  reuse and its chars must not be null. */\n    public static CharsRef analyze(Analyzer analyzer, String text, CharsRef reuse) throws IOException {\n      TokenStream ts = analyzer.tokenStream(\"\", new StringReader(text));\n      CharTermAttribute termAtt = ts.addAttribute(CharTermAttribute.class);\n      PositionIncrementAttribute posIncAtt = ts.addAttribute(PositionIncrementAttribute.class);\n      ts.reset();\n      reuse.length = 0;\n      while (ts.incrementToken()) {\n        int length = termAtt.length();\n        if (length == 0) {\n          throw new IllegalArgumentException(\"term: \" + text + \" analyzed to a zero-length token\");\n        }\n        if (posIncAtt.getPositionIncrement() != 1) {\n          throw new IllegalArgumentException(\"term: \" + text + \" analyzed to a token with posinc != 1\");\n        }\n        reuse.grow(reuse.length + length + 1); /* current + word + separator */\n        int end = reuse.offset + reuse.length;\n        if (reuse.length > 0) {\n          reuse.chars[end++] = SynonymMap.WORD_SEPARATOR;\n          reuse.length++;\n        }\n        System.arraycopy(termAtt.buffer(), 0, reuse.chars, end, length);\n        reuse.length += length;\n      }\n      ts.end();\n      ts.close();\n      if (reuse.length == 0) {\n        throw new IllegalArgumentException(\"term: \" + text + \" was completely eliminated by analyzer\");\n      }\n      return reuse;\n    }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null}],"commit2Parents":{"b89678825b68eccaf09e6ab71675fc0b0af1e099":["69e043c521d4e8db770cc140c63f5ef51f03426a"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"44d6f0ab53c1962856b9f48dedb7a2a6cc18905c":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"69e043c521d4e8db770cc140c63f5ef51f03426a":["44d6f0ab53c1962856b9f48dedb7a2a6cc18905c"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["b89678825b68eccaf09e6ab71675fc0b0af1e099"]},"commit2Childs":{"b89678825b68eccaf09e6ab71675fc0b0af1e099":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["44d6f0ab53c1962856b9f48dedb7a2a6cc18905c"],"44d6f0ab53c1962856b9f48dedb7a2a6cc18905c":["69e043c521d4e8db770cc140c63f5ef51f03426a"],"69e043c521d4e8db770cc140c63f5ef51f03426a":["b89678825b68eccaf09e6ab71675fc0b0af1e099"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}