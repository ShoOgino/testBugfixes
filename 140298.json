{"path":"solr/core/src/java/org/apache/solr/request/DocValuesFacets#migrateGlobal(int[],int[],int,OrdinalMap).mjava","commits":[{"id":"c7bde94df914e38596e2ce6907c04bcca8925e19","date":1385775146,"type":0,"author":"Robert Muir","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/request/DocValuesFacets#migrateGlobal(int[],int[],int,OrdinalMap).mjava","pathOld":"/dev/null","sourceNew":"  /** folds counts in segment ordinal space (segCounts) into global ordinal space (counts) */\n  static void migrateGlobal(int counts[], int segCounts[], int subIndex, OrdinalMap map) {\n    // missing count\n    counts[0] += segCounts[0];\n    \n    // migrate actual ordinals\n    for (int ord = 1; ord < segCounts.length; ord++) {\n      int count = segCounts[ord];\n      if (count != 0) {\n        counts[1+(int) map.getGlobalOrd(subIndex, ord-1)] += count;\n      }\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"74f45af4339b0daf7a95c820ab88c1aea74fbce0","date":1387475327,"type":0,"author":"Michael McCandless","isMerge":true,"pathNew":"solr/core/src/java/org/apache/solr/request/DocValuesFacets#migrateGlobal(int[],int[],int,OrdinalMap).mjava","pathOld":"/dev/null","sourceNew":"  /** folds counts in segment ordinal space (segCounts) into global ordinal space (counts) */\n  static void migrateGlobal(int counts[], int segCounts[], int subIndex, OrdinalMap map) {\n    // missing count\n    counts[0] += segCounts[0];\n    \n    // migrate actual ordinals\n    for (int ord = 1; ord < segCounts.length; ord++) {\n      int count = segCounts[ord];\n      if (count != 0) {\n        counts[1+(int) map.getGlobalOrd(subIndex, ord-1)] += count;\n      }\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"9b25d26ad3e8f824d95db88ecc5e5d9d71d3c595","date":1402950824,"type":3,"author":"Adrien Grand","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/request/DocValuesFacets#migrateGlobal(int[],int[],int,OrdinalMap).mjava","pathOld":"solr/core/src/java/org/apache/solr/request/DocValuesFacets#migrateGlobal(int[],int[],int,OrdinalMap).mjava","sourceNew":"  /** folds counts in segment ordinal space (segCounts) into global ordinal space (counts) */\n  static void migrateGlobal(int counts[], int segCounts[], int subIndex, OrdinalMap map) {\n    final LongValues ordMap = map.getGlobalOrds(subIndex);\n    // missing count\n    counts[0] += segCounts[0];\n    \n    // migrate actual ordinals\n    for (int ord = 1; ord < segCounts.length; ord++) {\n      int count = segCounts[ord];\n      if (count != 0) {\n        counts[1+(int) ordMap.get(ord-1)] += count;\n      }\n    }\n  }\n\n","sourceOld":"  /** folds counts in segment ordinal space (segCounts) into global ordinal space (counts) */\n  static void migrateGlobal(int counts[], int segCounts[], int subIndex, OrdinalMap map) {\n    // missing count\n    counts[0] += segCounts[0];\n    \n    // migrate actual ordinals\n    for (int ord = 1; ord < segCounts.length; ord++) {\n      int count = segCounts[ord];\n      if (count != 0) {\n        counts[1+(int) map.getGlobalOrd(subIndex, ord-1)] += count;\n      }\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"f6d0aee18c1653f7ee634fa8830abdb001dcfe1b","date":1402998114,"type":3,"author":"Michael McCandless","isMerge":true,"pathNew":"solr/core/src/java/org/apache/solr/request/DocValuesFacets#migrateGlobal(int[],int[],int,OrdinalMap).mjava","pathOld":"solr/core/src/java/org/apache/solr/request/DocValuesFacets#migrateGlobal(int[],int[],int,OrdinalMap).mjava","sourceNew":"  /** folds counts in segment ordinal space (segCounts) into global ordinal space (counts) */\n  static void migrateGlobal(int counts[], int segCounts[], int subIndex, OrdinalMap map) {\n    final LongValues ordMap = map.getGlobalOrds(subIndex);\n    // missing count\n    counts[0] += segCounts[0];\n    \n    // migrate actual ordinals\n    for (int ord = 1; ord < segCounts.length; ord++) {\n      int count = segCounts[ord];\n      if (count != 0) {\n        counts[1+(int) ordMap.get(ord-1)] += count;\n      }\n    }\n  }\n\n","sourceOld":"  /** folds counts in segment ordinal space (segCounts) into global ordinal space (counts) */\n  static void migrateGlobal(int counts[], int segCounts[], int subIndex, OrdinalMap map) {\n    // missing count\n    counts[0] += segCounts[0];\n    \n    // migrate actual ordinals\n    for (int ord = 1; ord < segCounts.length; ord++) {\n      int count = segCounts[ord];\n      if (count != 0) {\n        counts[1+(int) map.getGlobalOrd(subIndex, ord-1)] += count;\n      }\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"f6d0aee18c1653f7ee634fa8830abdb001dcfe1b":["c7bde94df914e38596e2ce6907c04bcca8925e19","9b25d26ad3e8f824d95db88ecc5e5d9d71d3c595"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"74f45af4339b0daf7a95c820ab88c1aea74fbce0":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","c7bde94df914e38596e2ce6907c04bcca8925e19"],"9b25d26ad3e8f824d95db88ecc5e5d9d71d3c595":["c7bde94df914e38596e2ce6907c04bcca8925e19"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["9b25d26ad3e8f824d95db88ecc5e5d9d71d3c595"],"c7bde94df914e38596e2ce6907c04bcca8925e19":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"f6d0aee18c1653f7ee634fa8830abdb001dcfe1b":[],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["74f45af4339b0daf7a95c820ab88c1aea74fbce0","c7bde94df914e38596e2ce6907c04bcca8925e19"],"74f45af4339b0daf7a95c820ab88c1aea74fbce0":[],"9b25d26ad3e8f824d95db88ecc5e5d9d71d3c595":["f6d0aee18c1653f7ee634fa8830abdb001dcfe1b","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"c7bde94df914e38596e2ce6907c04bcca8925e19":["f6d0aee18c1653f7ee634fa8830abdb001dcfe1b","74f45af4339b0daf7a95c820ab88c1aea74fbce0","9b25d26ad3e8f824d95db88ecc5e5d9d71d3c595"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["f6d0aee18c1653f7ee634fa8830abdb001dcfe1b","74f45af4339b0daf7a95c820ab88c1aea74fbce0","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}