{"path":"lucene/test-framework/src/java/org/apache/lucene/util/TestRuleLimitSysouts#applyClassAnnotations().mjava","commits":[{"id":"cfe2b54165f74178623f51c845867b200635c934","date":1545167024,"type":1,"author":"Dawid Weiss","isMerge":false,"pathNew":"lucene/test-framework/src/java/org/apache/lucene/util/TestRuleLimitSysouts#applyClassAnnotations().mjava","pathOld":"lucene/test-framework/src/java/org/apache/lucene/util/TestRuleLimitSysouts#validateClassAnnotations().mjava","sourceNew":"  private void applyClassAnnotations() {\n    Class<?> target = RandomizedTest.getContext().getTargetClass();\n    if (target.isAnnotationPresent(Limit.class)) {\n      Limit limitAnn = target.getAnnotation(Limit.class);\n      long bytes = limitAnn.bytes();\n      if (bytes < 0 || bytes > MAX_LIMIT) {\n        throw new AssertionError(\"This sysout limit is very high: \" + bytes + \". Did you want to use \"\n            + \"@\" + LuceneTestCase.SuppressSysoutChecks.class.getName() + \" annotation to \"\n            + \"avoid sysout checks entirely (this is discouraged)?\");\n      }\n\n      hardLimit.set(limitAnn.hardLimit());\n    }\n  }\n\n","sourceOld":"  private void validateClassAnnotations() {\n    Class<?> target = RandomizedTest.getContext().getTargetClass();\n    if (target.isAnnotationPresent(Limit.class)) {\n      int bytes = target.getAnnotation(Limit.class).bytes();\n      if (bytes < 0 || bytes > 1 * 1024 * 1024) {\n        throw new AssertionError(\"The sysout limit is insane. Did you want to use \"\n            + \"@\" + LuceneTestCase.SuppressSysoutChecks.class.getName() + \" annotation to \"\n            + \"avoid sysout checks entirely?\");\n      }\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"cfe2b54165f74178623f51c845867b200635c934":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["cfe2b54165f74178623f51c845867b200635c934"]},"commit2Childs":{"cfe2b54165f74178623f51c845867b200635c934":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["cfe2b54165f74178623f51c845867b200635c934"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}