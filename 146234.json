{"path":"solr/core/src/test/org/apache/solr/cloud/TestConfigSetsAPIZkFailure.FailureDuringCopyZKDatabase#getData(String,Stat,Watcher).mjava","commits":[{"id":"2209af2c265d2258ec4b29c8cc78622d36994a15","date":1440641916,"type":0,"author":"Gregory Chanan","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/cloud/TestConfigSetsAPIZkFailure.FailureDuringCopyZKDatabase#getData(String,Stat,Watcher).mjava","pathOld":"/dev/null","sourceNew":"    @Override\n    public byte[] getData(String path, Stat stat, Watcher watcher) throws KeeperException.NoNodeException {\n      // we know we are doing a copy when we are getting data from the base config set and\n      // the new config set (partially) exists\n      String zkAddress = zkTestServer.getZkAddress();\n      String chroot = zkAddress.substring(zkAddress.lastIndexOf(\"/\"));\n      if (path.startsWith(chroot + CONFIGS_ZKNODE + \"/\" + BASE_CONFIGSET_NAME)\n          && !path.contains(ConfigSetProperties.DEFAULT_FILENAME)) {\n        List<String> children = null;\n        try {\n          children = getChildren(chroot + CONFIGS_ZKNODE + \"/\" + CONFIGSET_NAME, null, null);\n        } catch (KeeperException.NoNodeException e) {}\n        if (children != null && children.size() > 0) {\n          throw new RuntimeException(\"sample zookeeper error\");\n        }\n      }\n      return super.getData(path, stat, watcher);\n    }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"2209af2c265d2258ec4b29c8cc78622d36994a15":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["2209af2c265d2258ec4b29c8cc78622d36994a15"]},"commit2Childs":{"2209af2c265d2258ec4b29c8cc78622d36994a15":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["2209af2c265d2258ec4b29c8cc78622d36994a15"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}