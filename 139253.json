{"path":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#radiusQuery(double,double,double,String,String).mjava","commits":[{"id":"6bc65e9e84ac8f81b0861d2c7d8f56715adbf003","date":1390592414,"type":0,"author":"David Wayne Smiley","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#radiusQuery(double,double,double,String,String).mjava","pathOld":"/dev/null","sourceNew":"  private String radiusQuery(double lat, double lon, double dDEG, String score, String filter) {\n    //Choose between the Solr/Geofilt syntax, and the Lucene spatial module syntax\n    if (random().nextBoolean()) {\n      return \"{!geofilt \" +\n          \"sfield=\" + fieldName + \" \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"pt=\" + lat + \",\" + lon + \" d=\" + (dDEG * DistanceUtils.DEG_TO_KM) + \"}\";\n    } else {\n      return \"{! \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"}\" + fieldName + \":\\\"Intersects(BUFFER(POINT(\" + lon + \" \" + lat + \"),\" + dDEG + \"))\\\"\";\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":["17727014530f6432ae28e319a0242b6030d3f18a"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"17727014530f6432ae28e319a0242b6030d3f18a","date":1416941348,"type":3,"author":"David Wayne Smiley","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#radiusQuery(double,double,double,String,String).mjava","pathOld":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#radiusQuery(double,double,double,String,String).mjava","sourceNew":"  private String radiusQuery(double lat, double lon, double dDEG, String score, String filter) {\n    //Choose between the Solr/Geofilt syntax, and the Lucene spatial module syntax\n    if (fieldName.equals(\"bbox\") || random().nextBoolean()) {\n      //we cheat for bbox strategy which doesn't do radius, only rect.\n      final String qparser = fieldName.equals(\"bbox\") ? \"bbox\" : \"geofilt\";\n      return \"{!\" + qparser + \" \" +\n          \"sfield=\" + fieldName + \" \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"pt=\" + lat + \",\" + lon + \" d=\" + (dDEG * DistanceUtils.DEG_TO_KM) + \"}\";\n    } else {\n      return \"{! \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"}\" + fieldName + \":\\\"Intersects(BUFFER(POINT(\" + lon + \" \" + lat + \"),\" + dDEG + \"))\\\"\";\n    }\n  }\n\n","sourceOld":"  private String radiusQuery(double lat, double lon, double dDEG, String score, String filter) {\n    //Choose between the Solr/Geofilt syntax, and the Lucene spatial module syntax\n    if (random().nextBoolean()) {\n      return \"{!geofilt \" +\n          \"sfield=\" + fieldName + \" \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"pt=\" + lat + \",\" + lon + \" d=\" + (dDEG * DistanceUtils.DEG_TO_KM) + \"}\";\n    } else {\n      return \"{! \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"}\" + fieldName + \":\\\"Intersects(BUFFER(POINT(\" + lon + \" \" + lat + \"),\" + dDEG + \"))\\\"\";\n    }\n  }\n\n","bugFix":["6bc65e9e84ac8f81b0861d2c7d8f56715adbf003"],"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"167133992e7b384ce97f83ddb1dd2ddd09daf7aa","date":1420315776,"type":3,"author":"David Wayne Smiley","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#radiusQuery(double,double,double,String,String).mjava","pathOld":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#radiusQuery(double,double,double,String,String).mjava","sourceNew":"  private String radiusQuery(double lat, double lon, double dDEG, String score, String filter) {\n    //Choose between the Solr/Geofilt syntax, and the Lucene spatial module syntax\n    if (fieldName.equals(\"bbox\") || random().nextBoolean()) {\n      //we cheat for bbox strategy which doesn't do radius, only rect.\n      final String qparser = fieldName.equals(\"bbox\") ? \"bbox\" : \"geofilt\";\n      return \"{!\" + qparser + \" \" +\n          \"sfield=\" + fieldName + \" \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"pt=\" + lat + \",\" + lon + \" d=\" + (dDEG /* DistanceUtils.DEG_TO_KM*/) + \"}\";\n    } else {\n      return \"{! \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"}\" + fieldName + \":\\\"Intersects(BUFFER(POINT(\" + lon + \" \" + lat + \"),\" + dDEG + \"))\\\"\";\n    }\n  }\n\n","sourceOld":"  private String radiusQuery(double lat, double lon, double dDEG, String score, String filter) {\n    //Choose between the Solr/Geofilt syntax, and the Lucene spatial module syntax\n    if (fieldName.equals(\"bbox\") || random().nextBoolean()) {\n      //we cheat for bbox strategy which doesn't do radius, only rect.\n      final String qparser = fieldName.equals(\"bbox\") ? \"bbox\" : \"geofilt\";\n      return \"{!\" + qparser + \" \" +\n          \"sfield=\" + fieldName + \" \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"pt=\" + lat + \",\" + lon + \" d=\" + (dDEG * DistanceUtils.DEG_TO_KM) + \"}\";\n    } else {\n      return \"{! \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"}\" + fieldName + \":\\\"Intersects(BUFFER(POINT(\" + lon + \" \" + lat + \"),\" + dDEG + \"))\\\"\";\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"c939830c5ef00597037daf5dde07e64e5df61e2a","date":1497546065,"type":3,"author":"Steve Rowe","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#radiusQuery(double,double,double,String,String).mjava","pathOld":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#radiusQuery(double,double,double,String,String).mjava","sourceNew":"  private String radiusQuery(double lat, double lon, double dDEG, String score, String filter) {\n    //Choose between the Solr/Geofilt syntax, and the Lucene spatial module syntax\n    if (fieldName.equals(\"bbox\") || fieldName.equals(\"pbbox\") || random().nextBoolean()) {\n      //we cheat for bbox strategy which doesn't do radius, only rect.\n      final String qparser = (fieldName.equals(\"bbox\") || fieldName.equals(\"pbbox\")) ? \"bbox\" : \"geofilt\";\n      return \"{!\" + qparser + \" \" +\n          \"sfield=\" + fieldName + \" \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"pt=\" + lat + \",\" + lon + \" d=\" + (dDEG /* DistanceUtils.DEG_TO_KM*/) + \"}\";\n    } else {\n      return \"{! \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"}\" + fieldName + \":\\\"Intersects(BUFFER(POINT(\" + lon + \" \" + lat + \"),\" + dDEG + \"))\\\"\";\n    }\n  }\n\n","sourceOld":"  private String radiusQuery(double lat, double lon, double dDEG, String score, String filter) {\n    //Choose between the Solr/Geofilt syntax, and the Lucene spatial module syntax\n    if (fieldName.equals(\"bbox\") || random().nextBoolean()) {\n      //we cheat for bbox strategy which doesn't do radius, only rect.\n      final String qparser = fieldName.equals(\"bbox\") ? \"bbox\" : \"geofilt\";\n      return \"{!\" + qparser + \" \" +\n          \"sfield=\" + fieldName + \" \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"pt=\" + lat + \",\" + lon + \" d=\" + (dDEG /* DistanceUtils.DEG_TO_KM*/) + \"}\";\n    } else {\n      return \"{! \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"}\" + fieldName + \":\\\"Intersects(BUFFER(POINT(\" + lon + \" \" + lat + \"),\" + dDEG + \"))\\\"\";\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"ed602796f18796570ef57efb019278af50cbba92","date":1497547748,"type":3,"author":"Steve Rowe","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#radiusQuery(double,double,double,String,String).mjava","pathOld":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#radiusQuery(double,double,double,String,String).mjava","sourceNew":"  private String radiusQuery(double lat, double lon, double dDEG, String score, String filter) {\n    //Choose between the Solr/Geofilt syntax, and the Lucene spatial module syntax\n    if (isBBoxField(fieldName) || random().nextBoolean()) {\n      //we cheat for bbox strategy which doesn't do radius, only rect.\n      final String qparser = isBBoxField(fieldName) ? \"bbox\" : \"geofilt\";\n      return \"{!\" + qparser + \" \" +\n          \"sfield=\" + fieldName + \" \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"pt=\" + lat + \",\" + lon + \" d=\" + (dDEG /* DistanceUtils.DEG_TO_KM*/) + \"}\";\n    } else {\n      return \"{! \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"}\" + fieldName + \":\\\"Intersects(BUFFER(POINT(\" + lon + \" \" + lat + \"),\" + dDEG + \"))\\\"\";\n    }\n  }\n\n","sourceOld":"  private String radiusQuery(double lat, double lon, double dDEG, String score, String filter) {\n    //Choose between the Solr/Geofilt syntax, and the Lucene spatial module syntax\n    if (fieldName.equals(\"bbox\") || fieldName.equals(\"pbbox\") || random().nextBoolean()) {\n      //we cheat for bbox strategy which doesn't do radius, only rect.\n      final String qparser = (fieldName.equals(\"bbox\") || fieldName.equals(\"pbbox\")) ? \"bbox\" : \"geofilt\";\n      return \"{!\" + qparser + \" \" +\n          \"sfield=\" + fieldName + \" \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"pt=\" + lat + \",\" + lon + \" d=\" + (dDEG /* DistanceUtils.DEG_TO_KM*/) + \"}\";\n    } else {\n      return \"{! \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"}\" + fieldName + \":\\\"Intersects(BUFFER(POINT(\" + lon + \" \" + lat + \"),\" + dDEG + \"))\\\"\";\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9","date":1498028748,"type":3,"author":"Shalin Shekhar Mangar","isMerge":true,"pathNew":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#radiusQuery(double,double,double,String,String).mjava","pathOld":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#radiusQuery(double,double,double,String,String).mjava","sourceNew":"  private String radiusQuery(double lat, double lon, double dDEG, String score, String filter) {\n    //Choose between the Solr/Geofilt syntax, and the Lucene spatial module syntax\n    if (isBBoxField(fieldName) || random().nextBoolean()) {\n      //we cheat for bbox strategy which doesn't do radius, only rect.\n      final String qparser = isBBoxField(fieldName) ? \"bbox\" : \"geofilt\";\n      return \"{!\" + qparser + \" \" +\n          \"sfield=\" + fieldName + \" \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"pt=\" + lat + \",\" + lon + \" d=\" + (dDEG /* DistanceUtils.DEG_TO_KM*/) + \"}\";\n    } else {\n      return \"{! \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"}\" + fieldName + \":\\\"Intersects(BUFFER(POINT(\" + lon + \" \" + lat + \"),\" + dDEG + \"))\\\"\";\n    }\n  }\n\n","sourceOld":"  private String radiusQuery(double lat, double lon, double dDEG, String score, String filter) {\n    //Choose between the Solr/Geofilt syntax, and the Lucene spatial module syntax\n    if (fieldName.equals(\"bbox\") || random().nextBoolean()) {\n      //we cheat for bbox strategy which doesn't do radius, only rect.\n      final String qparser = fieldName.equals(\"bbox\") ? \"bbox\" : \"geofilt\";\n      return \"{!\" + qparser + \" \" +\n          \"sfield=\" + fieldName + \" \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"pt=\" + lat + \",\" + lon + \" d=\" + (dDEG /* DistanceUtils.DEG_TO_KM*/) + \"}\";\n    } else {\n      return \"{! \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"}\" + fieldName + \":\\\"Intersects(BUFFER(POINT(\" + lon + \" \" + lat + \"),\" + dDEG + \"))\\\"\";\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"28288370235ed02234a64753cdbf0c6ec096304a","date":1498726817,"type":3,"author":"Karl Wright","isMerge":true,"pathNew":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#radiusQuery(double,double,double,String,String).mjava","pathOld":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#radiusQuery(double,double,double,String,String).mjava","sourceNew":"  private String radiusQuery(double lat, double lon, double dDEG, String score, String filter) {\n    //Choose between the Solr/Geofilt syntax, and the Lucene spatial module syntax\n    if (isBBoxField(fieldName) || random().nextBoolean()) {\n      //we cheat for bbox strategy which doesn't do radius, only rect.\n      final String qparser = isBBoxField(fieldName) ? \"bbox\" : \"geofilt\";\n      return \"{!\" + qparser + \" \" +\n          \"sfield=\" + fieldName + \" \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"pt=\" + lat + \",\" + lon + \" d=\" + (dDEG /* DistanceUtils.DEG_TO_KM*/) + \"}\";\n    } else {\n      return \"{! \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"}\" + fieldName + \":\\\"Intersects(BUFFER(POINT(\" + lon + \" \" + lat + \"),\" + dDEG + \"))\\\"\";\n    }\n  }\n\n","sourceOld":"  private String radiusQuery(double lat, double lon, double dDEG, String score, String filter) {\n    //Choose between the Solr/Geofilt syntax, and the Lucene spatial module syntax\n    if (fieldName.equals(\"bbox\") || random().nextBoolean()) {\n      //we cheat for bbox strategy which doesn't do radius, only rect.\n      final String qparser = fieldName.equals(\"bbox\") ? \"bbox\" : \"geofilt\";\n      return \"{!\" + qparser + \" \" +\n          \"sfield=\" + fieldName + \" \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"pt=\" + lat + \",\" + lon + \" d=\" + (dDEG /* DistanceUtils.DEG_TO_KM*/) + \"}\";\n    } else {\n      return \"{! \"\n          + (score != null ? \"score=\"+score : \"\") + \" \"\n          + (filter != null ? \"filter=\"+filter : \"\") + \" \"\n          + \"}\" + fieldName + \":\\\"Intersects(BUFFER(POINT(\" + lon + \" \" + lat + \"),\" + dDEG + \"))\\\"\";\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"17727014530f6432ae28e319a0242b6030d3f18a":["6bc65e9e84ac8f81b0861d2c7d8f56715adbf003"],"6bc65e9e84ac8f81b0861d2c7d8f56715adbf003":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"167133992e7b384ce97f83ddb1dd2ddd09daf7aa":["17727014530f6432ae28e319a0242b6030d3f18a"],"c939830c5ef00597037daf5dde07e64e5df61e2a":["167133992e7b384ce97f83ddb1dd2ddd09daf7aa"],"28288370235ed02234a64753cdbf0c6ec096304a":["167133992e7b384ce97f83ddb1dd2ddd09daf7aa","ed602796f18796570ef57efb019278af50cbba92"],"ed602796f18796570ef57efb019278af50cbba92":["c939830c5ef00597037daf5dde07e64e5df61e2a"],"2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9":["167133992e7b384ce97f83ddb1dd2ddd09daf7aa","ed602796f18796570ef57efb019278af50cbba92"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["28288370235ed02234a64753cdbf0c6ec096304a"]},"commit2Childs":{"17727014530f6432ae28e319a0242b6030d3f18a":["167133992e7b384ce97f83ddb1dd2ddd09daf7aa"],"6bc65e9e84ac8f81b0861d2c7d8f56715adbf003":["17727014530f6432ae28e319a0242b6030d3f18a"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["6bc65e9e84ac8f81b0861d2c7d8f56715adbf003"],"167133992e7b384ce97f83ddb1dd2ddd09daf7aa":["c939830c5ef00597037daf5dde07e64e5df61e2a","28288370235ed02234a64753cdbf0c6ec096304a","2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9"],"c939830c5ef00597037daf5dde07e64e5df61e2a":["ed602796f18796570ef57efb019278af50cbba92"],"28288370235ed02234a64753cdbf0c6ec096304a":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"ed602796f18796570ef57efb019278af50cbba92":["28288370235ed02234a64753cdbf0c6ec096304a","2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9"],"2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}