{"path":"lucene/core/src/java/org/apache/lucene/search/FilteredQuery.RandomAccessFilterStrategy#useRandomAccess(Bits,long).mjava","commits":[{"id":"c105e07cbe0e7bffe11a5efbaf5e5913ec512fff","date":1412587199,"type":1,"author":"Adrien Grand","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/search/FilteredQuery.RandomAccessFilterStrategy#useRandomAccess(Bits,long).mjava","pathOld":"lucene/core/src/java/org/apache/lucene/search/FilteredQuery.RandomAccessFilterStrategy#useRandomAccess(Bits,int).mjava","sourceNew":"    /**\n     * Expert: decides if a filter should be executed as \"random-access\" or not.\n     * random-access means the filter \"filters\" in a similar way as deleted docs are filtered\n     * in Lucene. This is faster when the filter accepts many documents.\n     * However, when the filter is very sparse, it can be faster to execute the query+filter\n     * as a conjunction in some cases.\n     * \n     * The default implementation returns <code>true</code> if the filter matches more than 1%\n     * of documents\n     * \n     * @lucene.internal\n     */\n    protected boolean useRandomAccess(Bits bits, long filterCost) {\n      // if the filter matches more than 1% of documents, we use random-access\n      return filterCost * 100 > bits.length();\n    }\n\n","sourceOld":"    /**\n     * Expert: decides if a filter should be executed as \"random-access\" or not.\n     * random-access means the filter \"filters\" in a similar way as deleted docs are filtered\n     * in Lucene. This is faster when the filter accepts many documents.\n     * However, when the filter is very sparse, it can be faster to execute the query+filter\n     * as a conjunction in some cases.\n     * \n     * The default implementation returns <code>true</code> if the first document accepted by the\n     * filter is < 100.\n     * \n     * @lucene.internal\n     */\n    protected boolean useRandomAccess(Bits bits, int firstFilterDoc) {\n      //TODO once we have a cost API on filters and scorers we should rethink this heuristic\n      return firstFilterDoc < 100;\n    }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"55980207f1977bd1463465de1659b821347e2fa8","date":1413336386,"type":1,"author":"Robert Muir","isMerge":true,"pathNew":"lucene/core/src/java/org/apache/lucene/search/FilteredQuery.RandomAccessFilterStrategy#useRandomAccess(Bits,long).mjava","pathOld":"lucene/core/src/java/org/apache/lucene/search/FilteredQuery.RandomAccessFilterStrategy#useRandomAccess(Bits,int).mjava","sourceNew":"    /**\n     * Expert: decides if a filter should be executed as \"random-access\" or not.\n     * random-access means the filter \"filters\" in a similar way as deleted docs are filtered\n     * in Lucene. This is faster when the filter accepts many documents.\n     * However, when the filter is very sparse, it can be faster to execute the query+filter\n     * as a conjunction in some cases.\n     * \n     * The default implementation returns <code>true</code> if the filter matches more than 1%\n     * of documents\n     * \n     * @lucene.internal\n     */\n    protected boolean useRandomAccess(Bits bits, long filterCost) {\n      // if the filter matches more than 1% of documents, we use random-access\n      return filterCost * 100 > bits.length();\n    }\n\n","sourceOld":"    /**\n     * Expert: decides if a filter should be executed as \"random-access\" or not.\n     * random-access means the filter \"filters\" in a similar way as deleted docs are filtered\n     * in Lucene. This is faster when the filter accepts many documents.\n     * However, when the filter is very sparse, it can be faster to execute the query+filter\n     * as a conjunction in some cases.\n     * \n     * The default implementation returns <code>true</code> if the first document accepted by the\n     * filter is < 100.\n     * \n     * @lucene.internal\n     */\n    protected boolean useRandomAccess(Bits bits, int firstFilterDoc) {\n      //TODO once we have a cost API on filters and scorers we should rethink this heuristic\n      return firstFilterDoc < 100;\n    }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"1db68e96dd908fcd79ef809095822736aa601d08","date":1434630596,"type":4,"author":"Adrien Grand","isMerge":false,"pathNew":"/dev/null","pathOld":"lucene/core/src/java/org/apache/lucene/search/FilteredQuery.RandomAccessFilterStrategy#useRandomAccess(Bits,long).mjava","sourceNew":null,"sourceOld":"    /**\n     * Expert: decides if a filter should be executed as \"random-access\" or not.\n     * random-access means the filter \"filters\" in a similar way as deleted docs are filtered\n     * in Lucene. This is faster when the filter accepts many documents.\n     * However, when the filter is very sparse, it can be faster to execute the query+filter\n     * as a conjunction in some cases.\n     * \n     * The default implementation returns <code>true</code> if the filter matches more than 1%\n     * of documents\n     * \n     * @lucene.internal\n     */\n    protected boolean useRandomAccess(Bits bits, long filterCost) {\n      // if the filter matches more than 1% of documents, we use random-access\n      return filterCost * 100 > bits.length();\n    }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"1db68e96dd908fcd79ef809095822736aa601d08":["c105e07cbe0e7bffe11a5efbaf5e5913ec512fff"],"55980207f1977bd1463465de1659b821347e2fa8":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","c105e07cbe0e7bffe11a5efbaf5e5913ec512fff"],"c105e07cbe0e7bffe11a5efbaf5e5913ec512fff":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["1db68e96dd908fcd79ef809095822736aa601d08"]},"commit2Childs":{"1db68e96dd908fcd79ef809095822736aa601d08":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"55980207f1977bd1463465de1659b821347e2fa8":[],"c105e07cbe0e7bffe11a5efbaf5e5913ec512fff":["1db68e96dd908fcd79ef809095822736aa601d08","55980207f1977bd1463465de1659b821347e2fa8"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["55980207f1977bd1463465de1659b821347e2fa8","c105e07cbe0e7bffe11a5efbaf5e5913ec512fff"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["55980207f1977bd1463465de1659b821347e2fa8","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}