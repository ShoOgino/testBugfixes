{"path":"solr/core/src/java/org/apache/solr/search/SolrIndexSearcher#lookupId(String,BytesRef).mjava","commits":[{"id":"bf29cc8a76949bbcbc15b386a9e46a533f5b3332","date":1527778512,"type":0,"author":"David Smiley","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/search/SolrIndexSearcher#lookupId(String,BytesRef).mjava","pathOld":"/dev/null","sourceNew":"  private long lookupId(String field, BytesRef idBytes) throws IOException {\n    for (int i = 0, c = leafContexts.size(); i < c; i++) {\n      final LeafReaderContext leaf = leafContexts.get(i);\n      final LeafReader reader = leaf.reader();\n\n      final Terms terms = reader.terms(field);\n      if (terms == null) continue;\n\n      TermsEnum te = terms.iterator();\n      if (te.seekExact(idBytes)) {\n        PostingsEnum docs = te.postings(null, PostingsEnum.NONE);\n        docs = BitsFilteredPostingsEnum.wrap(docs, reader.getLiveDocs());\n        int id = docs.nextDoc();\n        if (id == DocIdSetIterator.NO_MORE_DOCS) continue;\n        assert docs.nextDoc() == DocIdSetIterator.NO_MORE_DOCS;\n\n        return (((long) i) << 32) | id;\n      }\n    }\n\n    return -1;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"bf29cc8a76949bbcbc15b386a9e46a533f5b3332":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["bf29cc8a76949bbcbc15b386a9e46a533f5b3332"]},"commit2Childs":{"bf29cc8a76949bbcbc15b386a9e46a533f5b3332":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["bf29cc8a76949bbcbc15b386a9e46a533f5b3332"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}