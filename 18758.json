{"path":"lucene/contrib/misc/src/java/org/apache/lucene/index/NRTManager#NRTManager(IndexWriter,ExecutorService).mjava","commits":[{"id":"39d69912999d6e0acfb6eb6be558fcc165eee0b2","date":1308066875,"type":0,"author":"Michael McCandless","isMerge":false,"pathNew":"lucene/contrib/misc/src/java/org/apache/lucene/index/NRTManager#NRTManager(IndexWriter,ExecutorService).mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Create new NRTManager.  Note that this installs a\n   * merged segment warmer on the provided IndexWriter's\n   * config.\n   * \n   *  @param writer IndexWriter to open near-real-time\n   *         readers\n   *  @param es ExecutorService to pass to the IndexSearcher\n  */\n  public NRTManager(IndexWriter writer, ExecutorService es) throws IOException {\n\n    this.writer = writer;\n    this.es = es;\n    indexingGen = new AtomicLong(1);\n    searchingGen = new AtomicLong(-1);\n    noDeletesSearchingGen = new AtomicLong(-1);\n\n    // Create initial reader:\n    swapSearcher(new IndexSearcher(IndexReader.open(writer, true), es), 0, true);\n\n    writer.getConfig().setMergedSegmentWarmer(\n         new IndexWriter.IndexReaderWarmer() {\n           @Override\n           public void warm(IndexReader reader) throws IOException {\n             NRTManager.this.warm(reader);\n           }\n         });\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"9ed208afa1e7aa98899ddb1dedfddedddf898253","date":1308079587,"type":0,"author":"Steven Rowe","isMerge":true,"pathNew":"lucene/contrib/misc/src/java/org/apache/lucene/index/NRTManager#NRTManager(IndexWriter,ExecutorService).mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Create new NRTManager.  Note that this installs a\n   * merged segment warmer on the provided IndexWriter's\n   * config.\n   * \n   *  @param writer IndexWriter to open near-real-time\n   *         readers\n   *  @param es ExecutorService to pass to the IndexSearcher\n  */\n  public NRTManager(IndexWriter writer, ExecutorService es) throws IOException {\n\n    this.writer = writer;\n    this.es = es;\n    indexingGen = new AtomicLong(1);\n    searchingGen = new AtomicLong(-1);\n    noDeletesSearchingGen = new AtomicLong(-1);\n\n    // Create initial reader:\n    swapSearcher(new IndexSearcher(IndexReader.open(writer, true), es), 0, true);\n\n    writer.getConfig().setMergedSegmentWarmer(\n         new IndexWriter.IndexReaderWarmer() {\n           @Override\n           public void warm(IndexReader reader) throws IOException {\n             NRTManager.this.warm(reader);\n           }\n         });\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"edcc2c2cbab6bf89ea584169ffb3ca83a31827f9","date":1316963893,"type":5,"author":"Michael McCandless","isMerge":false,"pathNew":"lucene/contrib/misc/src/java/org/apache/lucene/index/NRTManager#NRTManager(IndexWriter,ExecutorService,SearcherWarmer).mjava","pathOld":"lucene/contrib/misc/src/java/org/apache/lucene/index/NRTManager#NRTManager(IndexWriter,ExecutorService).mjava","sourceNew":"  /**\n   * Create new NRTManager.\n   * \n   *  @param writer IndexWriter to open near-real-time\n   *         readers\n   *  @param es optional ExecutorService so different segments can\n   *         be searched concurrently (see {@link\n   *         IndexSearcher#IndexSearcher(IndexReader,ExecutorService)}.  Pass null\n   *         to search segments sequentially.\n   *  @param warmer optional {@link SearcherWarmer}.  Pass\n   *         null if you don't require the searcher to warmed\n   *         before going live.  If this is non-null then a\n   *         merged segment warmer is installed on the\n   *         provided IndexWriter's config.\n   *\n   *  <p><b>NOTE</b>: the provided {@link SearcherWarmer} is\n   *  not invoked for the initial searcher; you should\n   *  warm it yourself if necessary.\n   */\n  public NRTManager(IndexWriter writer, ExecutorService es, SearcherWarmer warmer) throws IOException {\n\n    this.writer = writer;\n    this.es = es;\n    this.warmer = warmer;\n    indexingGen = new AtomicLong(1);\n    searchingGen = new AtomicLong(-1);\n    noDeletesSearchingGen = new AtomicLong(-1);\n\n    // Create initial reader:\n    swapSearcher(new IndexSearcher(IndexReader.open(writer, true), es), 0, true);\n\n    if (this.warmer != null) {\n      writer.getConfig().setMergedSegmentWarmer(\n         new IndexWriter.IndexReaderWarmer() {\n           @Override\n           public void warm(IndexReader reader) throws IOException {\n             NRTManager.this.warmer.warm(new IndexSearcher(reader, NRTManager.this.es));\n           }\n         });\n    }\n  }\n\n","sourceOld":"  /**\n   * Create new NRTManager.  Note that this installs a\n   * merged segment warmer on the provided IndexWriter's\n   * config.\n   * \n   *  @param writer IndexWriter to open near-real-time\n   *         readers\n   *  @param es ExecutorService to pass to the IndexSearcher\n  */\n  public NRTManager(IndexWriter writer, ExecutorService es) throws IOException {\n\n    this.writer = writer;\n    this.es = es;\n    indexingGen = new AtomicLong(1);\n    searchingGen = new AtomicLong(-1);\n    noDeletesSearchingGen = new AtomicLong(-1);\n\n    // Create initial reader:\n    swapSearcher(new IndexSearcher(IndexReader.open(writer, true), es), 0, true);\n\n    writer.getConfig().setMergedSegmentWarmer(\n         new IndexWriter.IndexReaderWarmer() {\n           @Override\n           public void warm(IndexReader reader) throws IOException {\n             NRTManager.this.warm(reader);\n           }\n         });\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"39d69912999d6e0acfb6eb6be558fcc165eee0b2":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"edcc2c2cbab6bf89ea584169ffb3ca83a31827f9":["39d69912999d6e0acfb6eb6be558fcc165eee0b2"],"9ed208afa1e7aa98899ddb1dedfddedddf898253":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","39d69912999d6e0acfb6eb6be558fcc165eee0b2"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["edcc2c2cbab6bf89ea584169ffb3ca83a31827f9"]},"commit2Childs":{"39d69912999d6e0acfb6eb6be558fcc165eee0b2":["edcc2c2cbab6bf89ea584169ffb3ca83a31827f9","9ed208afa1e7aa98899ddb1dedfddedddf898253"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["39d69912999d6e0acfb6eb6be558fcc165eee0b2","9ed208afa1e7aa98899ddb1dedfddedddf898253"],"edcc2c2cbab6bf89ea584169ffb3ca83a31827f9":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"9ed208afa1e7aa98899ddb1dedfddedddf898253":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["9ed208afa1e7aa98899ddb1dedfddedddf898253","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}