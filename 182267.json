{"path":"solr/core/src/java/org/apache/solr/update/UpdateLog#deleteAll().mjava","commits":[{"id":"fb999ed3fc6e419b9104de9ebfe62ace27f31d5f","date":1341327930,"type":0,"author":"Yonik Seeley","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/update/UpdateLog#deleteAll().mjava","pathOld":"/dev/null","sourceNew":"  /** currently for testing only */\n  public void deleteAll() {\n    synchronized (this) {\n\n      try {\n        RefCounted<SolrIndexSearcher> holder = uhandler.core.openNewSearcher(true, true);\n        holder.decref();\n      } catch (Throwable e) {\n        SolrException.log(log, \"Error opening realtime searcher for deleteByQuery\", e);\n      }\n\n      map.clear();\n      oldDeletes.clear();\n      deleteByQueries.clear();\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":["f56da6f4f15d95f318d2d6ac2a39a9183dfecff2"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"546049537cdccd28f8500e45543da67235f8e51b","date":1341426072,"type":3,"author":"Yonik Seeley","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/update/UpdateLog#deleteAll().mjava","pathOld":"solr/core/src/java/org/apache/solr/update/UpdateLog#deleteAll().mjava","sourceNew":"  /** currently for testing only */\n  public void deleteAll() {\n    synchronized (this) {\n\n      try {\n        RefCounted<SolrIndexSearcher> holder = uhandler.core.openNewSearcher(true, true);\n        holder.decref();\n      } catch (Throwable e) {\n        SolrException.log(log, \"Error opening realtime searcher for deleteByQuery\", e);\n      }\n\n      if (map != null) map.clear();\n      if (prevMap != null) prevMap.clear();\n      if (prevMap2 != null) prevMap2.clear();\n\n      oldDeletes.clear();\n      deleteByQueries.clear();\n    }\n  }\n\n","sourceOld":"  /** currently for testing only */\n  public void deleteAll() {\n    synchronized (this) {\n\n      try {\n        RefCounted<SolrIndexSearcher> holder = uhandler.core.openNewSearcher(true, true);\n        holder.decref();\n      } catch (Throwable e) {\n        SolrException.log(log, \"Error opening realtime searcher for deleteByQuery\", e);\n      }\n\n      map.clear();\n      oldDeletes.clear();\n      deleteByQueries.clear();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"fe33227f6805edab2036cbb80645cc4e2d1fa424","date":1342713534,"type":0,"author":"Michael McCandless","isMerge":true,"pathNew":"solr/core/src/java/org/apache/solr/update/UpdateLog#deleteAll().mjava","pathOld":"/dev/null","sourceNew":"  /** currently for testing only */\n  public void deleteAll() {\n    synchronized (this) {\n\n      try {\n        RefCounted<SolrIndexSearcher> holder = uhandler.core.openNewSearcher(true, true);\n        holder.decref();\n      } catch (Throwable e) {\n        SolrException.log(log, \"Error opening realtime searcher for deleteByQuery\", e);\n      }\n\n      if (map != null) map.clear();\n      if (prevMap != null) prevMap.clear();\n      if (prevMap2 != null) prevMap2.clear();\n\n      oldDeletes.clear();\n      deleteByQueries.clear();\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"f56da6f4f15d95f318d2d6ac2a39a9183dfecff2","date":1389633998,"type":3,"author":"Mark Robert Miller","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/update/UpdateLog#deleteAll().mjava","pathOld":"solr/core/src/java/org/apache/solr/update/UpdateLog#deleteAll().mjava","sourceNew":"  /** currently for testing only */\n  public void deleteAll() {\n    synchronized (this) {\n\n      try {\n        RefCounted<SolrIndexSearcher> holder = uhandler.core.openNewSearcher(true, true);\n        holder.decref();\n      } catch (Exception e) {\n        SolrException.log(log, \"Error opening realtime searcher for deleteByQuery\", e);\n      }\n\n      if (map != null) map.clear();\n      if (prevMap != null) prevMap.clear();\n      if (prevMap2 != null) prevMap2.clear();\n\n      oldDeletes.clear();\n      deleteByQueries.clear();\n    }\n  }\n\n","sourceOld":"  /** currently for testing only */\n  public void deleteAll() {\n    synchronized (this) {\n\n      try {\n        RefCounted<SolrIndexSearcher> holder = uhandler.core.openNewSearcher(true, true);\n        holder.decref();\n      } catch (Throwable e) {\n        SolrException.log(log, \"Error opening realtime searcher for deleteByQuery\", e);\n      }\n\n      if (map != null) map.clear();\n      if (prevMap != null) prevMap.clear();\n      if (prevMap2 != null) prevMap2.clear();\n\n      oldDeletes.clear();\n      deleteByQueries.clear();\n    }\n  }\n\n","bugFix":["fb999ed3fc6e419b9104de9ebfe62ace27f31d5f"],"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"fb999ed3fc6e419b9104de9ebfe62ace27f31d5f":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"fe33227f6805edab2036cbb80645cc4e2d1fa424":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","546049537cdccd28f8500e45543da67235f8e51b"],"546049537cdccd28f8500e45543da67235f8e51b":["fb999ed3fc6e419b9104de9ebfe62ace27f31d5f"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"f56da6f4f15d95f318d2d6ac2a39a9183dfecff2":["546049537cdccd28f8500e45543da67235f8e51b"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["f56da6f4f15d95f318d2d6ac2a39a9183dfecff2"]},"commit2Childs":{"fb999ed3fc6e419b9104de9ebfe62ace27f31d5f":["546049537cdccd28f8500e45543da67235f8e51b"],"fe33227f6805edab2036cbb80645cc4e2d1fa424":[],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["fb999ed3fc6e419b9104de9ebfe62ace27f31d5f","fe33227f6805edab2036cbb80645cc4e2d1fa424"],"546049537cdccd28f8500e45543da67235f8e51b":["fe33227f6805edab2036cbb80645cc4e2d1fa424","f56da6f4f15d95f318d2d6ac2a39a9183dfecff2"],"f56da6f4f15d95f318d2d6ac2a39a9183dfecff2":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["fe33227f6805edab2036cbb80645cc4e2d1fa424","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}