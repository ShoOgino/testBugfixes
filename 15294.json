{"path":"src/java/org/apache/solr/update/processor/ChainedUpdateProcessorFactory#init(SolrCore,Node).mjava","commits":[{"id":"94fdcbef0182cbb32b3519de6a3d7d4d7bcb11d7","date":1189312484,"type":1,"author":"Ryan McKinley","isMerge":false,"pathNew":"src/java/org/apache/solr/update/processor/ChainedUpdateProcessorFactory#init(SolrCore,Node).mjava","pathOld":"src/java/org/apache/solr/update/processor/ChainedUpdateProcessorFactory#init(Node).mjava","sourceNew":"  @Override\n  public void init( final SolrCore core, final Node node ) {\n    final ArrayList<UpdateRequestProcessorFactory> factories = new ArrayList<UpdateRequestProcessorFactory>();\n    if( node != null ) {\n      // Load and initialize the plugin chain\n      AbstractPluginLoader<UpdateRequestProcessorFactory> loader \n          = new AbstractPluginLoader<UpdateRequestProcessorFactory>( \"processor chain\", false, false ) {\n        @Override\n        protected void init(UpdateRequestProcessorFactory plugin, Node node) throws Exception {\n          plugin.init( core, node );\n        }\n  \n        @Override\n        protected UpdateRequestProcessorFactory register(String name, UpdateRequestProcessorFactory plugin) throws Exception {\n          factories.add( plugin );\n          return null;\n        }\n      };\n      \n      XPath xpath = XPathFactory.newInstance().newXPath();\n      try {\n        loader.load( core.getSolrConfig(), (NodeList) xpath.evaluate( \"chain\", node, XPathConstants.NODESET ) );\n      } \n      catch (XPathExpressionException e) {\n        throw new SolrException( SolrException.ErrorCode.SERVER_ERROR,\n            \"Error loading processor chain: \" + node,e,false);\n      }\n    }\n    \n    // If not configured, make sure it has the default settings\n    if( factories.size() < 1 ) {\n      factories.add( new RunUpdateProcessorFactory() );\n      factories.add( new LogUpdateProcessorFactory() );\n    }\n    factory = factories.toArray( new UpdateRequestProcessorFactory[factories.size()] );\n  }\n\n","sourceOld":"  @Override\n  public void init( Node node ) {\n    final ArrayList<UpdateRequestProcessorFactory> factories = new ArrayList<UpdateRequestProcessorFactory>();\n    if( node != null ) {\n      // Load and initialize the plugin chain\n      AbstractPluginLoader<UpdateRequestProcessorFactory> loader \n          = new AbstractPluginLoader<UpdateRequestProcessorFactory>( \"processor chain\", false, false ) {\n        @Override\n        protected void init(UpdateRequestProcessorFactory plugin, Node node) throws Exception {\n          plugin.init( node );\n        }\n  \n        @Override\n        protected UpdateRequestProcessorFactory register(String name, UpdateRequestProcessorFactory plugin) throws Exception {\n          factories.add( plugin );\n          return null;\n        }\n      };\n      \n      XPath xpath = XPathFactory.newInstance().newXPath();\n      try {\n        loader.load( (NodeList) xpath.evaluate( \"chain\", node, XPathConstants.NODESET ) );\n      } \n      catch (XPathExpressionException e) {\n        throw new SolrException( SolrException.ErrorCode.SERVER_ERROR,\n            \"Error loading processor chain: \" + node,e,false);\n      }\n    }\n    \n    // If not configured, make sure it has the default settings\n    if( factories.size() < 1 ) {\n      factories.add( new RunUpdateProcessorFactory() );\n      factories.add( new LogUpdateProcessorFactory() );\n    }\n    factory = factories.toArray( new UpdateRequestProcessorFactory[factories.size()] );\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"fcf52a7da226d8d3756cc8bf9f3ae1f39952b014","date":1195912306,"type":3,"author":"Ryan McKinley","isMerge":false,"pathNew":"src/java/org/apache/solr/update/processor/ChainedUpdateProcessorFactory#init(SolrCore,Node).mjava","pathOld":"src/java/org/apache/solr/update/processor/ChainedUpdateProcessorFactory#init(SolrCore,Node).mjava","sourceNew":"  @Override\n  public void init( final SolrCore core, final Node node ) {\n    final ArrayList<UpdateRequestProcessorFactory> factories = new ArrayList<UpdateRequestProcessorFactory>();\n    if( node != null ) {\n      // Load and initialize the plugin chain\n      AbstractPluginLoader<UpdateRequestProcessorFactory> loader \n          = new AbstractPluginLoader<UpdateRequestProcessorFactory>( \"processor chain\", false, false ) {\n        @Override\n        protected void init(UpdateRequestProcessorFactory plugin, Node node) throws Exception {\n          plugin.init( core, node );\n        }\n  \n        @Override\n        protected UpdateRequestProcessorFactory register(String name, UpdateRequestProcessorFactory plugin) throws Exception {\n          factories.add( plugin );\n          return null;\n        }\n      };\n      \n      XPath xpath = XPathFactory.newInstance().newXPath();\n      try {\n        loader.load( core.getResourceLoader(), (NodeList) xpath.evaluate( \"chain\", node, XPathConstants.NODESET ) );\n      } \n      catch (XPathExpressionException e) {\n        throw new SolrException( SolrException.ErrorCode.SERVER_ERROR,\n            \"Error loading processor chain: \" + node,e,false);\n      }\n    }\n    \n    // If not configured, make sure it has the default settings\n    if( factories.size() < 1 ) {\n      factories.add( new RunUpdateProcessorFactory() );\n      factories.add( new LogUpdateProcessorFactory() );\n    }\n    factory = factories.toArray( new UpdateRequestProcessorFactory[factories.size()] );\n  }\n\n","sourceOld":"  @Override\n  public void init( final SolrCore core, final Node node ) {\n    final ArrayList<UpdateRequestProcessorFactory> factories = new ArrayList<UpdateRequestProcessorFactory>();\n    if( node != null ) {\n      // Load and initialize the plugin chain\n      AbstractPluginLoader<UpdateRequestProcessorFactory> loader \n          = new AbstractPluginLoader<UpdateRequestProcessorFactory>( \"processor chain\", false, false ) {\n        @Override\n        protected void init(UpdateRequestProcessorFactory plugin, Node node) throws Exception {\n          plugin.init( core, node );\n        }\n  \n        @Override\n        protected UpdateRequestProcessorFactory register(String name, UpdateRequestProcessorFactory plugin) throws Exception {\n          factories.add( plugin );\n          return null;\n        }\n      };\n      \n      XPath xpath = XPathFactory.newInstance().newXPath();\n      try {\n        loader.load( core.getSolrConfig(), (NodeList) xpath.evaluate( \"chain\", node, XPathConstants.NODESET ) );\n      } \n      catch (XPathExpressionException e) {\n        throw new SolrException( SolrException.ErrorCode.SERVER_ERROR,\n            \"Error loading processor chain: \" + node,e,false);\n      }\n    }\n    \n    // If not configured, make sure it has the default settings\n    if( factories.size() < 1 ) {\n      factories.add( new RunUpdateProcessorFactory() );\n      factories.add( new LogUpdateProcessorFactory() );\n    }\n    factory = factories.toArray( new UpdateRequestProcessorFactory[factories.size()] );\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"d656bfb8102419b4568f368a9606efc4f059912e","date":1217031644,"type":4,"author":"Ryan McKinley","isMerge":false,"pathNew":"/dev/null","pathOld":"src/java/org/apache/solr/update/processor/ChainedUpdateProcessorFactory#init(SolrCore,Node).mjava","sourceNew":null,"sourceOld":"  @Override\n  public void init( final SolrCore core, final Node node ) {\n    final ArrayList<UpdateRequestProcessorFactory> factories = new ArrayList<UpdateRequestProcessorFactory>();\n    if( node != null ) {\n      // Load and initialize the plugin chain\n      AbstractPluginLoader<UpdateRequestProcessorFactory> loader \n          = new AbstractPluginLoader<UpdateRequestProcessorFactory>( \"processor chain\", false, false ) {\n        @Override\n        protected void init(UpdateRequestProcessorFactory plugin, Node node) throws Exception {\n          plugin.init( core, node );\n        }\n  \n        @Override\n        protected UpdateRequestProcessorFactory register(String name, UpdateRequestProcessorFactory plugin) throws Exception {\n          factories.add( plugin );\n          return null;\n        }\n      };\n      \n      XPath xpath = XPathFactory.newInstance().newXPath();\n      try {\n        loader.load( core.getResourceLoader(), (NodeList) xpath.evaluate( \"chain\", node, XPathConstants.NODESET ) );\n      } \n      catch (XPathExpressionException e) {\n        throw new SolrException( SolrException.ErrorCode.SERVER_ERROR,\n            \"Error loading processor chain: \" + node,e,false);\n      }\n    }\n    \n    // If not configured, make sure it has the default settings\n    if( factories.size() < 1 ) {\n      factories.add( new RunUpdateProcessorFactory() );\n      factories.add( new LogUpdateProcessorFactory() );\n    }\n    factory = factories.toArray( new UpdateRequestProcessorFactory[factories.size()] );\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b":[],"d656bfb8102419b4568f368a9606efc4f059912e":["fcf52a7da226d8d3756cc8bf9f3ae1f39952b014"],"fcf52a7da226d8d3756cc8bf9f3ae1f39952b014":["94fdcbef0182cbb32b3519de6a3d7d4d7bcb11d7"],"94fdcbef0182cbb32b3519de6a3d7d4d7bcb11d7":["3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b":["94fdcbef0182cbb32b3519de6a3d7d4d7bcb11d7"],"d656bfb8102419b4568f368a9606efc4f059912e":[],"fcf52a7da226d8d3756cc8bf9f3ae1f39952b014":["d656bfb8102419b4568f368a9606efc4f059912e"],"94fdcbef0182cbb32b3519de6a3d7d4d7bcb11d7":["fcf52a7da226d8d3756cc8bf9f3ae1f39952b014"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["d656bfb8102419b4568f368a9606efc4f059912e","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b"],"pathCommit":null}