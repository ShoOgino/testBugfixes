{"path":"lucene/core/src/java/org/apache/lucene/store/ByteBuffersDataInput#readBytes(ByteBuffer,int).mjava","commits":[{"id":"fad01f81cc24b33263ccec7dbff3fb907702f91e","date":1535461373,"type":0,"author":"Dawid Weiss","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/store/ByteBuffersDataInput#readBytes(ByteBuffer,int).mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Reads exactly {@code len} bytes into the given buffer. The buffer must have\n   * enough remaining limit.\n   * \n   * If there are fewer than {@code len} bytes in the input, {@link EOFException} \n   * is thrown. \n   */\n  public void readBytes(ByteBuffer buffer, int len) throws EOFException {\n    try {\n      while (len > 0) {\n        ByteBuffer block = blocks[blockIndex(pos)].duplicate();\n        int blockOffset = blockOffset(pos);\n        block.position(blockOffset);\n        int chunk = Math.min(len, block.remaining());\n        if (chunk == 0) {\n          throw new EOFException();\n        }\n\n        // Update pos early on for EOF detection on output buffer, then try to get buffer content.\n        pos += chunk;\n        block.limit(blockOffset + chunk);\n        buffer.put(block);\n\n        len -= chunk;\n      }\n    } catch (BufferUnderflowException | ArrayIndexOutOfBoundsException e) {\n      if (pos >= size()) {\n        throw new EOFException();\n      } else {\n        throw e; // Something is wrong.\n      }\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"fad01f81cc24b33263ccec7dbff3fb907702f91e":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["fad01f81cc24b33263ccec7dbff3fb907702f91e"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["fad01f81cc24b33263ccec7dbff3fb907702f91e"],"fad01f81cc24b33263ccec7dbff3fb907702f91e":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}