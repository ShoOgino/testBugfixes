{"path":"solr/test-framework/src/java/org/apache/solr/cloud/SolrCloudTestCase#mapReplicasToReplicaType(DocCollection).mjava","commits":[{"id":"ad2b6c2ec630dc0bf592b217af5cd07c62ac2839","date":1575929518,"type":0,"author":"Houston Putman","isMerge":false,"pathNew":"solr/test-framework/src/java/org/apache/solr/cloud/SolrCloudTestCase#mapReplicasToReplicaType(DocCollection).mjava","pathOld":"/dev/null","sourceNew":"  public static Map<String, String> mapReplicasToReplicaType(DocCollection collection) {\n    Map<String, String> replicaTypeMap = new HashMap<>();\n    for (Slice slice : collection.getSlices()) {\n      for (Replica replica : slice.getReplicas()) {\n        String coreUrl = replica.getCoreUrl();\n        // It seems replica reports its core URL with a trailing slash while shard\n        // info returned from the query doesn't. Oh well. We will include both, just in case\n        replicaTypeMap.put(coreUrl, replica.getType().toString());\n        if (coreUrl.endsWith(\"/\")) {\n          replicaTypeMap.put(coreUrl.substring(0, coreUrl.length() - 1), replica.getType().toString());\n        }else {\n          replicaTypeMap.put(coreUrl + \"/\", replica.getType().toString());\n        }\n      }\n    }\n    return replicaTypeMap;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"993b0c7dda6341b437fe5685d35c6cc35eaac420","date":1575985950,"type":0,"author":"Dawid Weiss","isMerge":true,"pathNew":"solr/test-framework/src/java/org/apache/solr/cloud/SolrCloudTestCase#mapReplicasToReplicaType(DocCollection).mjava","pathOld":"/dev/null","sourceNew":"  public static Map<String, String> mapReplicasToReplicaType(DocCollection collection) {\n    Map<String, String> replicaTypeMap = new HashMap<>();\n    for (Slice slice : collection.getSlices()) {\n      for (Replica replica : slice.getReplicas()) {\n        String coreUrl = replica.getCoreUrl();\n        // It seems replica reports its core URL with a trailing slash while shard\n        // info returned from the query doesn't. Oh well. We will include both, just in case\n        replicaTypeMap.put(coreUrl, replica.getType().toString());\n        if (coreUrl.endsWith(\"/\")) {\n          replicaTypeMap.put(coreUrl.substring(0, coreUrl.length() - 1), replica.getType().toString());\n        }else {\n          replicaTypeMap.put(coreUrl + \"/\", replica.getType().toString());\n        }\n      }\n    }\n    return replicaTypeMap;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"993b0c7dda6341b437fe5685d35c6cc35eaac420":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","ad2b6c2ec630dc0bf592b217af5cd07c62ac2839"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"ad2b6c2ec630dc0bf592b217af5cd07c62ac2839":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["ad2b6c2ec630dc0bf592b217af5cd07c62ac2839"]},"commit2Childs":{"993b0c7dda6341b437fe5685d35c6cc35eaac420":[],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["993b0c7dda6341b437fe5685d35c6cc35eaac420","ad2b6c2ec630dc0bf592b217af5cd07c62ac2839"],"ad2b6c2ec630dc0bf592b217af5cd07c62ac2839":["993b0c7dda6341b437fe5685d35c6cc35eaac420","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["993b0c7dda6341b437fe5685d35c6cc35eaac420","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}