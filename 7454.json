{"path":"modules/facet/src/test/org/apache/lucene/facet/util/TestScoredDocIDsUtils#createReaderWithNDocs(int,DocumentFactory).mjava","commits":[{"id":"89f15687f60bd49cd3d9de427e85c17fd9397d61","date":1309381327,"type":0,"author":"Robert Muir","isMerge":false,"pathNew":"modules/facet/src/test/org/apache/lucene/facet/util/TestScoredDocIDsUtils#createReaderWithNDocs(int,DocumentFactory).mjava","pathOld":"/dev/null","sourceNew":"  static IndexReader createReaderWithNDocs(int nDocs, DocumentFactory docFactory) throws IOException {\n    Directory ramDir = new RAMDirectory();\n\n    // Create the index\n    IndexWriter writer = new IndexWriter(ramDir, new IndexWriterConfig(TEST_VERSION_CURRENT, new KeywordAnalyzer()));\n    for (int docNum = 0; docNum < nDocs; docNum++) {\n      writer.addDocument(docFactory.getDoc(docNum));\n    }\n    writer.commit();\n    writer.close();\n\n    // Delete documents marked for deletion\n    IndexReader reader = IndexReader.open(ramDir, false);\n    reader.deleteDocuments(new Term(DocumentFactory.field, DocumentFactory.delTxt));\n    reader.close();\n\n    // Open a fresh read-only reader with the deletions in place\n    return IndexReader.open(ramDir, true);\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"7a4df66e06e0c3b520d7d5941e1c043076f06f17","date":1309454196,"type":5,"author":"Robert Muir","isMerge":false,"pathNew":"modules/facet/src/test/org/apache/lucene/facet/util/TestScoredDocIDsUtils#createReaderWithNDocs(Random,int,DocumentFactory,Directory).mjava","pathOld":"modules/facet/src/test/org/apache/lucene/facet/util/TestScoredDocIDsUtils#createReaderWithNDocs(int,DocumentFactory).mjava","sourceNew":"  static IndexReader createReaderWithNDocs(Random random, int nDocs, DocumentFactory docFactory, Directory dir) throws IOException {\n    // Create the index\n    RandomIndexWriter writer = new RandomIndexWriter(random, dir, newIndexWriterConfig(random, TEST_VERSION_CURRENT, \n        new MockAnalyzer(random, MockTokenizer.KEYWORD, false)));\n    for (int docNum = 0; docNum < nDocs; docNum++) {\n      writer.addDocument(docFactory.getDoc(docNum));\n    }\n    writer.close();\n\n    // Delete documents marked for deletion\n    IndexReader reader = IndexReader.open(dir, false);\n    reader.deleteDocuments(new Term(DocumentFactory.field, DocumentFactory.delTxt));\n    reader.close();\n\n    // Open a fresh read-only reader with the deletions in place\n    return IndexReader.open(dir, true);\n  }\n\n","sourceOld":"  static IndexReader createReaderWithNDocs(int nDocs, DocumentFactory docFactory) throws IOException {\n    Directory ramDir = new RAMDirectory();\n\n    // Create the index\n    IndexWriter writer = new IndexWriter(ramDir, new IndexWriterConfig(TEST_VERSION_CURRENT, new KeywordAnalyzer()));\n    for (int docNum = 0; docNum < nDocs; docNum++) {\n      writer.addDocument(docFactory.getDoc(docNum));\n    }\n    writer.commit();\n    writer.close();\n\n    // Delete documents marked for deletion\n    IndexReader reader = IndexReader.open(ramDir, false);\n    reader.deleteDocuments(new Term(DocumentFactory.field, DocumentFactory.delTxt));\n    reader.close();\n\n    // Open a fresh read-only reader with the deletions in place\n    return IndexReader.open(ramDir, true);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"7a4df66e06e0c3b520d7d5941e1c043076f06f17":["89f15687f60bd49cd3d9de427e85c17fd9397d61"],"89f15687f60bd49cd3d9de427e85c17fd9397d61":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["7a4df66e06e0c3b520d7d5941e1c043076f06f17"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["89f15687f60bd49cd3d9de427e85c17fd9397d61"],"7a4df66e06e0c3b520d7d5941e1c043076f06f17":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"89f15687f60bd49cd3d9de427e85c17fd9397d61":["7a4df66e06e0c3b520d7d5941e1c043076f06f17"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}