{"path":"contrib/memory/src/java/org/apache/lucene/index/memory/AnalyzerUtil.TokenCachingAnalyzer#tokenStream(String,Reader).mjava","commits":[{"id":"377b6c04030498cf26062c99aa1d46b15118945b","date":1164649046,"type":0,"author":"Wolfgang Hoschek","isMerge":false,"pathNew":"contrib/memory/src/java/org/apache/lucene/index/memory/AnalyzerUtil.TokenCachingAnalyzer#tokenStream(String,Reader).mjava","pathOld":"/dev/null","sourceNew":"    public TokenStream tokenStream(String fieldName, Reader reader) {\n      final ArrayList tokens = (ArrayList) cache.get(fieldName);\n      if (tokens == null) { // not yet cached\n        final ArrayList tokens2 = new ArrayList();\n        cache.put(fieldName, tokens2);\n        return new TokenFilter(child.tokenStream(fieldName, reader)) {\n\n          public Token next() throws IOException {\n            Token token = input.next(); // from filter super class\n            if (token != null) tokens2.add(token);\n            return token;\n          }\n        };\n      } else { // already cached\n        return new TokenStream() {\n\n          private Iterator iter = tokens.iterator();\n\n          public Token next() {\n            if (!iter.hasNext()) return null;\n            return (Token) iter.next();\n          }\n        };\n      }\n    }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"cbd4f37195fa1ffd923031c58ae7b82b9959a260","date":1164659132,"type":4,"author":"Wolfgang Hoschek","isMerge":false,"pathNew":"/dev/null","pathOld":"contrib/memory/src/java/org/apache/lucene/index/memory/AnalyzerUtil.TokenCachingAnalyzer#tokenStream(String,Reader).mjava","sourceNew":null,"sourceOld":"    public TokenStream tokenStream(String fieldName, Reader reader) {\n      final ArrayList tokens = (ArrayList) cache.get(fieldName);\n      if (tokens == null) { // not yet cached\n        final ArrayList tokens2 = new ArrayList();\n        cache.put(fieldName, tokens2);\n        return new TokenFilter(child.tokenStream(fieldName, reader)) {\n\n          public Token next() throws IOException {\n            Token token = input.next(); // from filter super class\n            if (token != null) tokens2.add(token);\n            return token;\n          }\n        };\n      } else { // already cached\n        return new TokenStream() {\n\n          private Iterator iter = tokens.iterator();\n\n          public Token next() {\n            if (!iter.hasNext()) return null;\n            return (Token) iter.next();\n          }\n        };\n      }\n    }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"377b6c04030498cf26062c99aa1d46b15118945b":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["cbd4f37195fa1ffd923031c58ae7b82b9959a260"],"cbd4f37195fa1ffd923031c58ae7b82b9959a260":["377b6c04030498cf26062c99aa1d46b15118945b"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["377b6c04030498cf26062c99aa1d46b15118945b"],"377b6c04030498cf26062c99aa1d46b15118945b":["cbd4f37195fa1ffd923031c58ae7b82b9959a260"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[],"cbd4f37195fa1ffd923031c58ae7b82b9959a260":["cd5edd1f2b162a5cfa08efd17851a07373a96817"]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}