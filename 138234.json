{"path":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/NormalizeSumEvaluator#doWork(Object...).mjava","commits":[{"id":"300ececaee7f8a08752bcba8e497264491a1853e","date":1511807923,"type":0,"author":"Joel Bernstein","isMerge":false,"pathNew":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/NormalizeSumEvaluator#doWork(Object...).mjava","pathOld":"/dev/null","sourceNew":"  @Override\n  public Object doWork(Object... values) throws IOException{\n\n    Object value = values[0];\n\n    double sumTo = 1.0;\n\n    if(values.length == 2) {\n      Number n = (Number)values[1];\n      sumTo = n.doubleValue();\n    }\n\n    if(null == value){\n      return null;\n    } else if(value instanceof Matrix) {\n      Matrix matrix = (Matrix) value;\n\n      double[][] data = matrix.getData();\n      double[][] unitData = new double[data.length][];\n      for(int i=0; i<data.length; i++) {\n        double[] row = data[i];\n        double[] unitRow = MathArrays.normalizeArray(row, sumTo);\n        unitData[i] = unitRow;\n      }\n\n      return new Matrix(unitData);\n    } else if(value instanceof List) {\n      List<Number> vals = (List<Number>)value;\n      double[] doubles = new double[vals.size()];\n      for(int i=0; i<doubles.length; i++) {\n        doubles[i] = vals.get(i).doubleValue();\n      }\n\n      List<Number> unitList = new ArrayList(doubles.length);\n      double[] unitArray = MathArrays.normalizeArray(doubles, sumTo);\n      for(double d : unitArray) {\n        unitList.add(d);\n      }\n\n      return unitList;\n    } else {\n      throw new IOException(\"The unit function expects either a numeric array or matrix as a parameter\");\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"f0e53d133180083c87dcb8114b087cfe6bfc7bce","date":1511856078,"type":0,"author":"Karl Wright","isMerge":true,"pathNew":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/NormalizeSumEvaluator#doWork(Object...).mjava","pathOld":"/dev/null","sourceNew":"  @Override\n  public Object doWork(Object... values) throws IOException{\n\n    Object value = values[0];\n\n    double sumTo = 1.0;\n\n    if(values.length == 2) {\n      Number n = (Number)values[1];\n      sumTo = n.doubleValue();\n    }\n\n    if(null == value){\n      return null;\n    } else if(value instanceof Matrix) {\n      Matrix matrix = (Matrix) value;\n\n      double[][] data = matrix.getData();\n      double[][] unitData = new double[data.length][];\n      for(int i=0; i<data.length; i++) {\n        double[] row = data[i];\n        double[] unitRow = MathArrays.normalizeArray(row, sumTo);\n        unitData[i] = unitRow;\n      }\n\n      return new Matrix(unitData);\n    } else if(value instanceof List) {\n      List<Number> vals = (List<Number>)value;\n      double[] doubles = new double[vals.size()];\n      for(int i=0; i<doubles.length; i++) {\n        doubles[i] = vals.get(i).doubleValue();\n      }\n\n      List<Number> unitList = new ArrayList(doubles.length);\n      double[] unitArray = MathArrays.normalizeArray(doubles, sumTo);\n      for(double d : unitArray) {\n        unitList.add(d);\n      }\n\n      return unitList;\n    } else {\n      throw new IOException(\"The unit function expects either a numeric array or matrix as a parameter\");\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"c469fe67f2da2a654eb8d709dfd239236f23a9a2","date":1570414680,"type":3,"author":"Joel Bernstein","isMerge":false,"pathNew":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/NormalizeSumEvaluator#doWork(Object...).mjava","pathOld":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/NormalizeSumEvaluator#doWork(Object...).mjava","sourceNew":"  @Override\n  public Object doWork(Object... values) throws IOException{\n\n    Object value = values[0];\n\n    double sumTo = 1.0;\n\n    if(values.length == 2) {\n      Number n = (Number)values[1];\n      sumTo = n.doubleValue();\n    }\n\n    if(null == value){\n      return null;\n    } else if(value instanceof Matrix) {\n      Matrix matrix = (Matrix) value;\n\n      double[][] data = matrix.getData();\n      double[][] unitData = new double[data.length][];\n      for(int i=0; i<data.length; i++) {\n        double[] row = data[i];\n        double[] unitRow = MathArrays.normalizeArray(row, sumTo);\n        unitData[i] = unitRow;\n      }\n\n      Matrix m = new Matrix(unitData);\n      m.setRowLabels(matrix.getRowLabels());\n      m.setColumnLabels(matrix.getColumnLabels());\n      return m;\n    } else if(value instanceof List) {\n      List<Number> vals = (List<Number>)value;\n      double[] doubles = new double[vals.size()];\n      for(int i=0; i<doubles.length; i++) {\n        doubles[i] = vals.get(i).doubleValue();\n      }\n\n      List<Number> unitList = new ArrayList(doubles.length);\n      double[] unitArray = MathArrays.normalizeArray(doubles, sumTo);\n      for(double d : unitArray) {\n        unitList.add(d);\n      }\n\n      return unitList;\n    } else {\n      throw new IOException(\"The unit function expects either a numeric array or matrix as a parameter\");\n    }\n  }\n\n","sourceOld":"  @Override\n  public Object doWork(Object... values) throws IOException{\n\n    Object value = values[0];\n\n    double sumTo = 1.0;\n\n    if(values.length == 2) {\n      Number n = (Number)values[1];\n      sumTo = n.doubleValue();\n    }\n\n    if(null == value){\n      return null;\n    } else if(value instanceof Matrix) {\n      Matrix matrix = (Matrix) value;\n\n      double[][] data = matrix.getData();\n      double[][] unitData = new double[data.length][];\n      for(int i=0; i<data.length; i++) {\n        double[] row = data[i];\n        double[] unitRow = MathArrays.normalizeArray(row, sumTo);\n        unitData[i] = unitRow;\n      }\n\n      return new Matrix(unitData);\n    } else if(value instanceof List) {\n      List<Number> vals = (List<Number>)value;\n      double[] doubles = new double[vals.size()];\n      for(int i=0; i<doubles.length; i++) {\n        doubles[i] = vals.get(i).doubleValue();\n      }\n\n      List<Number> unitList = new ArrayList(doubles.length);\n      double[] unitArray = MathArrays.normalizeArray(doubles, sumTo);\n      for(double d : unitArray) {\n        unitList.add(d);\n      }\n\n      return unitList;\n    } else {\n      throw new IOException(\"The unit function expects either a numeric array or matrix as a parameter\");\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"b0b597c65628ca9e73913a07e81691f8229bae35","date":1571224353,"type":3,"author":"jimczi","isMerge":true,"pathNew":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/NormalizeSumEvaluator#doWork(Object...).mjava","pathOld":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/NormalizeSumEvaluator#doWork(Object...).mjava","sourceNew":"  @Override\n  public Object doWork(Object... values) throws IOException{\n\n    Object value = values[0];\n\n    double sumTo = 1.0;\n\n    if(values.length == 2) {\n      Number n = (Number)values[1];\n      sumTo = n.doubleValue();\n    }\n\n    if(null == value){\n      return null;\n    } else if(value instanceof Matrix) {\n      Matrix matrix = (Matrix) value;\n\n      double[][] data = matrix.getData();\n      double[][] unitData = new double[data.length][];\n      for(int i=0; i<data.length; i++) {\n        double[] row = data[i];\n        double[] unitRow = MathArrays.normalizeArray(row, sumTo);\n        unitData[i] = unitRow;\n      }\n\n      Matrix m = new Matrix(unitData);\n      m.setRowLabels(matrix.getRowLabels());\n      m.setColumnLabels(matrix.getColumnLabels());\n      return m;\n    } else if(value instanceof List) {\n      List<Number> vals = (List<Number>)value;\n      double[] doubles = new double[vals.size()];\n      for(int i=0; i<doubles.length; i++) {\n        doubles[i] = vals.get(i).doubleValue();\n      }\n\n      List<Number> unitList = new ArrayList(doubles.length);\n      double[] unitArray = MathArrays.normalizeArray(doubles, sumTo);\n      for(double d : unitArray) {\n        unitList.add(d);\n      }\n\n      return unitList;\n    } else {\n      throw new IOException(\"The unit function expects either a numeric array or matrix as a parameter\");\n    }\n  }\n\n","sourceOld":"  @Override\n  public Object doWork(Object... values) throws IOException{\n\n    Object value = values[0];\n\n    double sumTo = 1.0;\n\n    if(values.length == 2) {\n      Number n = (Number)values[1];\n      sumTo = n.doubleValue();\n    }\n\n    if(null == value){\n      return null;\n    } else if(value instanceof Matrix) {\n      Matrix matrix = (Matrix) value;\n\n      double[][] data = matrix.getData();\n      double[][] unitData = new double[data.length][];\n      for(int i=0; i<data.length; i++) {\n        double[] row = data[i];\n        double[] unitRow = MathArrays.normalizeArray(row, sumTo);\n        unitData[i] = unitRow;\n      }\n\n      return new Matrix(unitData);\n    } else if(value instanceof List) {\n      List<Number> vals = (List<Number>)value;\n      double[] doubles = new double[vals.size()];\n      for(int i=0; i<doubles.length; i++) {\n        doubles[i] = vals.get(i).doubleValue();\n      }\n\n      List<Number> unitList = new ArrayList(doubles.length);\n      double[] unitArray = MathArrays.normalizeArray(doubles, sumTo);\n      for(double d : unitArray) {\n        unitList.add(d);\n      }\n\n      return unitList;\n    } else {\n      throw new IOException(\"The unit function expects either a numeric array or matrix as a parameter\");\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"df1b3ced2f2a6c2031f5a5b0cfff01f7ae017885","date":1591579911,"type":3,"author":"Erick Erickson","isMerge":false,"pathNew":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/NormalizeSumEvaluator#doWork(Object...).mjava","pathOld":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/NormalizeSumEvaluator#doWork(Object...).mjava","sourceNew":"  @Override\n  public Object doWork(Object... values) throws IOException{\n\n    Object value = values[0];\n\n    double sumTo = 1.0;\n\n    if(values.length == 2) {\n      Number n = (Number)values[1];\n      sumTo = n.doubleValue();\n    }\n\n    if(null == value){\n      return null;\n    } else if(value instanceof Matrix) {\n      Matrix matrix = (Matrix) value;\n\n      double[][] data = matrix.getData();\n      double[][] unitData = new double[data.length][];\n      for(int i=0; i<data.length; i++) {\n        double[] row = data[i];\n        double[] unitRow = MathArrays.normalizeArray(row, sumTo);\n        unitData[i] = unitRow;\n      }\n\n      Matrix m = new Matrix(unitData);\n      m.setRowLabels(matrix.getRowLabels());\n      m.setColumnLabels(matrix.getColumnLabels());\n      return m;\n    } else if(value instanceof List) {\n      @SuppressWarnings({\"unchecked\"})\n      List<Number> vals = (List<Number>)value;\n      double[] doubles = new double[vals.size()];\n      for(int i=0; i<doubles.length; i++) {\n        doubles[i] = vals.get(i).doubleValue();\n      }\n\n      List<Number> unitList = new ArrayList<>(doubles.length);\n      double[] unitArray = MathArrays.normalizeArray(doubles, sumTo);\n      for(double d : unitArray) {\n        unitList.add(d);\n      }\n\n      return unitList;\n    } else {\n      throw new IOException(\"The unit function expects either a numeric array or matrix as a parameter\");\n    }\n  }\n\n","sourceOld":"  @Override\n  public Object doWork(Object... values) throws IOException{\n\n    Object value = values[0];\n\n    double sumTo = 1.0;\n\n    if(values.length == 2) {\n      Number n = (Number)values[1];\n      sumTo = n.doubleValue();\n    }\n\n    if(null == value){\n      return null;\n    } else if(value instanceof Matrix) {\n      Matrix matrix = (Matrix) value;\n\n      double[][] data = matrix.getData();\n      double[][] unitData = new double[data.length][];\n      for(int i=0; i<data.length; i++) {\n        double[] row = data[i];\n        double[] unitRow = MathArrays.normalizeArray(row, sumTo);\n        unitData[i] = unitRow;\n      }\n\n      Matrix m = new Matrix(unitData);\n      m.setRowLabels(matrix.getRowLabels());\n      m.setColumnLabels(matrix.getColumnLabels());\n      return m;\n    } else if(value instanceof List) {\n      List<Number> vals = (List<Number>)value;\n      double[] doubles = new double[vals.size()];\n      for(int i=0; i<doubles.length; i++) {\n        doubles[i] = vals.get(i).doubleValue();\n      }\n\n      List<Number> unitList = new ArrayList(doubles.length);\n      double[] unitArray = MathArrays.normalizeArray(doubles, sumTo);\n      for(double d : unitArray) {\n        unitList.add(d);\n      }\n\n      return unitList;\n    } else {\n      throw new IOException(\"The unit function expects either a numeric array or matrix as a parameter\");\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"df1b3ced2f2a6c2031f5a5b0cfff01f7ae017885":["c469fe67f2da2a654eb8d709dfd239236f23a9a2"],"c469fe67f2da2a654eb8d709dfd239236f23a9a2":["f0e53d133180083c87dcb8114b087cfe6bfc7bce"],"300ececaee7f8a08752bcba8e497264491a1853e":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"f0e53d133180083c87dcb8114b087cfe6bfc7bce":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","300ececaee7f8a08752bcba8e497264491a1853e"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["df1b3ced2f2a6c2031f5a5b0cfff01f7ae017885"],"b0b597c65628ca9e73913a07e81691f8229bae35":["f0e53d133180083c87dcb8114b087cfe6bfc7bce","c469fe67f2da2a654eb8d709dfd239236f23a9a2"]},"commit2Childs":{"df1b3ced2f2a6c2031f5a5b0cfff01f7ae017885":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"c469fe67f2da2a654eb8d709dfd239236f23a9a2":["df1b3ced2f2a6c2031f5a5b0cfff01f7ae017885","b0b597c65628ca9e73913a07e81691f8229bae35"],"300ececaee7f8a08752bcba8e497264491a1853e":["f0e53d133180083c87dcb8114b087cfe6bfc7bce"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["300ececaee7f8a08752bcba8e497264491a1853e","f0e53d133180083c87dcb8114b087cfe6bfc7bce"],"f0e53d133180083c87dcb8114b087cfe6bfc7bce":["c469fe67f2da2a654eb8d709dfd239236f23a9a2","b0b597c65628ca9e73913a07e81691f8229bae35"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[],"b0b597c65628ca9e73913a07e81691f8229bae35":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817","b0b597c65628ca9e73913a07e81691f8229bae35"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}