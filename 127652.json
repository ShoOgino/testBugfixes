{"path":"lucene/benchmark/src/java/org/apache/lucene/benchmark/byTask/feeds/TrecDocParser#extract(StringBuilder,String,String,int,String[]).mjava","commits":[{"id":"b89678825b68eccaf09e6ab71675fc0b0af1e099","date":1334669779,"type":1,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/benchmark/src/java/org/apache/lucene/benchmark/byTask/feeds/TrecDocParser#extract(StringBuilder,String,String,int,String[]).mjava","pathOld":"modules/benchmark/src/java/org/apache/lucene/benchmark/byTask/feeds/TrecDocParser#extract(StringBuilder,String,String,int,String[]).mjava","sourceNew":"  /**\n   * Extract from <code>buf</code> the text of interest within specified tags\n   * @param buf entire input text\n   * @param startTag tag marking start of text of interest \n   * @param endTag tag marking end of text of interest\n   * @param maxPos if &ge; 0 sets a limit on start of text of interest\n   * @return text of interest or null if not found\n   */\n  public static String extract(StringBuilder buf, String startTag, String endTag, int maxPos, String noisePrefixes[]) {\n    int k1 = buf.indexOf(startTag);\n    if (k1>=0 && (maxPos<0 || k1<maxPos)) {\n      k1 += startTag.length();\n      int k2 = buf.indexOf(endTag,k1);\n      if (k2>=0 && (maxPos<0 || k2<maxPos)) { // found end tag with allowed range\n        if (noisePrefixes != null) {\n          for (String noise : noisePrefixes) {\n            int k1a = buf.indexOf(noise,k1);\n            if (k1a>=0 && k1a<k2) {\n              k1 = k1a + noise.length();\n            }\n          }          \n        }\n        return buf.substring(k1,k2).trim();\n      }\n    }\n    return null;\n  }\n\n","sourceOld":"  /**\n   * Extract from <code>buf</code> the text of interest within specified tags\n   * @param buf entire input text\n   * @param startTag tag marking start of text of interest \n   * @param endTag tag marking end of text of interest\n   * @param maxPos if &ge; 0 sets a limit on start of text of interest\n   * @return text of interest or null if not found\n   */\n  public static String extract(StringBuilder buf, String startTag, String endTag, int maxPos, String noisePrefixes[]) {\n    int k1 = buf.indexOf(startTag);\n    if (k1>=0 && (maxPos<0 || k1<maxPos)) {\n      k1 += startTag.length();\n      int k2 = buf.indexOf(endTag,k1);\n      if (k2>=0 && (maxPos<0 || k2<maxPos)) { // found end tag with allowed range\n        if (noisePrefixes != null) {\n          for (String noise : noisePrefixes) {\n            int k1a = buf.indexOf(noise,k1);\n            if (k1a>=0 && k1a<k2) {\n              k1 = k1a + noise.length();\n            }\n          }          \n        }\n        return buf.substring(k1,k2).trim();\n      }\n    }\n    return null;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"b89678825b68eccaf09e6ab71675fc0b0af1e099":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["b89678825b68eccaf09e6ab71675fc0b0af1e099"]},"commit2Childs":{"b89678825b68eccaf09e6ab71675fc0b0af1e099":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["b89678825b68eccaf09e6ab71675fc0b0af1e099"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}