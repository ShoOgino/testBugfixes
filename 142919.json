{"path":"lucene/highlighter/src/test/org/apache/lucene/search/uhighlight/TestDefaultPassageFormatter#testBasic().mjava","commits":[{"id":"a3ba86d243e38281200fd85e0d48b3fe5c0b260b","date":1577139648,"type":0,"author":"Nándor Mátravölgyi","isMerge":false,"pathNew":"lucene/highlighter/src/test/org/apache/lucene/search/uhighlight/TestDefaultPassageFormatter#testBasic().mjava","pathOld":"/dev/null","sourceNew":"  public void testBasic() throws Exception {\n    String text = \"Test customization & <div class=\\\"xy\\\">&quot;escaping&quot;</div> of this very formatter. Unrelated part. It's not very N/A!\";\n    // fabricate passages with matches to format\n    Passage[] passages = new Passage[2];\n    passages[0] = new Passage();\n    passages[0].setStartOffset(0);\n    passages[0].setEndOffset(text.indexOf(\".\")+1);\n    passages[0].addMatch(text.indexOf(\"very\"), text.indexOf(\"very\")+4, null, 2);\n    passages[1] = new Passage();\n    passages[1].setStartOffset(text.indexOf(\".\", passages[0].getEndOffset()+1) + 2);\n    passages[1].setEndOffset(text.length());\n    passages[1].addMatch(\n        text.indexOf(\"very\", passages[0].getEndOffset()),\n        text.indexOf(\"very\", passages[0].getEndOffset())+4, null, 2);\n\n    // test default\n    DefaultPassageFormatter formatter = new DefaultPassageFormatter();\n    assertEquals(\n        \"Test customization & <div class=\\\"xy\\\">&quot;escaping&quot;</div> of this <b>very</b> formatter.\" +\n            \"... It's not <b>very</b> N/A!\", formatter.format(passages, text));\n\n    // test customization and encoding\n    formatter = new DefaultPassageFormatter(\"<u>\", \"</u>\", \"\\u2026 \", true);\n    assertEquals(\n        \"Test customization &amp; &lt;div class=&quot;xy&quot;&gt;&amp;quot;escaping&amp;quot;\" +\n            \"&lt;&#x2F;div&gt; of this <u>very</u> formatter.\\u2026 It&#x27;s not <u>very</u> N&#x2F;A!\",\n        formatter.format(passages, text));\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"96b4a3cd1f2463ebc4ffc0f61acdb3359637fe2a","date":1577276097,"type":0,"author":"Dawid Weiss","isMerge":true,"pathNew":"lucene/highlighter/src/test/org/apache/lucene/search/uhighlight/TestDefaultPassageFormatter#testBasic().mjava","pathOld":"/dev/null","sourceNew":"  public void testBasic() throws Exception {\n    String text = \"Test customization & <div class=\\\"xy\\\">&quot;escaping&quot;</div> of this very formatter. Unrelated part. It's not very N/A!\";\n    // fabricate passages with matches to format\n    Passage[] passages = new Passage[2];\n    passages[0] = new Passage();\n    passages[0].setStartOffset(0);\n    passages[0].setEndOffset(text.indexOf(\".\")+1);\n    passages[0].addMatch(text.indexOf(\"very\"), text.indexOf(\"very\")+4, null, 2);\n    passages[1] = new Passage();\n    passages[1].setStartOffset(text.indexOf(\".\", passages[0].getEndOffset()+1) + 2);\n    passages[1].setEndOffset(text.length());\n    passages[1].addMatch(\n        text.indexOf(\"very\", passages[0].getEndOffset()),\n        text.indexOf(\"very\", passages[0].getEndOffset())+4, null, 2);\n\n    // test default\n    DefaultPassageFormatter formatter = new DefaultPassageFormatter();\n    assertEquals(\n        \"Test customization & <div class=\\\"xy\\\">&quot;escaping&quot;</div> of this <b>very</b> formatter.\" +\n            \"... It's not <b>very</b> N/A!\", formatter.format(passages, text));\n\n    // test customization and encoding\n    formatter = new DefaultPassageFormatter(\"<u>\", \"</u>\", \"\\u2026 \", true);\n    assertEquals(\n        \"Test customization &amp; &lt;div class=&quot;xy&quot;&gt;&amp;quot;escaping&amp;quot;\" +\n            \"&lt;&#x2F;div&gt; of this <u>very</u> formatter.\\u2026 It&#x27;s not <u>very</u> N&#x2F;A!\",\n        formatter.format(passages, text));\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a3ba86d243e38281200fd85e0d48b3fe5c0b260b":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"96b4a3cd1f2463ebc4ffc0f61acdb3359637fe2a":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","a3ba86d243e38281200fd85e0d48b3fe5c0b260b"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["a3ba86d243e38281200fd85e0d48b3fe5c0b260b"]},"commit2Childs":{"a3ba86d243e38281200fd85e0d48b3fe5c0b260b":["96b4a3cd1f2463ebc4ffc0f61acdb3359637fe2a","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"96b4a3cd1f2463ebc4ffc0f61acdb3359637fe2a":[],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["a3ba86d243e38281200fd85e0d48b3fe5c0b260b","96b4a3cd1f2463ebc4ffc0f61acdb3359637fe2a"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["96b4a3cd1f2463ebc4ffc0f61acdb3359637fe2a","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}