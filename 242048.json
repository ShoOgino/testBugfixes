{"path":"solr/core/src/java/org/apache/solr/security/BasicAuthPlugin#getPromptHeaders(boolean).mjava","commits":[{"id":"27656822b6594fd0b598f7ff65d0fb3d13b8c9e5","date":1546862966,"type":0,"author":"Jan HÃ¸ydahl","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/security/BasicAuthPlugin#getPromptHeaders(boolean).mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Get the prompt headers, and replace Basic with xBasic if ajax request to avoid\n   * browser intercepting the authentication\n   * @param isAjaxRequest set to true if the request is an ajax request\n   * @return map of headers\n   */\n  private Map<String, String> getPromptHeaders(boolean isAjaxRequest) {\n    Map<String,String> headers = new HashMap(authenticationProvider.getPromptHeaders());\n    if (isAjaxRequest && headers.containsKey(HttpHeaders.WWW_AUTHENTICATE) \n        && headers.get(HttpHeaders.WWW_AUTHENTICATE).startsWith(\"Basic \")) {\n      headers.put(HttpHeaders.WWW_AUTHENTICATE, \"x\" + headers.get(HttpHeaders.WWW_AUTHENTICATE));\n      log.debug(\"Prefixing {} header for Basic Auth with 'x' to prevent browser basic auth popup\",\n          HttpHeaders.WWW_AUTHENTICATE);\n    }\n    return headers;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"06a8891f085f71282bb3ece1b1732b68f07813a3","date":1591912889,"type":3,"author":"Erick Erickson","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/security/BasicAuthPlugin#getPromptHeaders(boolean).mjava","pathOld":"solr/core/src/java/org/apache/solr/security/BasicAuthPlugin#getPromptHeaders(boolean).mjava","sourceNew":"  /**\n   * Get the prompt headers, and replace Basic with xBasic if ajax request to avoid\n   * browser intercepting the authentication\n   * @param isAjaxRequest set to true if the request is an ajax request\n   * @return map of headers\n   */\n  private Map<String, String> getPromptHeaders(boolean isAjaxRequest) {\n    Map<String,String> headers = new HashMap<>(authenticationProvider.getPromptHeaders());\n    if (isAjaxRequest && headers.containsKey(HttpHeaders.WWW_AUTHENTICATE) \n        && headers.get(HttpHeaders.WWW_AUTHENTICATE).startsWith(\"Basic \")) {\n      headers.put(HttpHeaders.WWW_AUTHENTICATE, \"x\" + headers.get(HttpHeaders.WWW_AUTHENTICATE));\n      log.debug(\"Prefixing {} header for Basic Auth with 'x' to prevent browser basic auth popup\",\n          HttpHeaders.WWW_AUTHENTICATE);\n    }\n    return headers;\n  }\n\n","sourceOld":"  /**\n   * Get the prompt headers, and replace Basic with xBasic if ajax request to avoid\n   * browser intercepting the authentication\n   * @param isAjaxRequest set to true if the request is an ajax request\n   * @return map of headers\n   */\n  private Map<String, String> getPromptHeaders(boolean isAjaxRequest) {\n    Map<String,String> headers = new HashMap(authenticationProvider.getPromptHeaders());\n    if (isAjaxRequest && headers.containsKey(HttpHeaders.WWW_AUTHENTICATE) \n        && headers.get(HttpHeaders.WWW_AUTHENTICATE).startsWith(\"Basic \")) {\n      headers.put(HttpHeaders.WWW_AUTHENTICATE, \"x\" + headers.get(HttpHeaders.WWW_AUTHENTICATE));\n      log.debug(\"Prefixing {} header for Basic Auth with 'x' to prevent browser basic auth popup\",\n          HttpHeaders.WWW_AUTHENTICATE);\n    }\n    return headers;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"06a8891f085f71282bb3ece1b1732b68f07813a3":["27656822b6594fd0b598f7ff65d0fb3d13b8c9e5"],"27656822b6594fd0b598f7ff65d0fb3d13b8c9e5":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["06a8891f085f71282bb3ece1b1732b68f07813a3"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["27656822b6594fd0b598f7ff65d0fb3d13b8c9e5"],"06a8891f085f71282bb3ece1b1732b68f07813a3":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"27656822b6594fd0b598f7ff65d0fb3d13b8c9e5":["06a8891f085f71282bb3ece1b1732b68f07813a3"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}