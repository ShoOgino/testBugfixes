{"path":"solr/core/src/java/org/apache/solr/handler/component/RealTimeGetComponent#sliceToShards(ResponseBuilder,String,String).mjava","commits":[{"id":"0c197a6fac0ddfa4c18b4683b906f7e31e4c6652","date":1332881914,"type":0,"author":"Yonik Seeley","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/handler/component/RealTimeGetComponent#sliceToShards(ResponseBuilder,String,String).mjava","pathOld":"/dev/null","sourceNew":"  private String[] sliceToShards(ResponseBuilder rb, String collection, String slice) {\n    String lookup = collection + '_' + slice;  // seems either form may be filled in rb.slices?\n    \n    // We use this since the shard handler already filled in the slice to shards mapping.\n    // A better approach would be to avoid filling out every slice each time, or to cache\n    // the mappings.\n\n    for (int i=0; i<rb.slices.length; i++) {\n      log.info(\"LOOKUP_SLICE:\" + rb.slices[i] + \"=\" + rb.shards[i]);\n      if (lookup.equals(rb.slices[i]) || slice.equals(rb.slices[i])) {\n        return new String[]{rb.shards[i]};\n      }\n    }\n\n\n    throw new SolrException(SolrException.ErrorCode.SERVER_ERROR, \"Can't find shard '\" + lookup + \"'\");\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"575e66bd4b2349209027f6801184da7fc3cba13f","date":1587609169,"type":3,"author":"Erick Erickson","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/handler/component/RealTimeGetComponent#sliceToShards(ResponseBuilder,String,String).mjava","pathOld":"solr/core/src/java/org/apache/solr/handler/component/RealTimeGetComponent#sliceToShards(ResponseBuilder,String,String).mjava","sourceNew":"  private String[] sliceToShards(ResponseBuilder rb, String collection, String slice) {\n    String lookup = collection + '_' + slice;  // seems either form may be filled in rb.slices?\n    \n    // We use this since the shard handler already filled in the slice to shards mapping.\n    // A better approach would be to avoid filling out every slice each time, or to cache\n    // the mappings.\n\n    for (int i=0; i<rb.slices.length; i++) {\n      log.info(\"LOOKUP_SLICE:{}={}\", rb.slices[i], rb.shards[i]);\n      if (lookup.equals(rb.slices[i]) || slice.equals(rb.slices[i])) {\n        return new String[]{rb.shards[i]};\n      }\n    }\n\n\n    throw new SolrException(SolrException.ErrorCode.SERVER_ERROR, \"Can't find shard '\" + lookup + \"'\");\n  }\n\n","sourceOld":"  private String[] sliceToShards(ResponseBuilder rb, String collection, String slice) {\n    String lookup = collection + '_' + slice;  // seems either form may be filled in rb.slices?\n    \n    // We use this since the shard handler already filled in the slice to shards mapping.\n    // A better approach would be to avoid filling out every slice each time, or to cache\n    // the mappings.\n\n    for (int i=0; i<rb.slices.length; i++) {\n      log.info(\"LOOKUP_SLICE:\" + rb.slices[i] + \"=\" + rb.shards[i]);\n      if (lookup.equals(rb.slices[i]) || slice.equals(rb.slices[i])) {\n        return new String[]{rb.shards[i]};\n      }\n    }\n\n\n    throw new SolrException(SolrException.ErrorCode.SERVER_ERROR, \"Can't find shard '\" + lookup + \"'\");\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"0c197a6fac0ddfa4c18b4683b906f7e31e4c6652":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"575e66bd4b2349209027f6801184da7fc3cba13f":["0c197a6fac0ddfa4c18b4683b906f7e31e4c6652"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["575e66bd4b2349209027f6801184da7fc3cba13f"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["0c197a6fac0ddfa4c18b4683b906f7e31e4c6652"],"0c197a6fac0ddfa4c18b4683b906f7e31e4c6652":["575e66bd4b2349209027f6801184da7fc3cba13f"],"575e66bd4b2349209027f6801184da7fc3cba13f":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}