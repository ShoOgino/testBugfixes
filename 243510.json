{"path":"lucene/core/src/test/org/apache/lucene/index/TestIndexSorting#doc(int,PositionsTokenStream).mjava","commits":[{"id":"ceaef6cfc68c8ab22a684192e469a8280f9e6e70","date":1462354657,"type":1,"author":"Mike McCandless","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/index/TestIndexSorting#doc(int,PositionsTokenStream).mjava","pathOld":"lucene/misc/src/test/org/apache/lucene/index/SorterTestBase#doc(int,PositionsTokenStream).mjava","sourceNew":"  private static Document doc(final int id, PositionsTokenStream positions) {\n    final Document doc = new Document();\n    doc.add(new StringField(ID_FIELD, Integer.toString(id), Store.YES));\n    doc.add(new StringField(DOCS_ENUM_FIELD, DOCS_ENUM_TERM, Store.NO));\n    positions.setId(id);\n    doc.add(new Field(DOC_POSITIONS_FIELD, positions, POSITIONS_TYPE));\n    doc.add(new NumericDocValuesField(NUMERIC_DV_FIELD, id));\n    TextField norms = new TextField(NORMS_FIELD, Integer.toString(id), Store.NO);\n    norms.setBoost(Float.intBitsToFloat(id));\n    doc.add(norms);\n    doc.add(new BinaryDocValuesField(BINARY_DV_FIELD, new BytesRef(Integer.toString(id))));\n    doc.add(new SortedDocValuesField(SORTED_DV_FIELD, new BytesRef(Integer.toString(id))));\n    doc.add(new SortedSetDocValuesField(SORTED_SET_DV_FIELD, new BytesRef(Integer.toString(id))));\n    doc.add(new SortedSetDocValuesField(SORTED_SET_DV_FIELD, new BytesRef(Integer.toString(id + 1))));\n    doc.add(new SortedNumericDocValuesField(SORTED_NUMERIC_DV_FIELD, id));\n    doc.add(new SortedNumericDocValuesField(SORTED_NUMERIC_DV_FIELD, id + 1));\n    doc.add(new Field(TERM_VECTORS_FIELD, Integer.toString(id), TERM_VECTORS_TYPE));\n    byte[] bytes = new byte[4];\n    NumericUtils.intToSortableBytes(id, bytes, 0);\n    doc.add(new BinaryPoint(DIMENSIONAL_FIELD, bytes));\n    return doc;\n  }\n\n","sourceOld":"  private static Document doc(final int id, PositionsTokenStream positions) {\n    final Document doc = new Document();\n    doc.add(new StringField(ID_FIELD, Integer.toString(id), Store.YES));\n    doc.add(new StringField(DOCS_ENUM_FIELD, DOCS_ENUM_TERM, Store.NO));\n    positions.setId(id);\n    doc.add(new Field(DOC_POSITIONS_FIELD, positions, POSITIONS_TYPE));\n    doc.add(new NumericDocValuesField(NUMERIC_DV_FIELD, id));\n    TextField norms = new TextField(NORMS_FIELD, Integer.toString(id), Store.NO);\n    norms.setBoost(Float.intBitsToFloat(id));\n    doc.add(norms);\n    doc.add(new BinaryDocValuesField(BINARY_DV_FIELD, new BytesRef(Integer.toString(id))));\n    doc.add(new SortedDocValuesField(SORTED_DV_FIELD, new BytesRef(Integer.toString(id))));\n    doc.add(new SortedSetDocValuesField(SORTED_SET_DV_FIELD, new BytesRef(Integer.toString(id))));\n    doc.add(new SortedSetDocValuesField(SORTED_SET_DV_FIELD, new BytesRef(Integer.toString(id + 1))));\n    doc.add(new SortedNumericDocValuesField(SORTED_NUMERIC_DV_FIELD, id));\n    doc.add(new SortedNumericDocValuesField(SORTED_NUMERIC_DV_FIELD, id + 1));\n    doc.add(new Field(TERM_VECTORS_FIELD, Integer.toString(id), TERM_VECTORS_TYPE));\n    byte[] bytes = new byte[4];\n    NumericUtils.intToSortableBytes(id, bytes, 0);\n    // TODO: index time sorting doesn't yet support points\n    //doc.add(new BinaryPoint(DIMENSIONAL_FIELD, bytes));\n    return doc;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"4ff25cb7bb787cbe9d05740c89a527ddd2617c16","date":1462702859,"type":4,"author":"Mike McCandless","isMerge":false,"pathNew":"/dev/null","pathOld":"lucene/core/src/test/org/apache/lucene/index/TestIndexSorting#doc(int,PositionsTokenStream).mjava","sourceNew":null,"sourceOld":"  private static Document doc(final int id, PositionsTokenStream positions) {\n    final Document doc = new Document();\n    doc.add(new StringField(ID_FIELD, Integer.toString(id), Store.YES));\n    doc.add(new StringField(DOCS_ENUM_FIELD, DOCS_ENUM_TERM, Store.NO));\n    positions.setId(id);\n    doc.add(new Field(DOC_POSITIONS_FIELD, positions, POSITIONS_TYPE));\n    doc.add(new NumericDocValuesField(NUMERIC_DV_FIELD, id));\n    TextField norms = new TextField(NORMS_FIELD, Integer.toString(id), Store.NO);\n    norms.setBoost(Float.intBitsToFloat(id));\n    doc.add(norms);\n    doc.add(new BinaryDocValuesField(BINARY_DV_FIELD, new BytesRef(Integer.toString(id))));\n    doc.add(new SortedDocValuesField(SORTED_DV_FIELD, new BytesRef(Integer.toString(id))));\n    doc.add(new SortedSetDocValuesField(SORTED_SET_DV_FIELD, new BytesRef(Integer.toString(id))));\n    doc.add(new SortedSetDocValuesField(SORTED_SET_DV_FIELD, new BytesRef(Integer.toString(id + 1))));\n    doc.add(new SortedNumericDocValuesField(SORTED_NUMERIC_DV_FIELD, id));\n    doc.add(new SortedNumericDocValuesField(SORTED_NUMERIC_DV_FIELD, id + 1));\n    doc.add(new Field(TERM_VECTORS_FIELD, Integer.toString(id), TERM_VECTORS_TYPE));\n    byte[] bytes = new byte[4];\n    NumericUtils.intToSortableBytes(id, bytes, 0);\n    doc.add(new BinaryPoint(DIMENSIONAL_FIELD, bytes));\n    return doc;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"ceaef6cfc68c8ab22a684192e469a8280f9e6e70":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"4ff25cb7bb787cbe9d05740c89a527ddd2617c16":["ceaef6cfc68c8ab22a684192e469a8280f9e6e70"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"ceaef6cfc68c8ab22a684192e469a8280f9e6e70":["4ff25cb7bb787cbe9d05740c89a527ddd2617c16"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["ceaef6cfc68c8ab22a684192e469a8280f9e6e70","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"4ff25cb7bb787cbe9d05740c89a527ddd2617c16":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["4ff25cb7bb787cbe9d05740c89a527ddd2617c16","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}