{"path":"src/java/org/apache/solr/handler/component/StatsComponent#modifyRequest(ResponseBuilder,SearchComponent,ShardRequest).mjava","commits":[{"id":"758a0ba5e213f4d1fc89087ae6e4678f7879e450","date":1224361193,"type":0,"author":"Ryan McKinley","isMerge":false,"pathNew":"src/java/org/apache/solr/handler/component/StatsComponent#modifyRequest(ResponseBuilder,SearchComponent,ShardRequest).mjava","pathOld":"/dev/null","sourceNew":"  @Override\n  public void modifyRequest(ResponseBuilder rb, SearchComponent who, ShardRequest sreq) {\n    if (!rb.doStats) return;\n\n    if ((sreq.purpose & ShardRequest.PURPOSE_GET_TOP_IDS) != 0) {\n        sreq.purpose |= ShardRequest.PURPOSE_GET_STATS;\n\n        StatsInfo si = rb._statsInfo;\n        if (si == null) {\n          rb._statsInfo = si = new StatsInfo();\n          si.parse(rb.req.getParams(), rb);\n          // should already be true...\n          // sreq.params.set(StatsParams.STATS, \"true\");\n        }\n    } else {\n      // turn off stats on other requests\n      sreq.params.set(StatsParams.STATS, \"false\");\n      // we could optionally remove stats params\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":["610c97b96420e614c67797fd43822ebc1d4b7ee2","610c97b96420e614c67797fd43822ebc1d4b7ee2","610c97b96420e614c67797fd43822ebc1d4b7ee2"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"ad94625fb8d088209f46650c8097196fec67f00c","date":1453508319,"type":5,"author":"Dawid Weiss","isMerge":false,"pathNew":"solr/src/java/org/apache/solr/handler/component/StatsComponent#modifyRequest(ResponseBuilder,SearchComponent,ShardRequest).mjava","pathOld":"src/java/org/apache/solr/handler/component/StatsComponent#modifyRequest(ResponseBuilder,SearchComponent,ShardRequest).mjava","sourceNew":"  @Override\n  public void modifyRequest(ResponseBuilder rb, SearchComponent who, ShardRequest sreq) {\n    if (!rb.doStats) return;\n\n    if ((sreq.purpose & ShardRequest.PURPOSE_GET_TOP_IDS) != 0) {\n        sreq.purpose |= ShardRequest.PURPOSE_GET_STATS;\n\n        StatsInfo si = rb._statsInfo;\n        if (si == null) {\n          rb._statsInfo = si = new StatsInfo();\n          si.parse(rb.req.getParams(), rb);\n          // should already be true...\n          // sreq.params.set(StatsParams.STATS, \"true\");\n        }\n    } else {\n      // turn off stats on other requests\n      sreq.params.set(StatsParams.STATS, \"false\");\n      // we could optionally remove stats params\n    }\n  }\n\n","sourceOld":"  @Override\n  public void modifyRequest(ResponseBuilder rb, SearchComponent who, ShardRequest sreq) {\n    if (!rb.doStats) return;\n\n    if ((sreq.purpose & ShardRequest.PURPOSE_GET_TOP_IDS) != 0) {\n        sreq.purpose |= ShardRequest.PURPOSE_GET_STATS;\n\n        StatsInfo si = rb._statsInfo;\n        if (si == null) {\n          rb._statsInfo = si = new StatsInfo();\n          si.parse(rb.req.getParams(), rb);\n          // should already be true...\n          // sreq.params.set(StatsParams.STATS, \"true\");\n        }\n    } else {\n      // turn off stats on other requests\n      sreq.params.set(StatsParams.STATS, \"false\");\n      // we could optionally remove stats params\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b":[],"758a0ba5e213f4d1fc89087ae6e4678f7879e450":["3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b"],"ad94625fb8d088209f46650c8097196fec67f00c":["758a0ba5e213f4d1fc89087ae6e4678f7879e450"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b":["758a0ba5e213f4d1fc89087ae6e4678f7879e450"],"758a0ba5e213f4d1fc89087ae6e4678f7879e450":["ad94625fb8d088209f46650c8097196fec67f00c"],"ad94625fb8d088209f46650c8097196fec67f00c":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["ad94625fb8d088209f46650c8097196fec67f00c","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b"],"pathCommit":null}