{"path":"solr/test-framework/src/java/org/apache/solr/cloud/AbstractFullDistribZkTestBase#getTotalReplicas(String).mjava","commits":[{"id":"7c3fd765dc8fa1dd67f45e1ef91c28a2c147ea39","date":1355888669,"type":0,"author":"Yonik Seeley","isMerge":false,"pathNew":"solr/test-framework/src/java/org/apache/solr/cloud/AbstractFullDistribZkTestBase#getTotalReplicas(String).mjava","pathOld":"/dev/null","sourceNew":"  /* Total number of replicas (number of cores serving an index to the collection) shown by the cluster state */\n  protected int getTotalReplicas(String collection) {\n    ZkStateReader zkStateReader = cloudClient.getZkStateReader();\n    DocCollection coll = zkStateReader.getClusterState().getCollectionStates().get(collection);\n    if (coll == null) return 0;  // support for when collection hasn't been created yet\n    int cnt = 0;\n    for (Slice slices : coll.getSlices()) {\n      cnt += slices.getReplicas().size();\n    }\n    return cnt;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"d3fcb70cf561547c7bb1506e0cf32ca7b1287064","date":1357616416,"type":0,"author":"Robert Muir","isMerge":true,"pathNew":"solr/test-framework/src/java/org/apache/solr/cloud/AbstractFullDistribZkTestBase#getTotalReplicas(String).mjava","pathOld":"/dev/null","sourceNew":"  /* Total number of replicas (number of cores serving an index to the collection) shown by the cluster state */\n  protected int getTotalReplicas(String collection) {\n    ZkStateReader zkStateReader = cloudClient.getZkStateReader();\n    DocCollection coll = zkStateReader.getClusterState().getCollectionStates().get(collection);\n    if (coll == null) return 0;  // support for when collection hasn't been created yet\n    int cnt = 0;\n    for (Slice slices : coll.getSlices()) {\n      cnt += slices.getReplicas().size();\n    }\n    return cnt;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"cdc8313ba7bdaaa48ff54059d0eabff4436ab175","date":1386102048,"type":3,"author":"Noble Paul","isMerge":false,"pathNew":"solr/test-framework/src/java/org/apache/solr/cloud/AbstractFullDistribZkTestBase#getTotalReplicas(String).mjava","pathOld":"solr/test-framework/src/java/org/apache/solr/cloud/AbstractFullDistribZkTestBase#getTotalReplicas(String).mjava","sourceNew":"  /* Total number of replicas (number of cores serving an index to the collection) shown by the cluster state */\n  protected int getTotalReplicas(String collection) {\n    ZkStateReader zkStateReader = cloudClient.getZkStateReader();\n    DocCollection coll = zkStateReader.getClusterState().getCollectionOrNull(collection);\n    if (coll == null) return 0;  // support for when collection hasn't been created yet\n    int cnt = 0;\n    for (Slice slices : coll.getSlices()) {\n      cnt += slices.getReplicas().size();\n    }\n    return cnt;\n  }\n\n","sourceOld":"  /* Total number of replicas (number of cores serving an index to the collection) shown by the cluster state */\n  protected int getTotalReplicas(String collection) {\n    ZkStateReader zkStateReader = cloudClient.getZkStateReader();\n    DocCollection coll = zkStateReader.getClusterState().getCollectionStates().get(collection);\n    if (coll == null) return 0;  // support for when collection hasn't been created yet\n    int cnt = 0;\n    for (Slice slices : coll.getSlices()) {\n      cnt += slices.getReplicas().size();\n    }\n    return cnt;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"74f45af4339b0daf7a95c820ab88c1aea74fbce0","date":1387475327,"type":3,"author":"Michael McCandless","isMerge":true,"pathNew":"solr/test-framework/src/java/org/apache/solr/cloud/AbstractFullDistribZkTestBase#getTotalReplicas(String).mjava","pathOld":"solr/test-framework/src/java/org/apache/solr/cloud/AbstractFullDistribZkTestBase#getTotalReplicas(String).mjava","sourceNew":"  /* Total number of replicas (number of cores serving an index to the collection) shown by the cluster state */\n  protected int getTotalReplicas(String collection) {\n    ZkStateReader zkStateReader = cloudClient.getZkStateReader();\n    DocCollection coll = zkStateReader.getClusterState().getCollectionOrNull(collection);\n    if (coll == null) return 0;  // support for when collection hasn't been created yet\n    int cnt = 0;\n    for (Slice slices : coll.getSlices()) {\n      cnt += slices.getReplicas().size();\n    }\n    return cnt;\n  }\n\n","sourceOld":"  /* Total number of replicas (number of cores serving an index to the collection) shown by the cluster state */\n  protected int getTotalReplicas(String collection) {\n    ZkStateReader zkStateReader = cloudClient.getZkStateReader();\n    DocCollection coll = zkStateReader.getClusterState().getCollectionStates().get(collection);\n    if (coll == null) return 0;  // support for when collection hasn't been created yet\n    int cnt = 0;\n    for (Slice slices : coll.getSlices()) {\n      cnt += slices.getReplicas().size();\n    }\n    return cnt;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"bb222a3f9d9421d5c95afce73013fbd8de07ea1f","date":1543514331,"type":5,"author":"markrmiller","isMerge":false,"pathNew":"solr/test-framework/src/java/org/apache/solr/cloud/AbstractFullDistribZkTestBase#getTotalReplicas(DocCollection,String).mjava","pathOld":"solr/test-framework/src/java/org/apache/solr/cloud/AbstractFullDistribZkTestBase#getTotalReplicas(String).mjava","sourceNew":"  /* Total number of replicas (number of cores serving an index to the collection) shown by the cluster state */\n  protected int getTotalReplicas(DocCollection c, String collection) {\n    if (c == null) return 0;  // support for when collection hasn't been created yet\n    int cnt = 0;\n    for (Slice slices : c.getSlices()) {\n      cnt += slices.getReplicas().size();\n    }\n    return cnt;\n  }\n\n","sourceOld":"  /* Total number of replicas (number of cores serving an index to the collection) shown by the cluster state */\n  protected int getTotalReplicas(String collection) {\n    ZkStateReader zkStateReader = cloudClient.getZkStateReader();\n    DocCollection coll = zkStateReader.getClusterState().getCollectionOrNull(collection);\n    if (coll == null) return 0;  // support for when collection hasn't been created yet\n    int cnt = 0;\n    for (Slice slices : coll.getSlices()) {\n      cnt += slices.getReplicas().size();\n    }\n    return cnt;\n  }\n\n","bugFix":null,"bugIntro":["e8c738236bd9fd6a12493d60844585ce125af35c"],"isBuggy":true,"nexts":[],"revCommit":null}],"commit2Parents":{"d3fcb70cf561547c7bb1506e0cf32ca7b1287064":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","7c3fd765dc8fa1dd67f45e1ef91c28a2c147ea39"],"7c3fd765dc8fa1dd67f45e1ef91c28a2c147ea39":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"bb222a3f9d9421d5c95afce73013fbd8de07ea1f":["cdc8313ba7bdaaa48ff54059d0eabff4436ab175"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"74f45af4339b0daf7a95c820ab88c1aea74fbce0":["7c3fd765dc8fa1dd67f45e1ef91c28a2c147ea39","cdc8313ba7bdaaa48ff54059d0eabff4436ab175"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["bb222a3f9d9421d5c95afce73013fbd8de07ea1f"],"cdc8313ba7bdaaa48ff54059d0eabff4436ab175":["7c3fd765dc8fa1dd67f45e1ef91c28a2c147ea39"]},"commit2Childs":{"d3fcb70cf561547c7bb1506e0cf32ca7b1287064":[],"7c3fd765dc8fa1dd67f45e1ef91c28a2c147ea39":["d3fcb70cf561547c7bb1506e0cf32ca7b1287064","74f45af4339b0daf7a95c820ab88c1aea74fbce0","cdc8313ba7bdaaa48ff54059d0eabff4436ab175"],"bb222a3f9d9421d5c95afce73013fbd8de07ea1f":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["d3fcb70cf561547c7bb1506e0cf32ca7b1287064","7c3fd765dc8fa1dd67f45e1ef91c28a2c147ea39"],"74f45af4339b0daf7a95c820ab88c1aea74fbce0":[],"cdc8313ba7bdaaa48ff54059d0eabff4436ab175":["bb222a3f9d9421d5c95afce73013fbd8de07ea1f","74f45af4339b0daf7a95c820ab88c1aea74fbce0"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["d3fcb70cf561547c7bb1506e0cf32ca7b1287064","74f45af4339b0daf7a95c820ab88c1aea74fbce0","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}