{"path":"solr/core/src/java/org/apache/solr/schema/ManagedIndexSchema#informResourceLoaderAwareObjectsForFieldType(FieldType).mjava","commits":[{"id":"39794fb4aa0ff1978711872806f396013716b868","date":1421259910,"type":0,"author":"Timothy Potter","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/schema/ManagedIndexSchema#informResourceLoaderAwareObjectsForFieldType(FieldType).mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Informs analyzers used by a fieldType.\n   */\n  protected void informResourceLoaderAwareObjectsForFieldType(FieldType fieldType) {\n    // must inform any sub-components used in the\n    // tokenizer chain if they are ResourceLoaderAware\n    if (!fieldType.supportsAnalyzers())\n      return;\n\n    Analyzer indexAnalyzer = fieldType.getIndexAnalyzer();\n    if (indexAnalyzer != null && indexAnalyzer instanceof TokenizerChain)\n      informResourceLoaderAwareObjectsInChain((TokenizerChain)indexAnalyzer);\n\n    Analyzer queryAnalyzer = fieldType.getQueryAnalyzer();\n    // ref comparison is correct here (vs. equals) as they may be the same\n    // object in which case, we don't need to inform twice ... however, it's\n    // actually safe to call inform multiple times on an object anyway\n    if (queryAnalyzer != null &&\n        queryAnalyzer != indexAnalyzer &&\n        queryAnalyzer instanceof TokenizerChain)\n      informResourceLoaderAwareObjectsInChain((TokenizerChain)queryAnalyzer);\n\n    // if fieldType is a TextField, it might have a multi-term analyzer\n    if (fieldType instanceof TextField) {\n      TextField textFieldType = (TextField)fieldType;\n      Analyzer multiTermAnalyzer = textFieldType.getMultiTermAnalyzer();\n      if (multiTermAnalyzer != null && multiTermAnalyzer != indexAnalyzer &&\n          multiTermAnalyzer != queryAnalyzer && multiTermAnalyzer instanceof TokenizerChain)\n        informResourceLoaderAwareObjectsInChain((TokenizerChain)multiTermAnalyzer);\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"39794fb4aa0ff1978711872806f396013716b868":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["39794fb4aa0ff1978711872806f396013716b868"]},"commit2Childs":{"39794fb4aa0ff1978711872806f396013716b868":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["39794fb4aa0ff1978711872806f396013716b868"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}