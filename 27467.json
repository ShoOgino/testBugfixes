{"path":"lucene/monitor/src/java/org/apache/lucene/monitor/Monitor#[T-extends-QueryMatch]_debug(Document[],MatcherFactory[T]).mjava","commits":[{"id":"7c529b189e09de25455d82ebd7260748cf11ee14","date":1560415257,"type":0,"author":"Alan Woodward","isMerge":false,"pathNew":"lucene/monitor/src/java/org/apache/lucene/monitor/Monitor#[T-extends-QueryMatch]_debug(Document[],MatcherFactory[T]).mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Match a DocumentBatch against the queries stored in the Monitor, also returning information\n   * about which queries were selected by the presearcher, and why.\n   *\n   * @param docs    a DocumentBatch to match against the index\n   * @param factory a {@link MatcherFactory} to use to create a {@link CandidateMatcher} for the match run\n   * @param <T>     the type of QueryMatch produced by the CandidateMatcher\n   * @return a {@link PresearcherMatches} object containing debug information\n   * @throws IOException on IO errors\n   */\n  public <T extends QueryMatch> PresearcherMatches<T> debug(Document[] docs, MatcherFactory<T> factory)\n      throws IOException {\n    try (DocumentBatch batch = DocumentBatch.of(analyzer, docs)) {\n      LeafReader reader = batch.get();\n      IndexSearcher searcher = new IndexSearcher(reader);\n      searcher.setQueryCache(null);\n      PresearcherQueryCollector<T> collector = new PresearcherQueryCollector<>(factory.createMatcher(searcher));\n      long buildTime = queryIndex.search(t -> new ForceNoBulkScoringQuery(presearcher.buildQuery(reader, t)), collector);\n      return collector.getMatches(buildTime);\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"7c529b189e09de25455d82ebd7260748cf11ee14":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["7c529b189e09de25455d82ebd7260748cf11ee14"]},"commit2Childs":{"7c529b189e09de25455d82ebd7260748cf11ee14":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["7c529b189e09de25455d82ebd7260748cf11ee14"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}