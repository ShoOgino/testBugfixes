{"path":"lucene/test-framework/src/java/org/apache/lucene/util/TestRuleSetupAndRestoreClassEnv#checkCodecRestrictions(Codec).mjava","commits":[{"id":"197be891529ba2dea8287e2251906be9533dc8ea","date":1339266828,"type":0,"author":"Dawid Weiss","isMerge":false,"pathNew":"lucene/test-framework/src/java/org/apache/lucene/util/TestRuleSetupAndRestoreClassEnv#checkCodecRestrictions(Codec).mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Check codec restrictions.\n   * \n   * @throws AssumptionViolatedException if the class does not work with a given codec.\n   */\n  private void checkCodecRestrictions(Codec codec) {\n    assumeFalse(\"Class not allowed to use codec: \" + codec.getName() + \".\",\n        shouldAvoidCodec(codec.getName()));\n\n    if (codec instanceof RandomCodec && !avoidCodecs.isEmpty()) {\n      for (String name : ((RandomCodec)codec).formatNames) {\n        assumeFalse(\"Class not allowed to use postings format: \" + name + \".\",\n            shouldAvoidCodec(name));\n      }\n    }\n\n    PostingsFormat pf = codec.postingsFormat();\n    assumeFalse(\"Class not allowed to use postings format: \" + pf.getName() + \".\",\n        shouldAvoidCodec(pf.getName()));\n\n    assumeFalse(\"Class not allowed to use postings format: \" + LuceneTestCase.TEST_POSTINGSFORMAT + \".\", \n        shouldAvoidCodec(LuceneTestCase.TEST_POSTINGSFORMAT));\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"197be891529ba2dea8287e2251906be9533dc8ea":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["197be891529ba2dea8287e2251906be9533dc8ea"]},"commit2Childs":{"197be891529ba2dea8287e2251906be9533dc8ea":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["197be891529ba2dea8287e2251906be9533dc8ea"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}