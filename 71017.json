{"path":"solr/core/src/test/org/apache/solr/handler/admin/AdminHandlersProxyTest#proxySystemInfoHandlerOneNode().mjava","commits":[{"id":"750239682d222924398443d581163940f48d68fc","date":1533297311,"type":0,"author":"Jan HÃ¸ydahl","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/handler/admin/AdminHandlersProxyTest#proxySystemInfoHandlerOneNode().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void proxySystemInfoHandlerOneNode() {\n    Set<String> nodes = solrClient.getClusterStateProvider().getLiveNodes();\n    assertEquals(2, nodes.size());\n    nodes.forEach(node -> {\n      MapSolrParams params = new MapSolrParams(Collections.singletonMap(\"nodes\", node));\n      GenericSolrRequest req = new GenericSolrRequest(SolrRequest.METHOD.GET, \"/admin/info/system\", params);\n      SimpleSolrResponse rsp = null;\n      try {\n        rsp = req.process(solrClient, null);\n      } catch (Exception e) {\n        fail(\"Exception while proxying request to node \" + node);\n      }\n      NamedList<Object> nl = rsp.getResponse();\n      assertEquals(2, nl.size());\n      assertEquals(\"solrcloud\", ((NamedList)nl.get(nl.getName(1))).get(\"mode\"));\n      assertEquals(nl.getName(1), ((NamedList)nl.get(nl.getName(1))).get(\"node\"));\n    });\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"750239682d222924398443d581163940f48d68fc":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["750239682d222924398443d581163940f48d68fc"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["750239682d222924398443d581163940f48d68fc"],"750239682d222924398443d581163940f48d68fc":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}