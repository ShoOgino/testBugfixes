{"path":"lucene/replicator/src/test/org/apache/lucene/replicator/nrt/NodeProcess#addOrUpdateDocument(Connection,Document,boolean).mjava","commits":[{"id":"0d49a158012a8ff48f328a4558e4bfcffbaed16f","date":1453677440,"type":0,"author":"Mike McCandless","isMerge":false,"pathNew":"lucene/replicator/src/test/org/apache/lucene/replicator/nrt/NodeProcess#addOrUpdateDocument(Connection,Document,boolean).mjava","pathOld":"/dev/null","sourceNew":"  public void addOrUpdateDocument(Connection c, Document doc, boolean isUpdate) throws IOException {\n    if (isPrimary == false) {\n      throw new IllegalStateException(\"only primary can index\");\n    }\n    int fieldCount = 0;\n\n    String title = doc.get(\"title\");\n    if (title != null) {\n      fieldCount++;\n    }\n\n    String docid = doc.get(\"docid\");\n    assert docid != null;\n    fieldCount++;\n\n    String body = doc.get(\"body\");\n    if (body != null) {\n      fieldCount++;\n    }\n\n    String marker = doc.get(\"marker\");\n    if (marker != null) {\n      fieldCount++;\n    }\n\n    c.out.writeByte(isUpdate ? SimplePrimaryNode.CMD_UPDATE_DOC : SimplePrimaryNode.CMD_ADD_DOC);\n    c.out.writeVInt(fieldCount);\n    c.out.writeString(\"docid\");\n    c.out.writeString(docid);\n    if (title != null) {\n      c.out.writeString(\"title\");\n      c.out.writeString(title);\n    }\n    if (body != null) {\n      c.out.writeString(\"body\");\n      c.out.writeString(body);\n    }\n    if (marker != null) {\n      c.out.writeString(\"marker\");\n      c.out.writeString(marker);\n    }\n    c.flush();\n    c.in.readByte();\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"68496c2200e559fb7802f7575427b7a482659afb","date":1455207618,"type":0,"author":"Mike McCandless","isMerge":true,"pathNew":"lucene/replicator/src/test/org/apache/lucene/replicator/nrt/NodeProcess#addOrUpdateDocument(Connection,Document,boolean).mjava","pathOld":"/dev/null","sourceNew":"  public void addOrUpdateDocument(Connection c, Document doc, boolean isUpdate) throws IOException {\n    if (isPrimary == false) {\n      throw new IllegalStateException(\"only primary can index\");\n    }\n    int fieldCount = 0;\n\n    String title = doc.get(\"title\");\n    if (title != null) {\n      fieldCount++;\n    }\n\n    String docid = doc.get(\"docid\");\n    assert docid != null;\n    fieldCount++;\n\n    String body = doc.get(\"body\");\n    if (body != null) {\n      fieldCount++;\n    }\n\n    String marker = doc.get(\"marker\");\n    if (marker != null) {\n      fieldCount++;\n    }\n\n    c.out.writeByte(isUpdate ? SimplePrimaryNode.CMD_UPDATE_DOC : SimplePrimaryNode.CMD_ADD_DOC);\n    c.out.writeVInt(fieldCount);\n    c.out.writeString(\"docid\");\n    c.out.writeString(docid);\n    if (title != null) {\n      c.out.writeString(\"title\");\n      c.out.writeString(title);\n    }\n    if (body != null) {\n      c.out.writeString(\"body\");\n      c.out.writeString(body);\n    }\n    if (marker != null) {\n      c.out.writeString(\"marker\");\n      c.out.writeString(marker);\n    }\n    c.flush();\n    c.in.readByte();\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"68496c2200e559fb7802f7575427b7a482659afb":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","0d49a158012a8ff48f328a4558e4bfcffbaed16f"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["68496c2200e559fb7802f7575427b7a482659afb"],"0d49a158012a8ff48f328a4558e4bfcffbaed16f":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["68496c2200e559fb7802f7575427b7a482659afb","0d49a158012a8ff48f328a4558e4bfcffbaed16f"],"68496c2200e559fb7802f7575427b7a482659afb":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"0d49a158012a8ff48f328a4558e4bfcffbaed16f":["68496c2200e559fb7802f7575427b7a482659afb"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}