{"path":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/AbstractDIHJdbcTestCase#beforeClassDihJdbcTest().mjava","commits":[{"id":"ece4a78db13b370d8c89da1a285b45e0107389a2","date":1336411482,"type":0,"author":"James Dyer","isMerge":false,"pathNew":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/AbstractDIHJdbcTestCase#beforeClassDihJdbcTest().mjava","pathOld":"/dev/null","sourceNew":"  @BeforeClass\n  public static void beforeClassDihJdbcTest() throws Exception {\n    try {\n      Class.forName(\"org.hsqldb.jdbcDriver\").newInstance();\n    } catch (Exception e) {\n      throw e;\n    }\n    \n    Connection conn = null;\n    Statement s = null;\n    PreparedStatement ps = null;    \n    try {    \n      conn = DriverManager.getConnection(\"jdbc:hsqldb:mem:.\");    \n      s = conn.createStatement();\n      s.executeUpdate(\"create table countries(code char(2) not null primary key, country_name varchar(50))\");\n      s.executeUpdate(\"create table people(id int not null primary key, name varchar(50), country_codes varchar(100))\");\n      s.executeUpdate(\"create table people_sports(id int not null primary key, person_id int, sport_name varchar(50))\");\n      \n      ps = conn.prepareStatement(\"insert into countries values (?,?)\");\n      for(String[] country : countries) {\n        ps.setString(1, country[0]);\n        ps.setString(2, country[1]);\n        Assert.assertEquals(1, ps.executeUpdate());\n      }\n      ps.close();\n            \n      ps = conn.prepareStatement(\"insert into people values (?,?,?)\");\n      for(Object[] person : people) {\n        ps.setInt(1, (Integer) person[0]);\n        ps.setString(2, (String) person[1]);\n        ps.setString(3, (String) person[2]);\n        Assert.assertEquals(1, ps.executeUpdate());\n      }\n      ps.close(); \n      \n      ps = conn.prepareStatement(\"insert into people_sports values (?,?,?)\");\n      for(Object[] sport : people_sports) {\n        ps.setInt(1, (Integer) sport[0]);\n        ps.setInt(2, (Integer) sport[1]);\n        ps.setString(3, (String) sport[2]);\n        Assert.assertEquals(1, ps.executeUpdate());\n      }\n      ps.close();\n      conn.close();    \n    } catch(Exception e) {\n      throw e;\n    } finally {\n      if(s!=null) { s.close(); }\n      if(ps!=null) { ps.close(); }\n      if(conn!=null) { conn.close(); }\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"baf341ad3a1a8fb73fb37091af85f8aef0398367","date":1352222680,"type":3,"author":"James Dyer","isMerge":false,"pathNew":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/AbstractDIHJdbcTestCase#beforeClassDihJdbcTest().mjava","pathOld":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/AbstractDIHJdbcTestCase#beforeClassDihJdbcTest().mjava","sourceNew":"  @BeforeClass\n  public static void beforeClassDihJdbcTest() throws Exception {\n    try {\n      Class.forName(\"org.hsqldb.jdbcDriver\").newInstance();\n    } catch (Exception e) {\n      throw e;\n    }  \n    initCore(\"dataimport-solrconfig.xml\", \"dataimport-schema.xml\");\n  }   \n\n","sourceOld":"  @BeforeClass\n  public static void beforeClassDihJdbcTest() throws Exception {\n    try {\n      Class.forName(\"org.hsqldb.jdbcDriver\").newInstance();\n    } catch (Exception e) {\n      throw e;\n    }\n    \n    Connection conn = null;\n    Statement s = null;\n    PreparedStatement ps = null;    \n    try {    \n      conn = DriverManager.getConnection(\"jdbc:hsqldb:mem:.\");    \n      s = conn.createStatement();\n      s.executeUpdate(\"create table countries(code char(2) not null primary key, country_name varchar(50))\");\n      s.executeUpdate(\"create table people(id int not null primary key, name varchar(50), country_codes varchar(100))\");\n      s.executeUpdate(\"create table people_sports(id int not null primary key, person_id int, sport_name varchar(50))\");\n      \n      ps = conn.prepareStatement(\"insert into countries values (?,?)\");\n      for(String[] country : countries) {\n        ps.setString(1, country[0]);\n        ps.setString(2, country[1]);\n        Assert.assertEquals(1, ps.executeUpdate());\n      }\n      ps.close();\n            \n      ps = conn.prepareStatement(\"insert into people values (?,?,?)\");\n      for(Object[] person : people) {\n        ps.setInt(1, (Integer) person[0]);\n        ps.setString(2, (String) person[1]);\n        ps.setString(3, (String) person[2]);\n        Assert.assertEquals(1, ps.executeUpdate());\n      }\n      ps.close(); \n      \n      ps = conn.prepareStatement(\"insert into people_sports values (?,?,?)\");\n      for(Object[] sport : people_sports) {\n        ps.setInt(1, (Integer) sport[0]);\n        ps.setInt(2, (Integer) sport[1]);\n        ps.setString(3, (String) sport[2]);\n        Assert.assertEquals(1, ps.executeUpdate());\n      }\n      ps.close();\n      conn.close();    \n    } catch(Exception e) {\n      throw e;\n    } finally {\n      if(s!=null) { s.close(); }\n      if(ps!=null) { ps.close(); }\n      if(conn!=null) { conn.close(); }\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"78bba2225c30df6990ac27a75743069e928ef81d","date":1352741580,"type":3,"author":"James Dyer","isMerge":false,"pathNew":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/AbstractDIHJdbcTestCase#beforeClassDihJdbcTest().mjava","pathOld":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/AbstractDIHJdbcTestCase#beforeClassDihJdbcTest().mjava","sourceNew":"  @BeforeClass\n  public static void beforeClassDihJdbcTest() throws Exception {\n    try {\n      Class.forName(\"org.hsqldb.jdbcDriver\").newInstance();\n      Class.forName(\"org.apache.derby.jdbc.EmbeddedDriver\").newInstance();\n    } catch (Exception e) {\n      throw e;\n    }  \n    initCore(\"dataimport-solrconfig.xml\", \"dataimport-schema.xml\");\n  } \n\n","sourceOld":"  @BeforeClass\n  public static void beforeClassDihJdbcTest() throws Exception {\n    try {\n      Class.forName(\"org.hsqldb.jdbcDriver\").newInstance();\n    } catch (Exception e) {\n      throw e;\n    }  \n    initCore(\"dataimport-solrconfig.xml\", \"dataimport-schema.xml\");\n  }   \n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"c02b06cb1bdf2875ec855bb190e3c651e67b057b","date":1352742885,"type":3,"author":"James Dyer","isMerge":false,"pathNew":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/AbstractDIHJdbcTestCase#beforeClassDihJdbcTest().mjava","pathOld":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/AbstractDIHJdbcTestCase#beforeClassDihJdbcTest().mjava","sourceNew":"  @BeforeClass\n  public static void beforeClassDihJdbcTest() throws Exception {\n    try {\n      Class.forName(\"org.hsqldb.jdbcDriver\").newInstance();\n      String oldProp = System.getProperty(\"derby.stream.error.field\");\n      System.setProperty(\"derby.stream.error.field\", \"DerbyUtil.DEV_NULL\");\n      Class.forName(\"org.apache.derby.jdbc.EmbeddedDriver\").newInstance();\n      if(oldProp!=null) {\n        System.setProperty(\"derby.stream.error.field\", oldProp);    \n      }\n    } catch (Exception e) {\n      throw e;\n    }  \n    initCore(\"dataimport-solrconfig.xml\", \"dataimport-schema.xml\");\n  } \n\n","sourceOld":"  @BeforeClass\n  public static void beforeClassDihJdbcTest() throws Exception {\n    try {\n      Class.forName(\"org.hsqldb.jdbcDriver\").newInstance();\n      Class.forName(\"org.apache.derby.jdbc.EmbeddedDriver\").newInstance();\n    } catch (Exception e) {\n      throw e;\n    }  \n    initCore(\"dataimport-solrconfig.xml\", \"dataimport-schema.xml\");\n  } \n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"b4804614e0358954d5d9f51128fcf3cd79e6e25b","date":1352831451,"type":3,"author":"James Dyer","isMerge":false,"pathNew":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/AbstractDIHJdbcTestCase#beforeClassDihJdbcTest().mjava","pathOld":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/AbstractDIHJdbcTestCase#beforeClassDihJdbcTest().mjava","sourceNew":"  @BeforeClass\n  public static void beforeClassDihJdbcTest() throws Exception {\n    try {\n      Class.forName(\"org.hsqldb.jdbcDriver\").newInstance();\n      String oldProp = System.getProperty(\"derby.stream.error.field\");\n      System.setProperty(\"derby.stream.error.field\", \"DerbyUtil.DEV_NULL\");\n      Class.forName(\"org.apache.derby.jdbc.EmbeddedDriver\").newInstance();\n      if (oldProp != null) {\n        System.setProperty(\"derby.stream.error.field\", oldProp);\n      }\n    } catch (Exception e) {\n      throw e;\n    }\n    initCore(\"dataimport-solrconfig.xml\", \"dataimport-schema.xml\");\n  }\n\n","sourceOld":"  @BeforeClass\n  public static void beforeClassDihJdbcTest() throws Exception {\n    try {\n      Class.forName(\"org.hsqldb.jdbcDriver\").newInstance();\n      String oldProp = System.getProperty(\"derby.stream.error.field\");\n      System.setProperty(\"derby.stream.error.field\", \"DerbyUtil.DEV_NULL\");\n      Class.forName(\"org.apache.derby.jdbc.EmbeddedDriver\").newInstance();\n      if(oldProp!=null) {\n        System.setProperty(\"derby.stream.error.field\", oldProp);    \n      }\n    } catch (Exception e) {\n      throw e;\n    }  \n    initCore(\"dataimport-solrconfig.xml\", \"dataimport-schema.xml\");\n  } \n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"92bbd51f233b8000ba963b8cbc9cae64b4ef9e85","date":1354633475,"type":3,"author":"James Dyer","isMerge":false,"pathNew":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/AbstractDIHJdbcTestCase#beforeClassDihJdbcTest().mjava","pathOld":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/AbstractDIHJdbcTestCase#beforeClassDihJdbcTest().mjava","sourceNew":"  @BeforeClass\n  public static void beforeClassDihJdbcTest() throws Exception {\n    try {\n      Class.forName(\"org.hsqldb.jdbcDriver\").newInstance();\n      String oldProp = System.getProperty(\"derby.stream.error.field\");\n      System\n          .setProperty(\"derby.stream.error.field\",\n              \"org.apache.solr.handler.dataimport.AbstractDIHJdbcTestCase$DerbyUtil.DEV_NULL\");\n      Class.forName(\"org.apache.derby.jdbc.EmbeddedDriver\").newInstance();\n      if (oldProp != null) {\n        System.setProperty(\"derby.stream.error.field\", oldProp);\n      }\n    } catch (Exception e) {\n      throw e;\n    }\n    initCore(\"dataimport-solrconfig.xml\", \"dataimport-schema.xml\");\n  }\n\n","sourceOld":"  @BeforeClass\n  public static void beforeClassDihJdbcTest() throws Exception {\n    try {\n      Class.forName(\"org.hsqldb.jdbcDriver\").newInstance();\n      String oldProp = System.getProperty(\"derby.stream.error.field\");\n      System.setProperty(\"derby.stream.error.field\", \"DerbyUtil.DEV_NULL\");\n      Class.forName(\"org.apache.derby.jdbc.EmbeddedDriver\").newInstance();\n      if (oldProp != null) {\n        System.setProperty(\"derby.stream.error.field\", oldProp);\n      }\n    } catch (Exception e) {\n      throw e;\n    }\n    initCore(\"dataimport-solrconfig.xml\", \"dataimport-schema.xml\");\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"407687e67faf6e1f02a211ca078d8e3eed631027","date":1355157407,"type":3,"author":"Robert Muir","isMerge":true,"pathNew":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/AbstractDIHJdbcTestCase#beforeClassDihJdbcTest().mjava","pathOld":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/AbstractDIHJdbcTestCase#beforeClassDihJdbcTest().mjava","sourceNew":"  @BeforeClass\n  public static void beforeClassDihJdbcTest() throws Exception {\n    try {\n      Class.forName(\"org.hsqldb.jdbcDriver\").newInstance();\n      String oldProp = System.getProperty(\"derby.stream.error.field\");\n      System\n          .setProperty(\"derby.stream.error.field\",\n              \"org.apache.solr.handler.dataimport.AbstractDIHJdbcTestCase$DerbyUtil.DEV_NULL\");\n      Class.forName(\"org.apache.derby.jdbc.EmbeddedDriver\").newInstance();\n      if (oldProp != null) {\n        System.setProperty(\"derby.stream.error.field\", oldProp);\n      }\n    } catch (Exception e) {\n      throw e;\n    }\n    initCore(\"dataimport-solrconfig.xml\", \"dataimport-schema.xml\");\n  }\n\n","sourceOld":"  @BeforeClass\n  public static void beforeClassDihJdbcTest() throws Exception {\n    try {\n      Class.forName(\"org.hsqldb.jdbcDriver\").newInstance();\n    } catch (Exception e) {\n      throw e;\n    }  \n    initCore(\"dataimport-solrconfig.xml\", \"dataimport-schema.xml\");\n  }   \n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"b88a121b875f9ae2ac50f85cf46dcb680f126357","date":1555416009,"type":3,"author":"Uwe Schindler","isMerge":false,"pathNew":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/AbstractDIHJdbcTestCase#beforeClassDihJdbcTest().mjava","pathOld":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/AbstractDIHJdbcTestCase#beforeClassDihJdbcTest().mjava","sourceNew":"  @BeforeClass\n  public static void beforeClassDihJdbcTest() throws Exception {\n    try {\n      Class.forName(\"org.hsqldb.jdbcDriver\").getConstructor().newInstance();\n      String oldProp = System.getProperty(\"derby.stream.error.field\");\n      System\n          .setProperty(\"derby.stream.error.field\",\n              \"org.apache.solr.handler.dataimport.AbstractDIHJdbcTestCase$DerbyUtil.DEV_NULL\");\n      Class.forName(\"org.apache.derby.jdbc.EmbeddedDriver\").getConstructor().newInstance();\n      if (oldProp != null) {\n        System.setProperty(\"derby.stream.error.field\", oldProp);\n      }\n    } catch (Exception e) {\n      throw e;\n    }\n    initCore(\"dataimport-solrconfig.xml\", \"dataimport-schema.xml\");\n  }\n\n","sourceOld":"  @BeforeClass\n  public static void beforeClassDihJdbcTest() throws Exception {\n    try {\n      Class.forName(\"org.hsqldb.jdbcDriver\").newInstance();\n      String oldProp = System.getProperty(\"derby.stream.error.field\");\n      System\n          .setProperty(\"derby.stream.error.field\",\n              \"org.apache.solr.handler.dataimport.AbstractDIHJdbcTestCase$DerbyUtil.DEV_NULL\");\n      Class.forName(\"org.apache.derby.jdbc.EmbeddedDriver\").newInstance();\n      if (oldProp != null) {\n        System.setProperty(\"derby.stream.error.field\", oldProp);\n      }\n    } catch (Exception e) {\n      throw e;\n    }\n    initCore(\"dataimport-solrconfig.xml\", \"dataimport-schema.xml\");\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"d2c8f5c46c2501b61e2f55eb7ee59e6c5372290b","date":1598712724,"type":4,"author":"Alexandre Rafalovitch","isMerge":false,"pathNew":"/dev/null","pathOld":"solr/contrib/dataimporthandler/src/test/org/apache/solr/handler/dataimport/AbstractDIHJdbcTestCase#beforeClassDihJdbcTest().mjava","sourceNew":null,"sourceOld":"  @BeforeClass\n  public static void beforeClassDihJdbcTest() throws Exception {\n    try {\n      Class.forName(\"org.hsqldb.jdbcDriver\").getConstructor().newInstance();\n      String oldProp = System.getProperty(\"derby.stream.error.field\");\n      System\n          .setProperty(\"derby.stream.error.field\",\n              \"org.apache.solr.handler.dataimport.AbstractDIHJdbcTestCase$DerbyUtil.DEV_NULL\");\n      Class.forName(\"org.apache.derby.jdbc.EmbeddedDriver\").getConstructor().newInstance();\n      if (oldProp != null) {\n        System.setProperty(\"derby.stream.error.field\", oldProp);\n      }\n    } catch (Exception e) {\n      throw e;\n    }\n    initCore(\"dataimport-solrconfig.xml\", \"dataimport-schema.xml\");\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"b4804614e0358954d5d9f51128fcf3cd79e6e25b":["c02b06cb1bdf2875ec855bb190e3c651e67b057b"],"d2c8f5c46c2501b61e2f55eb7ee59e6c5372290b":["b88a121b875f9ae2ac50f85cf46dcb680f126357"],"b88a121b875f9ae2ac50f85cf46dcb680f126357":["92bbd51f233b8000ba963b8cbc9cae64b4ef9e85"],"78bba2225c30df6990ac27a75743069e928ef81d":["baf341ad3a1a8fb73fb37091af85f8aef0398367"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"407687e67faf6e1f02a211ca078d8e3eed631027":["baf341ad3a1a8fb73fb37091af85f8aef0398367","92bbd51f233b8000ba963b8cbc9cae64b4ef9e85"],"c02b06cb1bdf2875ec855bb190e3c651e67b057b":["78bba2225c30df6990ac27a75743069e928ef81d"],"baf341ad3a1a8fb73fb37091af85f8aef0398367":["ece4a78db13b370d8c89da1a285b45e0107389a2"],"92bbd51f233b8000ba963b8cbc9cae64b4ef9e85":["b4804614e0358954d5d9f51128fcf3cd79e6e25b"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["d2c8f5c46c2501b61e2f55eb7ee59e6c5372290b"],"ece4a78db13b370d8c89da1a285b45e0107389a2":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"b4804614e0358954d5d9f51128fcf3cd79e6e25b":["92bbd51f233b8000ba963b8cbc9cae64b4ef9e85"],"d2c8f5c46c2501b61e2f55eb7ee59e6c5372290b":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"b88a121b875f9ae2ac50f85cf46dcb680f126357":["d2c8f5c46c2501b61e2f55eb7ee59e6c5372290b"],"78bba2225c30df6990ac27a75743069e928ef81d":["c02b06cb1bdf2875ec855bb190e3c651e67b057b"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["ece4a78db13b370d8c89da1a285b45e0107389a2"],"407687e67faf6e1f02a211ca078d8e3eed631027":[],"c02b06cb1bdf2875ec855bb190e3c651e67b057b":["b4804614e0358954d5d9f51128fcf3cd79e6e25b"],"baf341ad3a1a8fb73fb37091af85f8aef0398367":["78bba2225c30df6990ac27a75743069e928ef81d","407687e67faf6e1f02a211ca078d8e3eed631027"],"92bbd51f233b8000ba963b8cbc9cae64b4ef9e85":["b88a121b875f9ae2ac50f85cf46dcb680f126357","407687e67faf6e1f02a211ca078d8e3eed631027"],"ece4a78db13b370d8c89da1a285b45e0107389a2":["baf341ad3a1a8fb73fb37091af85f8aef0398367"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["407687e67faf6e1f02a211ca078d8e3eed631027","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}