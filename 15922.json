{"path":"lucene/core/src/test/org/apache/lucene/search/similarities/TestSimilarityBase#testLMDirichlet().mjava","commits":[{"id":"3a119bbc8703c10faa329ec201c654b3a35a1e3e","date":1328644745,"type":1,"author":"Steven Rowe","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/search/similarities/TestSimilarityBase#testLMDirichlet().mjava","pathOld":"lucene/src/test/org/apache/lucene/search/similarities/TestSimilarityBase#testLMDirichlet().mjava","sourceNew":"  /** Correctness test for the Dirichlet LM model. */\n  public void testLMDirichlet() throws IOException {\n    float p =\n        (FREQ + 2000.0f * (TOTAL_TERM_FREQ + 1) / (NUMBER_OF_FIELD_TOKENS + 1.0f)) /\n        (DOC_LEN + 2000.0f);\n    float a = 2000.0f / (DOC_LEN + 2000.0f);\n    float gold = (float)(\n        Math.log(p / (a * (TOTAL_TERM_FREQ + 1) / (NUMBER_OF_FIELD_TOKENS + 1.0f))) +\n        Math.log(a));\n    correctnessTestCore(new LMDirichletSimilarity(), gold);\n  }\n\n","sourceOld":"  /** Correctness test for the Dirichlet LM model. */\n  public void testLMDirichlet() throws IOException {\n    float p =\n        (FREQ + 2000.0f * (TOTAL_TERM_FREQ + 1) / (NUMBER_OF_FIELD_TOKENS + 1.0f)) /\n        (DOC_LEN + 2000.0f);\n    float a = 2000.0f / (DOC_LEN + 2000.0f);\n    float gold = (float)(\n        Math.log(p / (a * (TOTAL_TERM_FREQ + 1) / (NUMBER_OF_FIELD_TOKENS + 1.0f))) +\n        Math.log(a));\n    correctnessTestCore(new LMDirichletSimilarity(), gold);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"3a119bbc8703c10faa329ec201c654b3a35a1e3e":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["3a119bbc8703c10faa329ec201c654b3a35a1e3e"]},"commit2Childs":{"3a119bbc8703c10faa329ec201c654b3a35a1e3e":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["3a119bbc8703c10faa329ec201c654b3a35a1e3e"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}