{"path":"solr/core/src/test/org/apache/solr/request/SimpleFacetsTest#testFacetMatches().mjava","commits":[{"id":"f59e5a034782f8d1b0eec0ec9a74be9b713764f4","date":1509386605,"type":0,"author":"Christine Poerschke","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/request/SimpleFacetsTest#testFacetMatches().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testFacetMatches() {\n    final String[][] uifSwitch = new String[][] {\n        new String[]{\"f.trait_s.facet.method\", \"uif\"},\n        new String[]{\"facet.method\", \"uif\"}\n    };\n    final String[] none = new String[]{};\n    for (String[] aSwitch : uifSwitch) {\n      for(String[] methodParam : new String[][]{ none, aSwitch}) {\n        assertQ(\"check facet.match filters facets returned\",\n            req(methodParam\n                , \"q\", \"id:[42 TO 47]\"\n                , \"facet\", \"true\"\n                , \"facet.field\", \"trait_s\"\n                , \"facet.matches\", \".*o.*\"\n            )\n            , \"*[count(//doc)=6]\"\n\n            , \"//lst[@name='facet_counts']/lst[@name='facet_queries']\"\n\n            , \"//lst[@name='facet_counts']/lst[@name='facet_fields']\"\n            , \"//lst[@name='facet_fields']/lst[@name='trait_s']\"\n            , \"*[count(//lst[@name='trait_s']/int)=2]\"\n            , \"//lst[@name='trait_s']/int[@name='Tool'][.='2']\"\n            , \"//lst[@name='trait_s']/int[@name='Obnoxious'][.='2']\"\n        );\n      }\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"f59e5a034782f8d1b0eec0ec9a74be9b713764f4":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["f59e5a034782f8d1b0eec0ec9a74be9b713764f4"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["f59e5a034782f8d1b0eec0ec9a74be9b713764f4"],"f59e5a034782f8d1b0eec0ec9a74be9b713764f4":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}