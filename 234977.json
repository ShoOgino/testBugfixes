{"path":"solr/core/src/test/org/apache/solr/response/TestGeoJSONResponseWriter#testGeoJSONAtRoot().mjava","commits":[{"id":"ba1c938737d199113ec96f0d8ce2c8791b61cd18","date":1458148009,"type":0,"author":"Ryan McKinley","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/response/TestGeoJSONResponseWriter#testGeoJSONAtRoot().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testGeoJSONAtRoot() throws Exception {\n    \n    // Try reading the whole resposne\n    String json = h.query(req(\n        \"q\",\"*:*\", \n        \"wt\",\"geojson\", \n        \"rows\",\"2\", \n        \"fl\",\"*\", \n        \"geojson.field\", \"stqpt_geohash\",\n        \"indent\",\"true\"));\n    \n    // Check that we have a normal solr response with 'responseHeader' and 'response'\n    Map<String,Object> rsp = readJSON(json);\n    assertNotNull(rsp.get(\"responseHeader\"));\n    assertNotNull(rsp.get(\"response\"));\n    \n    json = h.query(req(\n        \"q\",\"*:*\", \n        \"wt\",\"geojson\", \n        \"rows\",\"2\", \n        \"fl\",\"*\", \n        \"omitHeader\", \"true\",\n        \"geojson.field\", \"stqpt_geohash\",\n        \"indent\",\"true\"));\n    \n    // Check that we have a normal solr response with 'responseHeader' and 'response'\n    rsp = readJSON(json);\n    assertNull(rsp.get(\"responseHeader\"));\n    assertNull(rsp.get(\"response\"));\n    assertEquals(\"FeatureCollection\", rsp.get(\"type\"));\n    assertNotNull(rsp.get(\"features\"));\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"ba1c938737d199113ec96f0d8ce2c8791b61cd18":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["ba1c938737d199113ec96f0d8ce2c8791b61cd18"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["ba1c938737d199113ec96f0d8ce2c8791b61cd18"],"ba1c938737d199113ec96f0d8ce2c8791b61cd18":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}