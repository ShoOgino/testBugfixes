{"path":"solr/core/src/test/org/apache/solr/search/TestExtendedDismaxParser#testBf().mjava","commits":[{"id":"ce58553821a13347ce37f0f99c10c2a57cb08a18","date":1561826882,"type":0,"author":"Munendra S N","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/TestExtendedDismaxParser#testBf().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testBf() {\n    assertQ(\n        req(\"q\", \"tekna\", \"qf\", \"text_sw\", \"defType\", \"edismax\", \"bf\", \"ord(id)\", \"fq\", \"id:[52 TO 54]\", \"fl\", \"id,score\"),\n        \"//doc[1]/str[@name='id'][.='54']\",\n        \"//doc[2]/str[@name='id'][.='53']\",\n        \"//doc[3]/str[@name='id'][.='52']\"\n    );\n\n    assertQ(req(\"q\", \"tekna\", \"qf\", \"text_sw\", \"defType\", \"edismax\",\n        \"bf\", \"if(and(query({!v='id:53'})),120,if(query({!v='id:52'}),10,0))\", \"fq\", \"id:[52 TO 54]\", \"fl\", \"id,score\"),\n        \"//doc[1]/str[@name='id'][.='53']\",\n        \"//doc[2]/str[@name='id'][.='52']\",\n        \"//doc[3]/str[@name='id'][.='54']\");\n\n    // adding value from a field\n    // 0 would be returned for negative values\n    assertQ(req(\"q\", \"*:*\", \"qf\", \"text_sw\", \"defType\", \"edismax\",\n        \"bf\", \"foo_i\", \"fq\", \"id:[47 TO 49]\", \"fl\", \"id,score\"),\n        \"//doc[1]/str[@name='id'][.='48']\",\n        \"//doc[2]/str[@name='id'][.='47']\",\n        \"//doc[3]/str[@name='id'][.='49']\");\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"bd6e816301701c213c8bb3aea804917b2f4c127e","date":1566253999,"type":3,"author":"Chris Hostetter","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/TestExtendedDismaxParser#testBf().mjava","pathOld":"solr/core/src/test/org/apache/solr/search/TestExtendedDismaxParser#testBf().mjava","sourceNew":"  @Test\n  public void testBf() {\n    assertQ(\n        req(\"q\", \"tekna\", \"qf\", \"text_sw\", \"defType\", \"edismax\", \"bf\", \"ord(id)\", \"fq\", \"id:[52 TO 54]\", \"fl\", \"id,score\"),\n        \"//doc[1]/str[@name='id'][.='54']\",\n        \"//doc[2]/str[@name='id'][.='53']\",\n        \"//doc[3]/str[@name='id'][.='52']\"\n    );\n\n    assertQ(req(\"q\", \"tekna\", \"qf\", \"text_sw\", \"defType\", \"edismax\",\n        \"bf\", \"if(and(query({!v='id:53'})),120,if(query({!v='id:52'}),10,0))\", \"fq\", \"id:[52 TO 54]\", \"fl\", \"id,score\"),\n        \"//doc[1]/str[@name='id'][.='53']\",\n        \"//doc[2]/str[@name='id'][.='52']\",\n        \"//doc[3]/str[@name='id'][.='54']\");\n\n    // adding value from a field\n    // 0 would be returned for negative values or docs w/o a value\n    assertQ(req(\"q\", \"*:*\", \"qf\", \"text_sw\", \"defType\", \"edismax\",\n                \"bf\", \"foo_i\", \"fq\", \"id:[47 TO 49]\", \"fl\", \"id,score\"),\n            \"//doc[1]/str[@name='id'][.='48']\",\n            // these should have identical score, in non-deterministic order\n            \"//doc[str[@name='id'][.='47'] and float[@name='score'][.='1.0']]\",\n            \"//doc[str[@name='id'][.='49'] and float[@name='score'][.='1.0']]\");\n  }\n\n","sourceOld":"  @Test\n  public void testBf() {\n    assertQ(\n        req(\"q\", \"tekna\", \"qf\", \"text_sw\", \"defType\", \"edismax\", \"bf\", \"ord(id)\", \"fq\", \"id:[52 TO 54]\", \"fl\", \"id,score\"),\n        \"//doc[1]/str[@name='id'][.='54']\",\n        \"//doc[2]/str[@name='id'][.='53']\",\n        \"//doc[3]/str[@name='id'][.='52']\"\n    );\n\n    assertQ(req(\"q\", \"tekna\", \"qf\", \"text_sw\", \"defType\", \"edismax\",\n        \"bf\", \"if(and(query({!v='id:53'})),120,if(query({!v='id:52'}),10,0))\", \"fq\", \"id:[52 TO 54]\", \"fl\", \"id,score\"),\n        \"//doc[1]/str[@name='id'][.='53']\",\n        \"//doc[2]/str[@name='id'][.='52']\",\n        \"//doc[3]/str[@name='id'][.='54']\");\n\n    // adding value from a field\n    // 0 would be returned for negative values\n    assertQ(req(\"q\", \"*:*\", \"qf\", \"text_sw\", \"defType\", \"edismax\",\n        \"bf\", \"foo_i\", \"fq\", \"id:[47 TO 49]\", \"fl\", \"id,score\"),\n        \"//doc[1]/str[@name='id'][.='48']\",\n        \"//doc[2]/str[@name='id'][.='47']\",\n        \"//doc[3]/str[@name='id'][.='49']\");\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"bd6e816301701c213c8bb3aea804917b2f4c127e":["ce58553821a13347ce37f0f99c10c2a57cb08a18"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"ce58553821a13347ce37f0f99c10c2a57cb08a18":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["bd6e816301701c213c8bb3aea804917b2f4c127e"]},"commit2Childs":{"bd6e816301701c213c8bb3aea804917b2f4c127e":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["ce58553821a13347ce37f0f99c10c2a57cb08a18"],"ce58553821a13347ce37f0f99c10c2a57cb08a18":["bd6e816301701c213c8bb3aea804917b2f4c127e"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}