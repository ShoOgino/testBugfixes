{"path":"contrib/benchmark/src/test/org/apache/lucene/benchmark/byTask/feeds/TrecDocMakerTest#testForever().mjava","commits":[{"id":"f58dbed2db5b1fe7e0910a67b4d5640eb60dfe4e","date":1231760243,"type":0,"author":"Michael McCandless","isMerge":false,"pathNew":"contrib/benchmark/src/test/org/apache/lucene/benchmark/byTask/feeds/TrecDocMakerTest#testForever().mjava","pathOld":"/dev/null","sourceNew":"  public void testForever() throws Exception {\n    String docs = \"<DOC>\\r\\n\" + \n                  \"<DOCNO>TEST-000</DOCNO>\\r\\n\" + \n                  \"<DOCHDR>\\r\\n\" + \n                  \"http://lucene.apache.org.trecdocmaker.test\\r\\n\" + \n                  \"HTTP/1.1 200 OK\\r\\n\" + \n                  \"Date: Sun, 11 Jan 2009 08:00:00 GMT\\r\\n\" + \n                  \"Server: Apache/1.3.27 (Unix)\\r\\n\" + \n                  \"Last-Modified: Sun, 11 Jan 2009 08:00:00 GMT\\r\\n\" + \n                  \"Content-Length: 614\\r\\n\" + \n                  \"Connection: close\\r\\n\" + \n                  \"Content-Type: text/html\\r\\n\" + \n                  \"</DOCHDR>\\r\\n\" + \n                  \"<html>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"<head>\\r\\n\" + \n                  \"<title>\\r\\n\" + \n                  \"TEST-000 title\\r\\n\" + \n                  \"</title>\\r\\n\" + \n                  \"</head>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"<body>\\r\\n\" + \n                  \"TEST-000 text\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"</body>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"</DOC>\";\n    StringableTrecDocMaker stdm = new StringableTrecDocMaker(docs, true);\n    stdm.setHTMLParser(new DemoHTMLParser());\n\n    DocData dd = stdm.getNextDocData();\n    assertDocData(dd, \"TEST-000_0\", \"TEST-000 title\", \"TEST-000 text\", stdm\n        .parseDate(\"Sun, 11 Jan 2009 08:00:00 GMT\"));\n    \n    // same document, but the second iteration changes the name.\n    dd = stdm.getNextDocData();\n    assertDocData(dd, \"TEST-000_1\", \"TEST-000 title\", \"TEST-000 text\", stdm\n        .parseDate(\"Sun, 11 Jan 2009 08:00:00 GMT\"));\n\n    // Don't test that NoMoreDataException is thrown, since the forever flag is\n    // turned on.\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"6944b9fa6d8ef96b83ae2d3a4332d03b3857355b","date":1245355139,"type":5,"author":"Mark Robert Miller","isMerge":false,"pathNew":"contrib/benchmark/src/test/org/apache/lucene/benchmark/byTask/feeds/TrecContentSourceTest#testForever().mjava","pathOld":"contrib/benchmark/src/test/org/apache/lucene/benchmark/byTask/feeds/TrecDocMakerTest#testForever().mjava","sourceNew":"  public void testForever() throws Exception {\n    String docs = \"<DOC>\\r\\n\" + \n                  \"<DOCNO>TEST-000</DOCNO>\\r\\n\" + \n                  \"<DOCHDR>\\r\\n\" + \n                  \"http://lucene.apache.org.trecdocmaker.test\\r\\n\" + \n                  \"HTTP/1.1 200 OK\\r\\n\" + \n                  \"Date: Sun, 11 Jan 2009 08:00:00 GMT\\r\\n\" + \n                  \"Server: Apache/1.3.27 (Unix)\\r\\n\" + \n                  \"Last-Modified: Sun, 11 Jan 2009 08:00:00 GMT\\r\\n\" + \n                  \"Content-Length: 614\\r\\n\" + \n                  \"Connection: close\\r\\n\" + \n                  \"Content-Type: text/html\\r\\n\" + \n                  \"</DOCHDR>\\r\\n\" + \n                  \"<html>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"<head>\\r\\n\" + \n                  \"<title>\\r\\n\" + \n                  \"TEST-000 title\\r\\n\" + \n                  \"</title>\\r\\n\" + \n                  \"</head>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"<body>\\r\\n\" + \n                  \"TEST-000 text\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"</body>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"</DOC>\";\n    StringableTrecSource source = new StringableTrecSource(docs, true);\n    source.setConfig(null);\n\n    DocData dd = source.getNextDocData(new DocData());\n    assertDocData(dd, \"TEST-000_0\", \"TEST-000 title\", \"TEST-000 text\", source\n        .parseDate(\"Sun, 11 Jan 2009 08:00:00 GMT\"));\n    \n    // same document, but the second iteration changes the name.\n    dd = source.getNextDocData(dd);\n    assertDocData(dd, \"TEST-000_1\", \"TEST-000 title\", \"TEST-000 text\", source\n        .parseDate(\"Sun, 11 Jan 2009 08:00:00 GMT\"));\n\n    // Don't test that NoMoreDataException is thrown, since the forever flag is\n    // turned on.\n  }\n\n","sourceOld":"  public void testForever() throws Exception {\n    String docs = \"<DOC>\\r\\n\" + \n                  \"<DOCNO>TEST-000</DOCNO>\\r\\n\" + \n                  \"<DOCHDR>\\r\\n\" + \n                  \"http://lucene.apache.org.trecdocmaker.test\\r\\n\" + \n                  \"HTTP/1.1 200 OK\\r\\n\" + \n                  \"Date: Sun, 11 Jan 2009 08:00:00 GMT\\r\\n\" + \n                  \"Server: Apache/1.3.27 (Unix)\\r\\n\" + \n                  \"Last-Modified: Sun, 11 Jan 2009 08:00:00 GMT\\r\\n\" + \n                  \"Content-Length: 614\\r\\n\" + \n                  \"Connection: close\\r\\n\" + \n                  \"Content-Type: text/html\\r\\n\" + \n                  \"</DOCHDR>\\r\\n\" + \n                  \"<html>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"<head>\\r\\n\" + \n                  \"<title>\\r\\n\" + \n                  \"TEST-000 title\\r\\n\" + \n                  \"</title>\\r\\n\" + \n                  \"</head>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"<body>\\r\\n\" + \n                  \"TEST-000 text\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"</body>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"</DOC>\";\n    StringableTrecDocMaker stdm = new StringableTrecDocMaker(docs, true);\n    stdm.setHTMLParser(new DemoHTMLParser());\n\n    DocData dd = stdm.getNextDocData();\n    assertDocData(dd, \"TEST-000_0\", \"TEST-000 title\", \"TEST-000 text\", stdm\n        .parseDate(\"Sun, 11 Jan 2009 08:00:00 GMT\"));\n    \n    // same document, but the second iteration changes the name.\n    dd = stdm.getNextDocData();\n    assertDocData(dd, \"TEST-000_1\", \"TEST-000 title\", \"TEST-000 text\", stdm\n        .parseDate(\"Sun, 11 Jan 2009 08:00:00 GMT\"));\n\n    // Don't test that NoMoreDataException is thrown, since the forever flag is\n    // turned on.\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"6944b9fa6d8ef96b83ae2d3a4332d03b3857355b":["f58dbed2db5b1fe7e0910a67b4d5640eb60dfe4e"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"f58dbed2db5b1fe7e0910a67b4d5640eb60dfe4e":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["6944b9fa6d8ef96b83ae2d3a4332d03b3857355b"]},"commit2Childs":{"6944b9fa6d8ef96b83ae2d3a4332d03b3857355b":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["f58dbed2db5b1fe7e0910a67b4d5640eb60dfe4e"],"f58dbed2db5b1fe7e0910a67b4d5640eb60dfe4e":["6944b9fa6d8ef96b83ae2d3a4332d03b3857355b"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}