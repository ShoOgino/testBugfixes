{"path":"solr/core/src/test/org/apache/solr/servlet/SecurityHeadersTest#testHeaders().mjava","commits":[{"id":"9746d4d1a8506463e6a4647323b07467d8ed843b","date":1601396343,"type":0,"author":"Chris Hostetter","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/servlet/SecurityHeadersTest#testHeaders().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testHeaders() throws Exception {\n    // it shouldn't matter what node our lone replica/core wound up on, headers should be the same...\n    for (JettySolrRunner jetty : cluster.getJettySolrRunners()) {\n      try (SolrClient solrClient = jetty.newClient()) {\n        final HttpClient client = ((HttpSolrClient) solrClient).getHttpClient();\n\n        // path shouldn't matter -- even if bogus / 404\n        for (String path : Arrays.asList(\"/select\", \"/bogus\")) {\n          final HttpResponse resp = client.execute\n            (new HttpGet(URI.create(jetty.getBaseUrl().toString() + \"/\" + COLLECTION + path)));\n\n          for (Map.Entry<String,String[]> entry : EXPECTED_HEADERS) {\n            // these exact arrays (of 1 element each) should be *ALL* of the header instances...\n            // no more, no less.\n            assertEquals(entry.getValue(),\n                         resp.getHeaders(entry.getKey()));\n            \n          }\n        }\n      }\n    }\n    \n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"9746d4d1a8506463e6a4647323b07467d8ed843b":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["9746d4d1a8506463e6a4647323b07467d8ed843b"]},"commit2Childs":{"9746d4d1a8506463e6a4647323b07467d8ed843b":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["9746d4d1a8506463e6a4647323b07467d8ed843b"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}