{"path":"src/java/org/apache/solr/core/SolrResourceLoader#locateInstanceDir().mjava","commits":[{"id":"fcf52a7da226d8d3756cc8bf9f3ae1f39952b014","date":1195912306,"type":1,"author":"Ryan McKinley","isMerge":false,"pathNew":"src/java/org/apache/solr/core/SolrResourceLoader#locateInstanceDir().mjava","pathOld":"src/java/org/apache/solr/core/Config#locateInstanceDir().mjava","sourceNew":"  public static String locateInstanceDir() {\n    String home = null;\n    // Try JNDI\n    try {\n      Context c = new InitialContext();\n      home = (String)c.lookup(\"java:comp/env/solr/home\");\n      log.info(\"Using JNDI solr.home: \"+home );\n    } catch (NoInitialContextException e) {\n      log.info(\"JNDI not configured for Solr (NoInitialContextEx)\");\n    } catch (NamingException e) {\n      log.info(\"No /solr/home in JNDI\");\n    } catch( RuntimeException ex ) {\n      log.warning(\"Odd RuntimeException while testing for JNDI: \" + ex.getMessage());\n    } \n    \n    // Now try system property\n    if( home == null ) {\n      String prop = project + \".solr.home\";\n      home = normalizeDir(System.getProperty(prop));\n      if( home != null ) {\n        log.info(\"using system property solr.home: \" + home );\n      }\n    }\n    \n    // if all else fails, try \n    if( home == null ) {\n      home = project + '/';\n      log.info(\"Solr home defaulted to '\" + home + \"' (could not find system property or JNDI)\");\n    }\n    return normalizeDir( home );\n  }\n\n","sourceOld":"  public static String locateInstanceDir() {\n    String home = null;\n    // Try JNDI\n    try {\n      Context c = new InitialContext();\n      home = (String)c.lookup(\"java:comp/env/solr/home\");\n      log.info(\"Using JNDI solr.home: \"+home );\n    } catch (NoInitialContextException e) {\n      log.info(\"JNDI not configured for Solr (NoInitialContextEx)\");\n    } catch (NamingException e) {\n      log.info(\"No /solr/home in JNDI\");\n    } catch( RuntimeException ex ) {\n      log.warning(\"Odd RuntimeException while testing for JNDI: \" + ex.getMessage());\n    } \n    \n    // Now try system property\n    if( home == null ) {\n      String prop = project + \".solr.home\";\n      home = normalizeDir(System.getProperty(prop));\n      if( home != null ) {\n        log.info(\"using system property solr.home: \" + home );\n      }\n    }\n    \n    // if all else fails, try \n    if( home == null ) {\n      home = project + '/';\n      log.info(\"Solr home defaulted to '\" + home + \"' (could not find system property or JNDI)\");\n    }\n    return normalizeDir( home );\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"048361614025800e582bfc7a7b0329dc6fd6a95e","date":1196999392,"type":3,"author":"Ryan McKinley","isMerge":false,"pathNew":"src/java/org/apache/solr/core/SolrResourceLoader#locateInstanceDir().mjava","pathOld":"src/java/org/apache/solr/core/SolrResourceLoader#locateInstanceDir().mjava","sourceNew":"  public static String locateInstanceDir() {\n    String home = null;\n    // Try JNDI\n    try {\n      Context c = new InitialContext();\n      home = (String)c.lookup(\"java:comp/env/\"+project+\"/home\");\n      log.info(\"Using JNDI solr.home: \"+home );\n    } catch (NoInitialContextException e) {\n      log.info(\"JNDI not configured for \"+project+\" (NoInitialContextEx)\");\n    } catch (NamingException e) {\n      log.info(\"No /\"+project+\"/home in JNDI\");\n    } catch( RuntimeException ex ) {\n      log.warning(\"Odd RuntimeException while testing for JNDI: \" + ex.getMessage());\n    } \n    \n    // Now try system property\n    if( home == null ) {\n      String prop = project + \".solr.home\";\n      home = normalizeDir(System.getProperty(prop));\n      if( home != null ) {\n        log.info(\"using system property \"+prop+\": \" + home );\n      }\n    }\n    \n    // if all else fails, try \n    if( home == null ) {\n      home = project + '/';\n      log.info(project + \" home defaulted to '\" + home + \"' (could not find system property or JNDI)\");\n    }\n    return normalizeDir( home );\n  }\n\n","sourceOld":"  public static String locateInstanceDir() {\n    String home = null;\n    // Try JNDI\n    try {\n      Context c = new InitialContext();\n      home = (String)c.lookup(\"java:comp/env/solr/home\");\n      log.info(\"Using JNDI solr.home: \"+home );\n    } catch (NoInitialContextException e) {\n      log.info(\"JNDI not configured for Solr (NoInitialContextEx)\");\n    } catch (NamingException e) {\n      log.info(\"No /solr/home in JNDI\");\n    } catch( RuntimeException ex ) {\n      log.warning(\"Odd RuntimeException while testing for JNDI: \" + ex.getMessage());\n    } \n    \n    // Now try system property\n    if( home == null ) {\n      String prop = project + \".solr.home\";\n      home = normalizeDir(System.getProperty(prop));\n      if( home != null ) {\n        log.info(\"using system property solr.home: \" + home );\n      }\n    }\n    \n    // if all else fails, try \n    if( home == null ) {\n      home = project + '/';\n      log.info(\"Solr home defaulted to '\" + home + \"' (could not find system property or JNDI)\");\n    }\n    return normalizeDir( home );\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"25fe4a044a812e68f0bfb673e4bffd6f0c73b180","date":1202250102,"type":3,"author":"Ryan McKinley","isMerge":false,"pathNew":"src/java/org/apache/solr/core/SolrResourceLoader#locateInstanceDir().mjava","pathOld":"src/java/org/apache/solr/core/SolrResourceLoader#locateInstanceDir().mjava","sourceNew":"  /**\n   * Finds the instanceDir based on looking up the value in one of three places:\n   * <ol>\n   *  <li>JNDI: via java:comp/env/solr/home</li>\n   *  <li>The system property solr.solr.home</li>\n   *  <li>Look in the current working directory for a solr/ directory</li> \n   * </ol>\n   *\n   * The return value is normalized.  Normalization essentially means it ends in a trailing slash.\n   * @return A normalized instanceDir\n   *\n   * @see #normalizeDir(String) \n   */\n  public static String locateInstanceDir() {\n    String home = null;\n    // Try JNDI\n    try {\n      Context c = new InitialContext();\n      home = (String)c.lookup(\"java:comp/env/\"+project+\"/home\");\n      log.info(\"Using JNDI solr.home: \"+home );\n    } catch (NoInitialContextException e) {\n      log.info(\"JNDI not configured for \"+project+\" (NoInitialContextEx)\");\n    } catch (NamingException e) {\n      log.info(\"No /\"+project+\"/home in JNDI\");\n    } catch( RuntimeException ex ) {\n      log.warning(\"Odd RuntimeException while testing for JNDI: \" + ex.getMessage());\n    } \n    \n    // Now try system property\n    if( home == null ) {\n      String prop = project + \".solr.home\";\n      home = System.getProperty(prop);\n      if( home != null ) {\n        log.info(\"using system property \"+prop+\": \" + home );\n      }\n    }\n    \n    // if all else fails, try \n    if( home == null ) {\n      home = project + '/';\n      log.info(project + \" home defaulted to '\" + home + \"' (could not find system property or JNDI)\");\n    }\n    return normalizeDir( home );\n  }\n\n","sourceOld":"  public static String locateInstanceDir() {\n    String home = null;\n    // Try JNDI\n    try {\n      Context c = new InitialContext();\n      home = (String)c.lookup(\"java:comp/env/\"+project+\"/home\");\n      log.info(\"Using JNDI solr.home: \"+home );\n    } catch (NoInitialContextException e) {\n      log.info(\"JNDI not configured for \"+project+\" (NoInitialContextEx)\");\n    } catch (NamingException e) {\n      log.info(\"No /\"+project+\"/home in JNDI\");\n    } catch( RuntimeException ex ) {\n      log.warning(\"Odd RuntimeException while testing for JNDI: \" + ex.getMessage());\n    } \n    \n    // Now try system property\n    if( home == null ) {\n      String prop = project + \".solr.home\";\n      home = normalizeDir(System.getProperty(prop));\n      if( home != null ) {\n        log.info(\"using system property \"+prop+\": \" + home );\n      }\n    }\n    \n    // if all else fails, try \n    if( home == null ) {\n      home = project + '/';\n      log.info(project + \" home defaulted to '\" + home + \"' (could not find system property or JNDI)\");\n    }\n    return normalizeDir( home );\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"6dc6ab6902f8f70ae43365947ccf44c25986906d","date":1204603577,"type":3,"author":"Ryan McKinley","isMerge":false,"pathNew":"src/java/org/apache/solr/core/SolrResourceLoader#locateInstanceDir().mjava","pathOld":"src/java/org/apache/solr/core/SolrResourceLoader#locateInstanceDir().mjava","sourceNew":"  /**\n   * Determines the instanceDir from the environment.\n   * Tries JNDI (java:comp/env/solr/home) then system property (solr.solr.home);\n   * if both fail, defaults to solr/\n   * @return the instance directory name\n   */\n  /**\n   * Finds the instanceDir based on looking up the value in one of three places:\n   * <ol>\n   *  <li>JNDI: via java:comp/env/solr/home</li>\n   *  <li>The system property solr.solr.home</li>\n   *  <li>Look in the current working directory for a solr/ directory</li> \n   * </ol>\n   *\n   * The return value is normalized.  Normalization essentially means it ends in a trailing slash.\n   * @return A normalized instanceDir\n   *\n   * @see #normalizeDir(String) \n   */\n  public static String locateInstanceDir() {\n    String home = null;\n    // Try JNDI\n    try {\n      Context c = new InitialContext();\n      home = (String)c.lookup(\"java:comp/env/\"+project+\"/home\");\n      log.info(\"Using JNDI solr.home: \"+home );\n    } catch (NoInitialContextException e) {\n      log.info(\"JNDI not configured for \"+project+\" (NoInitialContextEx)\");\n    } catch (NamingException e) {\n      log.info(\"No /\"+project+\"/home in JNDI\");\n    } catch( RuntimeException ex ) {\n      log.warning(\"Odd RuntimeException while testing for JNDI: \" + ex.getMessage());\n    } \n    \n    // Now try system property\n    if( home == null ) {\n      String prop = project + \".solr.home\";\n      home = System.getProperty(prop);\n      if( home != null ) {\n        log.info(\"using system property \"+prop+\": \" + home );\n      }\n    }\n    \n    // if all else fails, try \n    if( home == null ) {\n      home = project + '/';\n      log.info(project + \" home defaulted to '\" + home + \"' (could not find system property or JNDI)\");\n    }\n    return normalizeDir( home );\n  }\n\n","sourceOld":"  /**\n   * Finds the instanceDir based on looking up the value in one of three places:\n   * <ol>\n   *  <li>JNDI: via java:comp/env/solr/home</li>\n   *  <li>The system property solr.solr.home</li>\n   *  <li>Look in the current working directory for a solr/ directory</li> \n   * </ol>\n   *\n   * The return value is normalized.  Normalization essentially means it ends in a trailing slash.\n   * @return A normalized instanceDir\n   *\n   * @see #normalizeDir(String) \n   */\n  public static String locateInstanceDir() {\n    String home = null;\n    // Try JNDI\n    try {\n      Context c = new InitialContext();\n      home = (String)c.lookup(\"java:comp/env/\"+project+\"/home\");\n      log.info(\"Using JNDI solr.home: \"+home );\n    } catch (NoInitialContextException e) {\n      log.info(\"JNDI not configured for \"+project+\" (NoInitialContextEx)\");\n    } catch (NamingException e) {\n      log.info(\"No /\"+project+\"/home in JNDI\");\n    } catch( RuntimeException ex ) {\n      log.warning(\"Odd RuntimeException while testing for JNDI: \" + ex.getMessage());\n    } \n    \n    // Now try system property\n    if( home == null ) {\n      String prop = project + \".solr.home\";\n      home = System.getProperty(prop);\n      if( home != null ) {\n        log.info(\"using system property \"+prop+\": \" + home );\n      }\n    }\n    \n    // if all else fails, try \n    if( home == null ) {\n      home = project + '/';\n      log.info(project + \" home defaulted to '\" + home + \"' (could not find system property or JNDI)\");\n    }\n    return normalizeDir( home );\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"00da8b51bdeae168a5b26ec506db372b219ca7a2","date":1221704186,"type":3,"author":"Ryan McKinley","isMerge":false,"pathNew":"src/java/org/apache/solr/core/SolrResourceLoader#locateInstanceDir().mjava","pathOld":"src/java/org/apache/solr/core/SolrResourceLoader#locateInstanceDir().mjava","sourceNew":"  /**\n   * Determines the instanceDir from the environment.\n   * Tries JNDI (java:comp/env/solr/home) then system property (solr.solr.home);\n   * if both fail, defaults to solr/\n   * @return the instance directory name\n   */\n  /**\n   * Finds the instanceDir based on looking up the value in one of three places:\n   * <ol>\n   *  <li>JNDI: via java:comp/env/solr/home</li>\n   *  <li>The system property solr.solr.home</li>\n   *  <li>Look in the current working directory for a solr/ directory</li> \n   * </ol>\n   *\n   * The return value is normalized.  Normalization essentially means it ends in a trailing slash.\n   * @return A normalized instanceDir\n   *\n   * @see #normalizeDir(String) \n   */\n  public static String locateInstanceDir() {\n    String home = null;\n    // Try JNDI\n    try {\n      Context c = new InitialContext();\n      home = (String)c.lookup(\"java:comp/env/\"+project+\"/home\");\n      log.info(\"Using JNDI solr.home: \"+home );\n    } catch (NoInitialContextException e) {\n      log.info(\"JNDI not configured for \"+project+\" (NoInitialContextEx)\");\n    } catch (NamingException e) {\n      log.info(\"No /\"+project+\"/home in JNDI\");\n    } catch( RuntimeException ex ) {\n      log.warn(\"Odd RuntimeException while testing for JNDI: \" + ex.getMessage());\n    } \n    \n    // Now try system property\n    if( home == null ) {\n      String prop = project + \".solr.home\";\n      home = System.getProperty(prop);\n      if( home != null ) {\n        log.info(\"using system property \"+prop+\": \" + home );\n      }\n    }\n    \n    // if all else fails, try \n    if( home == null ) {\n      home = project + '/';\n      log.info(project + \" home defaulted to '\" + home + \"' (could not find system property or JNDI)\");\n    }\n    return normalizeDir( home );\n  }\n\n","sourceOld":"  /**\n   * Determines the instanceDir from the environment.\n   * Tries JNDI (java:comp/env/solr/home) then system property (solr.solr.home);\n   * if both fail, defaults to solr/\n   * @return the instance directory name\n   */\n  /**\n   * Finds the instanceDir based on looking up the value in one of three places:\n   * <ol>\n   *  <li>JNDI: via java:comp/env/solr/home</li>\n   *  <li>The system property solr.solr.home</li>\n   *  <li>Look in the current working directory for a solr/ directory</li> \n   * </ol>\n   *\n   * The return value is normalized.  Normalization essentially means it ends in a trailing slash.\n   * @return A normalized instanceDir\n   *\n   * @see #normalizeDir(String) \n   */\n  public static String locateInstanceDir() {\n    String home = null;\n    // Try JNDI\n    try {\n      Context c = new InitialContext();\n      home = (String)c.lookup(\"java:comp/env/\"+project+\"/home\");\n      log.info(\"Using JNDI solr.home: \"+home );\n    } catch (NoInitialContextException e) {\n      log.info(\"JNDI not configured for \"+project+\" (NoInitialContextEx)\");\n    } catch (NamingException e) {\n      log.info(\"No /\"+project+\"/home in JNDI\");\n    } catch( RuntimeException ex ) {\n      log.warning(\"Odd RuntimeException while testing for JNDI: \" + ex.getMessage());\n    } \n    \n    // Now try system property\n    if( home == null ) {\n      String prop = project + \".solr.home\";\n      home = System.getProperty(prop);\n      if( home != null ) {\n        log.info(\"using system property \"+prop+\": \" + home );\n      }\n    }\n    \n    // if all else fails, try \n    if( home == null ) {\n      home = project + '/';\n      log.info(project + \" home defaulted to '\" + home + \"' (could not find system property or JNDI)\");\n    }\n    return normalizeDir( home );\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"baf5396191fd3f561aa9c6af0633bae3500799ba","date":1245405538,"type":3,"author":"Noble Paul","isMerge":false,"pathNew":"src/java/org/apache/solr/core/SolrResourceLoader#locateInstanceDir().mjava","pathOld":"src/java/org/apache/solr/core/SolrResourceLoader#locateInstanceDir().mjava","sourceNew":"  @Deprecated\n  public static String locateInstanceDir() {\n    return locateSolrHome();\n  }\n\n","sourceOld":"  /**\n   * Determines the instanceDir from the environment.\n   * Tries JNDI (java:comp/env/solr/home) then system property (solr.solr.home);\n   * if both fail, defaults to solr/\n   * @return the instance directory name\n   */\n  /**\n   * Finds the instanceDir based on looking up the value in one of three places:\n   * <ol>\n   *  <li>JNDI: via java:comp/env/solr/home</li>\n   *  <li>The system property solr.solr.home</li>\n   *  <li>Look in the current working directory for a solr/ directory</li> \n   * </ol>\n   *\n   * The return value is normalized.  Normalization essentially means it ends in a trailing slash.\n   * @return A normalized instanceDir\n   *\n   * @see #normalizeDir(String) \n   */\n  public static String locateInstanceDir() {\n    String home = null;\n    // Try JNDI\n    try {\n      Context c = new InitialContext();\n      home = (String)c.lookup(\"java:comp/env/\"+project+\"/home\");\n      log.info(\"Using JNDI solr.home: \"+home );\n    } catch (NoInitialContextException e) {\n      log.info(\"JNDI not configured for \"+project+\" (NoInitialContextEx)\");\n    } catch (NamingException e) {\n      log.info(\"No /\"+project+\"/home in JNDI\");\n    } catch( RuntimeException ex ) {\n      log.warn(\"Odd RuntimeException while testing for JNDI: \" + ex.getMessage());\n    } \n    \n    // Now try system property\n    if( home == null ) {\n      String prop = project + \".solr.home\";\n      home = System.getProperty(prop);\n      if( home != null ) {\n        log.info(\"using system property \"+prop+\": \" + home );\n      }\n    }\n    \n    // if all else fails, try \n    if( home == null ) {\n      home = project + '/';\n      log.info(project + \" home defaulted to '\" + home + \"' (could not find system property or JNDI)\");\n    }\n    return normalizeDir( home );\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"ad94625fb8d088209f46650c8097196fec67f00c","date":1453508319,"type":5,"author":"Dawid Weiss","isMerge":false,"pathNew":"solr/src/java/org/apache/solr/core/SolrResourceLoader#locateInstanceDir().mjava","pathOld":"src/java/org/apache/solr/core/SolrResourceLoader#locateInstanceDir().mjava","sourceNew":"  @Deprecated\n  public static String locateInstanceDir() {\n    return locateSolrHome();\n  }\n\n","sourceOld":"  @Deprecated\n  public static String locateInstanceDir() {\n    return locateSolrHome();\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"048361614025800e582bfc7a7b0329dc6fd6a95e":["fcf52a7da226d8d3756cc8bf9f3ae1f39952b014"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"6dc6ab6902f8f70ae43365947ccf44c25986906d":["25fe4a044a812e68f0bfb673e4bffd6f0c73b180"],"3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b":[],"baf5396191fd3f561aa9c6af0633bae3500799ba":["00da8b51bdeae168a5b26ec506db372b219ca7a2"],"ad94625fb8d088209f46650c8097196fec67f00c":["baf5396191fd3f561aa9c6af0633bae3500799ba"],"25fe4a044a812e68f0bfb673e4bffd6f0c73b180":["048361614025800e582bfc7a7b0329dc6fd6a95e"],"fcf52a7da226d8d3756cc8bf9f3ae1f39952b014":["3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b"],"00da8b51bdeae168a5b26ec506db372b219ca7a2":["6dc6ab6902f8f70ae43365947ccf44c25986906d"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"048361614025800e582bfc7a7b0329dc6fd6a95e":["25fe4a044a812e68f0bfb673e4bffd6f0c73b180"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"6dc6ab6902f8f70ae43365947ccf44c25986906d":["00da8b51bdeae168a5b26ec506db372b219ca7a2"],"3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b":["fcf52a7da226d8d3756cc8bf9f3ae1f39952b014"],"baf5396191fd3f561aa9c6af0633bae3500799ba":["ad94625fb8d088209f46650c8097196fec67f00c"],"fcf52a7da226d8d3756cc8bf9f3ae1f39952b014":["048361614025800e582bfc7a7b0329dc6fd6a95e"],"25fe4a044a812e68f0bfb673e4bffd6f0c73b180":["6dc6ab6902f8f70ae43365947ccf44c25986906d"],"ad94625fb8d088209f46650c8097196fec67f00c":[],"00da8b51bdeae168a5b26ec506db372b219ca7a2":["baf5396191fd3f561aa9c6af0633bae3500799ba"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["ad94625fb8d088209f46650c8097196fec67f00c","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b"],"pathCommit":null}