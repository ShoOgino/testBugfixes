{"path":"solr/core/src/test/org/apache/solr/TestCrossCoreJoin#beforeTests().mjava","commits":[{"id":"6eecfe8d494cb2e3ead94e9cdb9381bfe4993dcd","date":1438089844,"type":0,"author":"Mikhail Khludnev","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/TestCrossCoreJoin#beforeTests().mjava","pathOld":"/dev/null","sourceNew":"  @BeforeClass\n  public static void beforeTests() throws Exception {\n    System.setProperty(\"enable.update.log\", \"false\"); // schema12 doesn't support _version_\n//    initCore(\"solrconfig.xml\",\"schema12.xml\"); \n\n    // File testHome = createTempDir().toFile();\n    // FileUtils.copyDirectory(getFile(\"solrj/solr\"), testHome);\n    initCore(\"solrconfig.xml\", \"schema12.xml\", TEST_HOME(), \"collection1\");\n    final CoreContainer coreContainer = h.getCoreContainer();\n    final CoreDescriptor toCoreDescriptor = coreContainer.getCoreDescriptor(\"collection1\");\n    final CoreDescriptor fromCoreDescriptor = new CoreDescriptor(\"fromCore\", toCoreDescriptor) {\n      @Override\n      public String getSchemaName() {\n        return \"schema.xml\";\n      }\n    };\n\n    fromCore = coreContainer.create(fromCoreDescriptor);\n\n    assertU(add(doc(\"id\", \"1\", \"name\", \"john\", \"title\", \"Director\", \"dept_s\", \"Engineering\")));\n    assertU(add(doc(\"id\", \"2\", \"name\", \"mark\", \"title\", \"VP\", \"dept_s\", \"Marketing\")));\n    assertU(add(doc(\"id\", \"3\", \"name\", \"nancy\", \"title\", \"MTS\", \"dept_s\", \"Sales\")));\n    assertU(add(doc(\"id\", \"4\", \"name\", \"dave\", \"title\", \"MTS\", \"dept_s\", \"Support\", \"dept_s\", \"Engineering\")));\n    assertU(add(doc(\"id\", \"5\", \"name\", \"tina\", \"title\", \"VP\", \"dept_s\", \"Engineering\")));\n    assertU(commit());\n\n    update(fromCore, add(doc(\"id\", \"10\", \"dept_id_s\", \"Engineering\", \"text\", \"These guys develop stuff\", \"cat\", \"dev\")));\n    update(fromCore, add(doc(\"id\", \"11\", \"dept_id_s\", \"Marketing\", \"text\", \"These guys make you look good\")));\n    update(fromCore, add(doc(\"id\", \"12\", \"dept_id_s\", \"Sales\", \"text\", \"These guys sell stuff\")));\n    update(fromCore, add(doc(\"id\", \"13\", \"dept_id_s\", \"Support\", \"text\", \"These guys help customers\")));\n    update(fromCore, commit());\n\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"11d8a050b7d5f98040f790d32ec1cfd2fc3490e3","date":1448892165,"type":3,"author":"Alan Woodward","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/TestCrossCoreJoin#beforeTests().mjava","pathOld":"solr/core/src/test/org/apache/solr/TestCrossCoreJoin#beforeTests().mjava","sourceNew":"  @BeforeClass\n  public static void beforeTests() throws Exception {\n    System.setProperty(\"enable.update.log\", \"false\"); // schema12 doesn't support _version_\n//    initCore(\"solrconfig.xml\",\"schema12.xml\"); \n\n    // File testHome = createTempDir().toFile();\n    // FileUtils.copyDirectory(getFile(\"solrj/solr\"), testHome);\n    initCore(\"solrconfig.xml\", \"schema12.xml\", TEST_HOME(), \"collection1\");\n    final CoreContainer coreContainer = h.getCoreContainer();\n\n    fromCore = coreContainer.create(\"fromCore\", ImmutableMap.of(\"configSet\", \"minimal\"));\n\n    assertU(add(doc(\"id\", \"1\", \"name\", \"john\", \"title\", \"Director\", \"dept_s\", \"Engineering\")));\n    assertU(add(doc(\"id\", \"2\", \"name\", \"mark\", \"title\", \"VP\", \"dept_s\", \"Marketing\")));\n    assertU(add(doc(\"id\", \"3\", \"name\", \"nancy\", \"title\", \"MTS\", \"dept_s\", \"Sales\")));\n    assertU(add(doc(\"id\", \"4\", \"name\", \"dave\", \"title\", \"MTS\", \"dept_s\", \"Support\", \"dept_s\", \"Engineering\")));\n    assertU(add(doc(\"id\", \"5\", \"name\", \"tina\", \"title\", \"VP\", \"dept_s\", \"Engineering\")));\n    assertU(commit());\n\n    update(fromCore, add(doc(\"id\", \"10\", \"dept_id_s\", \"Engineering\", \"text\", \"These guys develop stuff\", \"cat\", \"dev\")));\n    update(fromCore, add(doc(\"id\", \"11\", \"dept_id_s\", \"Marketing\", \"text\", \"These guys make you look good\")));\n    update(fromCore, add(doc(\"id\", \"12\", \"dept_id_s\", \"Sales\", \"text\", \"These guys sell stuff\")));\n    update(fromCore, add(doc(\"id\", \"13\", \"dept_id_s\", \"Support\", \"text\", \"These guys help customers\")));\n    update(fromCore, commit());\n\n  }\n\n","sourceOld":"  @BeforeClass\n  public static void beforeTests() throws Exception {\n    System.setProperty(\"enable.update.log\", \"false\"); // schema12 doesn't support _version_\n//    initCore(\"solrconfig.xml\",\"schema12.xml\"); \n\n    // File testHome = createTempDir().toFile();\n    // FileUtils.copyDirectory(getFile(\"solrj/solr\"), testHome);\n    initCore(\"solrconfig.xml\", \"schema12.xml\", TEST_HOME(), \"collection1\");\n    final CoreContainer coreContainer = h.getCoreContainer();\n    final CoreDescriptor toCoreDescriptor = coreContainer.getCoreDescriptor(\"collection1\");\n    final CoreDescriptor fromCoreDescriptor = new CoreDescriptor(\"fromCore\", toCoreDescriptor) {\n      @Override\n      public String getSchemaName() {\n        return \"schema.xml\";\n      }\n    };\n\n    fromCore = coreContainer.create(fromCoreDescriptor);\n\n    assertU(add(doc(\"id\", \"1\", \"name\", \"john\", \"title\", \"Director\", \"dept_s\", \"Engineering\")));\n    assertU(add(doc(\"id\", \"2\", \"name\", \"mark\", \"title\", \"VP\", \"dept_s\", \"Marketing\")));\n    assertU(add(doc(\"id\", \"3\", \"name\", \"nancy\", \"title\", \"MTS\", \"dept_s\", \"Sales\")));\n    assertU(add(doc(\"id\", \"4\", \"name\", \"dave\", \"title\", \"MTS\", \"dept_s\", \"Support\", \"dept_s\", \"Engineering\")));\n    assertU(add(doc(\"id\", \"5\", \"name\", \"tina\", \"title\", \"VP\", \"dept_s\", \"Engineering\")));\n    assertU(commit());\n\n    update(fromCore, add(doc(\"id\", \"10\", \"dept_id_s\", \"Engineering\", \"text\", \"These guys develop stuff\", \"cat\", \"dev\")));\n    update(fromCore, add(doc(\"id\", \"11\", \"dept_id_s\", \"Marketing\", \"text\", \"These guys make you look good\")));\n    update(fromCore, add(doc(\"id\", \"12\", \"dept_id_s\", \"Sales\", \"text\", \"These guys sell stuff\")));\n    update(fromCore, add(doc(\"id\", \"13\", \"dept_id_s\", \"Support\", \"text\", \"These guys help customers\")));\n    update(fromCore, commit());\n\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"11d8a050b7d5f98040f790d32ec1cfd2fc3490e3":["6eecfe8d494cb2e3ead94e9cdb9381bfe4993dcd"],"6eecfe8d494cb2e3ead94e9cdb9381bfe4993dcd":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["11d8a050b7d5f98040f790d32ec1cfd2fc3490e3"]},"commit2Childs":{"11d8a050b7d5f98040f790d32ec1cfd2fc3490e3":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"6eecfe8d494cb2e3ead94e9cdb9381bfe4993dcd":["11d8a050b7d5f98040f790d32ec1cfd2fc3490e3"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["6eecfe8d494cb2e3ead94e9cdb9381bfe4993dcd"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}