{"path":"solr/core/src/java/org/apache/solr/handler/component/PivotFacetProcessor#getTaggedStatsFields(StatsInfo,String).mjava","commits":[{"id":"4c18a95e9168a30be855f5d5e7d61a863186fdc5","date":1415142581,"type":0,"author":"Chris M. Hostetter","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/handler/component/PivotFacetProcessor#getTaggedStatsFields(StatsInfo,String).mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * returns the {@link StatsField} instances that should be computed for a pivot\n   * based on the 'stats' local params used.\n   *\n   * @return A list of StatsFields to comput for this pivot, or the empty list if none\n   */\n  private static List<StatsField> getTaggedStatsFields(StatsInfo statsInfo, \n                                                       String statsLocalParam) {\n    if (null == statsLocalParam || null == statsInfo) {\n      return Collections.emptyList();\n    }\n    \n    List<StatsField> fields = new ArrayList<>(7);\n    List<String> statsAr = StrUtils.splitSmart(statsLocalParam, ',');\n\n    // TODO: for now, we only support a single tag name - we reserve using \n    // ',' as a possible delimeter for logic related to only computing stats\n    // at certain levels -- see SOLR-6663\n    if (1 < statsAr.size()) {\n      String msg = StatsParams.STATS + \" local param of \" + FacetParams.FACET_PIVOT + \n        \"may not include tags separated by a comma - please use a common tag on all \" + \n        StatsParams.STATS_FIELD + \" params you wish to compute under this pivot\";\n      throw new SolrException(ErrorCode.BAD_REQUEST, msg);\n    }\n\n    for(String stat : statsAr) {\n      fields.addAll(statsInfo.getStatsFieldsByTag(stat));\n    }\n    return fields;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"658218bdad5bc0415007e8e0cd9197fb3b0298af","date":1423726262,"type":3,"author":"Shalin Shekhar Mangar","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/handler/component/PivotFacetProcessor#getTaggedStatsFields(StatsInfo,String).mjava","pathOld":"solr/core/src/java/org/apache/solr/handler/component/PivotFacetProcessor#getTaggedStatsFields(StatsInfo,String).mjava","sourceNew":"  /**\n   * returns the {@link StatsField} instances that should be computed for a pivot\n   * based on the 'stats' local params used.\n   *\n   * @return A list of StatsFields to compute for this pivot, or the empty list if none\n   */\n  private static List<StatsField> getTaggedStatsFields(StatsInfo statsInfo, \n                                                       String statsLocalParam) {\n    if (null == statsLocalParam || null == statsInfo) {\n      return Collections.emptyList();\n    }\n    \n    List<StatsField> fields = new ArrayList<>(7);\n    List<String> statsAr = StrUtils.splitSmart(statsLocalParam, ',');\n\n    // TODO: for now, we only support a single tag name - we reserve using \n    // ',' as a possible delimiter for logic related to only computing stats\n    // at certain levels -- see SOLR-6663\n    if (1 < statsAr.size()) {\n      String msg = StatsParams.STATS + \" local param of \" + FacetParams.FACET_PIVOT + \n        \"may not include tags separated by a comma - please use a common tag on all \" + \n        StatsParams.STATS_FIELD + \" params you wish to compute under this pivot\";\n      throw new SolrException(ErrorCode.BAD_REQUEST, msg);\n    }\n\n    for(String stat : statsAr) {\n      fields.addAll(statsInfo.getStatsFieldsByTag(stat));\n    }\n    return fields;\n  }\n\n","sourceOld":"  /**\n   * returns the {@link StatsField} instances that should be computed for a pivot\n   * based on the 'stats' local params used.\n   *\n   * @return A list of StatsFields to comput for this pivot, or the empty list if none\n   */\n  private static List<StatsField> getTaggedStatsFields(StatsInfo statsInfo, \n                                                       String statsLocalParam) {\n    if (null == statsLocalParam || null == statsInfo) {\n      return Collections.emptyList();\n    }\n    \n    List<StatsField> fields = new ArrayList<>(7);\n    List<String> statsAr = StrUtils.splitSmart(statsLocalParam, ',');\n\n    // TODO: for now, we only support a single tag name - we reserve using \n    // ',' as a possible delimeter for logic related to only computing stats\n    // at certain levels -- see SOLR-6663\n    if (1 < statsAr.size()) {\n      String msg = StatsParams.STATS + \" local param of \" + FacetParams.FACET_PIVOT + \n        \"may not include tags separated by a comma - please use a common tag on all \" + \n        StatsParams.STATS_FIELD + \" params you wish to compute under this pivot\";\n      throw new SolrException(ErrorCode.BAD_REQUEST, msg);\n    }\n\n    for(String stat : statsAr) {\n      fields.addAll(statsInfo.getStatsFieldsByTag(stat));\n    }\n    return fields;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"ba33781da68babcaa5828121b443d3eb5c9d8480","date":1590595589,"type":3,"author":"Erick Erickson","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/handler/component/PivotFacetProcessor#getTaggedStatsFields(StatsInfo,String).mjava","pathOld":"solr/core/src/java/org/apache/solr/handler/component/PivotFacetProcessor#getTaggedStatsFields(StatsInfo,String).mjava","sourceNew":"  /**\n   * returns the {@link StatsField} instances that should be computed for a pivot\n   * based on the 'stats' local params used.\n   *\n   * @return A list of StatsFields to compute for this pivot, or the empty list if none\n   */\n  private static List<StatsField> getTaggedStatsFields(StatsInfo statsInfo,\n                                                       String statsLocalParam) {\n    if (null == statsLocalParam || null == statsInfo) {\n      return Collections.emptyList();\n    }\n    \n    List<StatsField> fields = new ArrayList<>(7);\n    List<String> statsAr = StrUtils.splitSmart(statsLocalParam, ',');\n\n    // TODO: for now, we only support a single tag name - we reserve using \n    // ',' as a possible delimiter for logic related to only computing stats\n    // at certain levels -- see SOLR-6663\n    if (1 < statsAr.size()) {\n      String msg = StatsParams.STATS + \" local param of \" + FacetParams.FACET_PIVOT + \n        \"may not include tags separated by a comma - please use a common tag on all \" + \n        StatsParams.STATS_FIELD + \" params you wish to compute under this pivot\";\n      throw new SolrException(ErrorCode.BAD_REQUEST, msg);\n    }\n\n    for(String stat : statsAr) {\n      fields.addAll(statsInfo.getStatsFieldsByTag(stat));\n    }\n    return fields;\n  }\n\n","sourceOld":"  /**\n   * returns the {@link StatsField} instances that should be computed for a pivot\n   * based on the 'stats' local params used.\n   *\n   * @return A list of StatsFields to compute for this pivot, or the empty list if none\n   */\n  private static List<StatsField> getTaggedStatsFields(StatsInfo statsInfo, \n                                                       String statsLocalParam) {\n    if (null == statsLocalParam || null == statsInfo) {\n      return Collections.emptyList();\n    }\n    \n    List<StatsField> fields = new ArrayList<>(7);\n    List<String> statsAr = StrUtils.splitSmart(statsLocalParam, ',');\n\n    // TODO: for now, we only support a single tag name - we reserve using \n    // ',' as a possible delimiter for logic related to only computing stats\n    // at certain levels -- see SOLR-6663\n    if (1 < statsAr.size()) {\n      String msg = StatsParams.STATS + \" local param of \" + FacetParams.FACET_PIVOT + \n        \"may not include tags separated by a comma - please use a common tag on all \" + \n        StatsParams.STATS_FIELD + \" params you wish to compute under this pivot\";\n      throw new SolrException(ErrorCode.BAD_REQUEST, msg);\n    }\n\n    for(String stat : statsAr) {\n      fields.addAll(statsInfo.getStatsFieldsByTag(stat));\n    }\n    return fields;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"4c18a95e9168a30be855f5d5e7d61a863186fdc5":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"ba33781da68babcaa5828121b443d3eb5c9d8480":["658218bdad5bc0415007e8e0cd9197fb3b0298af"],"658218bdad5bc0415007e8e0cd9197fb3b0298af":["4c18a95e9168a30be855f5d5e7d61a863186fdc5"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["ba33781da68babcaa5828121b443d3eb5c9d8480"]},"commit2Childs":{"4c18a95e9168a30be855f5d5e7d61a863186fdc5":["658218bdad5bc0415007e8e0cd9197fb3b0298af"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["4c18a95e9168a30be855f5d5e7d61a863186fdc5"],"ba33781da68babcaa5828121b443d3eb5c9d8480":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"658218bdad5bc0415007e8e0cd9197fb3b0298af":["ba33781da68babcaa5828121b443d3eb5c9d8480"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}