{"path":"lucene/analysis/common/src/java/org/apache/lucene/analysis/bn/BengaliNormalizer#normalize(char[],int).mjava","commits":[{"id":"62eea7860808033f1893fbbbe121e77735482870","date":1503576322,"type":0,"author":"Md. Abdulla-Al-Sun","isMerge":false,"pathNew":"lucene/analysis/common/src/java/org/apache/lucene/analysis/bn/BengaliNormalizer#normalize(char[],int).mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Normalize an input buffer of Bengali text\n   *\n   * @param s   input buffer\n   * @param len length of input buffer\n   * @return length of input buffer after normalization\n   */\n  public int normalize(char s[], int len) {\n\n    for (int i = 0; i < len; i++) {\n      switch (s[i]) {\n        // delete Chandrabindu\n        case '\\u0981':\n          len = delete(s, i, len);\n          i--;\n          break;\n\n        // DirghoI kar -> RosshoI kar\n        case '\\u09C0':\n          s[i] = '\\u09BF';\n          break;\n\n        // DirghoU kar -> RosshoU kar\n        case '\\u09C2':\n          s[i] = '\\u09C1';\n          break;\n\n        // Khio (Ka + Hoshonto + Murdorno Sh)\n        case '\\u0995':\n          if(i + 2 < len && s[i+1] == '\\u09CD' && s[i+2] == '\\u09BF') {\n            if (i == 0) {\n              s[i] = '\\u0996';\n              len = delete(s, i + 2, len);\n              len = delete(s, i + 1, len);\n            } else {\n              s[i+1] = '\\u0996';\n              len = delete(s, i + 2, len);\n            }\n          }\n          break;\n\n        // Nga to Anusvara\n        case '\\u0999':\n          s[i] = '\\u0982';\n          break;\n\n        // Ja Phala\n        case '\\u09AF':\n          if(i - 2 == 0 && s[i-1] == '\\u09CD') {\n            s[i - 1] = '\\u09C7';\n\n            if(s[i+1] == '\\u09BE') {\n              len = delete(s, i+1, len);\n            }\n            len = delete(s, i, len);\n            i --;\n          } else {\n            len = delete(s, i, len);\n            len = delete(s, i-1, len);\n            i -=2;\n          }\n          break;\n\n        // Ba Phalaa\n        case '\\u09AC':\n          if((i >= 1 && s[i-1] != '\\u09CD') || i == 0)\n            break;\n          if(i - 2 == 0) {\n            len = delete(s, i, len);\n            len = delete(s, i - 1, len);\n            i -= 2;\n          } else if(i - 5 >= 0 && s[i - 3] == '\\u09CD') {\n            len = delete(s, i, len);\n            len = delete(s, i-1, len);\n            i -=2;\n          } else {\n            s[i - 1] = s[i - 2];\n            len = delete(s, i, len);\n            i --;\n          }\n          break;\n\n        // Visarga\n        case '\\u0983':\n          if(i == len -1) {\n            if(len <= 3) {\n              s[i] = '\\u09B9';\n            } else {\n              len = delete(s, i, len);\n            }\n          } else {\n            s[i] = s[i+1];\n          }\n          break;\n\n        //All sh\n        case '\\u09B6':\n        case '\\u09B7':\n          s[i] = '\\u09B8';\n          break;\n\n        //check na\n        case '\\u09A3':\n          s[i] = '\\u09A8';\n          break;\n\n        //check ra\n        case '\\u09DC':\n        case '\\u09DD':\n          s[i] = '\\u09B0';\n          break;\n\n        case '\\u09CE':\n          s[i] = '\\u09A4';\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return len;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"e5f2416ecd5cf6db62c96a6fa4de347e7d7dad15","date":1504159913,"type":3,"author":"Md. Abdulla-Al-Sun","isMerge":false,"pathNew":"lucene/analysis/common/src/java/org/apache/lucene/analysis/bn/BengaliNormalizer#normalize(char[],int).mjava","pathOld":"lucene/analysis/common/src/java/org/apache/lucene/analysis/bn/BengaliNormalizer#normalize(char[],int).mjava","sourceNew":"  /**\n   * Normalize an input buffer of Bengali text\n   *\n   * @param s   input buffer\n   * @param len length of input buffer\n   * @return length of input buffer after normalization\n   */\n  public int normalize(char s[], int len) {\n\n    for (int i = 0; i < len; i++) {\n      switch (s[i]) {\n        // delete Chandrabindu\n        case '\\u0981':\n          len = delete(s, i, len);\n          i--;\n          break;\n\n        // DirghoI kar -> RosshoI kar\n        case '\\u09C0':\n          s[i] = '\\u09BF';\n          break;\n\n        // DirghoU kar -> RosshoU kar\n        case '\\u09C2':\n          s[i] = '\\u09C1';\n          break;\n\n        // Khio (Ka + Hoshonto + Murdorno Sh)\n        case '\\u0995':\n          if(i + 2 < len && s[i+1] == '\\u09CD' && s[i+2] == '\\u09BF') {\n            if (i == 0) {\n              s[i] = '\\u0996';\n              len = delete(s, i + 2, len);\n              len = delete(s, i + 1, len);\n            } else {\n              s[i+1] = '\\u0996';\n              len = delete(s, i + 2, len);\n            }\n          }\n          break;\n\n        // Nga to Anusvara\n        case '\\u0999':\n          s[i] = '\\u0982';\n          break;\n\n        // Ja Phala\n        case '\\u09AF':\n          if(i - 2 == 0 && s[i-1] == '\\u09CD') {\n            s[i - 1] = '\\u09C7';\n\n            if(i + 1 < len && s[i+1] == '\\u09BE') {\n              len = delete(s, i+1, len);\n            }\n            len = delete(s, i, len);\n            i --;\n          } else if(i - 1 >= 0 && s[i-1] == '\\u09CD' ){\n            len = delete(s, i, len);\n            len = delete(s, i-1, len);\n            i -=2;\n          }\n          break;\n\n        // Ba Phalaa\n        case '\\u09AC':\n          if((i >= 1 && s[i-1] != '\\u09CD') || i == 0)\n            break;\n          if(i - 2 == 0) {\n            len = delete(s, i, len);\n            len = delete(s, i - 1, len);\n            i -= 2;\n          } else if(i - 5 >= 0 && s[i - 3] == '\\u09CD') {\n            len = delete(s, i, len);\n            len = delete(s, i-1, len);\n            i -=2;\n          } else {\n            s[i - 1] = s[i - 2];\n            len = delete(s, i, len);\n            i --;\n          }\n          break;\n\n        // Visarga\n        case '\\u0983':\n          if(i == len -1) {\n            if(len <= 3) {\n              s[i] = '\\u09B9';\n            } else {\n              len = delete(s, i, len);\n            }\n          } else {\n            s[i] = s[i+1];\n          }\n          break;\n\n        //All sh\n        case '\\u09B6':\n        case '\\u09B7':\n          s[i] = '\\u09B8';\n          break;\n\n        //check na\n        case '\\u09A3':\n          s[i] = '\\u09A8';\n          break;\n\n        //check ra\n        case '\\u09DC':\n        case '\\u09DD':\n          s[i] = '\\u09B0';\n          break;\n\n        case '\\u09CE':\n          s[i] = '\\u09A4';\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return len;\n  }\n\n","sourceOld":"  /**\n   * Normalize an input buffer of Bengali text\n   *\n   * @param s   input buffer\n   * @param len length of input buffer\n   * @return length of input buffer after normalization\n   */\n  public int normalize(char s[], int len) {\n\n    for (int i = 0; i < len; i++) {\n      switch (s[i]) {\n        // delete Chandrabindu\n        case '\\u0981':\n          len = delete(s, i, len);\n          i--;\n          break;\n\n        // DirghoI kar -> RosshoI kar\n        case '\\u09C0':\n          s[i] = '\\u09BF';\n          break;\n\n        // DirghoU kar -> RosshoU kar\n        case '\\u09C2':\n          s[i] = '\\u09C1';\n          break;\n\n        // Khio (Ka + Hoshonto + Murdorno Sh)\n        case '\\u0995':\n          if(i + 2 < len && s[i+1] == '\\u09CD' && s[i+2] == '\\u09BF') {\n            if (i == 0) {\n              s[i] = '\\u0996';\n              len = delete(s, i + 2, len);\n              len = delete(s, i + 1, len);\n            } else {\n              s[i+1] = '\\u0996';\n              len = delete(s, i + 2, len);\n            }\n          }\n          break;\n\n        // Nga to Anusvara\n        case '\\u0999':\n          s[i] = '\\u0982';\n          break;\n\n        // Ja Phala\n        case '\\u09AF':\n          if(i - 2 == 0 && s[i-1] == '\\u09CD') {\n            s[i - 1] = '\\u09C7';\n\n            if(s[i+1] == '\\u09BE') {\n              len = delete(s, i+1, len);\n            }\n            len = delete(s, i, len);\n            i --;\n          } else {\n            len = delete(s, i, len);\n            len = delete(s, i-1, len);\n            i -=2;\n          }\n          break;\n\n        // Ba Phalaa\n        case '\\u09AC':\n          if((i >= 1 && s[i-1] != '\\u09CD') || i == 0)\n            break;\n          if(i - 2 == 0) {\n            len = delete(s, i, len);\n            len = delete(s, i - 1, len);\n            i -= 2;\n          } else if(i - 5 >= 0 && s[i - 3] == '\\u09CD') {\n            len = delete(s, i, len);\n            len = delete(s, i-1, len);\n            i -=2;\n          } else {\n            s[i - 1] = s[i - 2];\n            len = delete(s, i, len);\n            i --;\n          }\n          break;\n\n        // Visarga\n        case '\\u0983':\n          if(i == len -1) {\n            if(len <= 3) {\n              s[i] = '\\u09B9';\n            } else {\n              len = delete(s, i, len);\n            }\n          } else {\n            s[i] = s[i+1];\n          }\n          break;\n\n        //All sh\n        case '\\u09B6':\n        case '\\u09B7':\n          s[i] = '\\u09B8';\n          break;\n\n        //check na\n        case '\\u09A3':\n          s[i] = '\\u09A8';\n          break;\n\n        //check ra\n        case '\\u09DC':\n        case '\\u09DD':\n          s[i] = '\\u09B0';\n          break;\n\n        case '\\u09CE':\n          s[i] = '\\u09A4';\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return len;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"9546b6c883590b532752bd2617fb5b11597828da","date":1504381995,"type":3,"author":"Md. Abdulla-Al-Sun","isMerge":false,"pathNew":"lucene/analysis/common/src/java/org/apache/lucene/analysis/bn/BengaliNormalizer#normalize(char[],int).mjava","pathOld":"lucene/analysis/common/src/java/org/apache/lucene/analysis/bn/BengaliNormalizer#normalize(char[],int).mjava","sourceNew":"  /**\n   * Normalize an input buffer of Bengali text\n   *\n   * @param s   input buffer\n   * @param len length of input buffer\n   * @return length of input buffer after normalization\n   */\n  public int normalize(char s[], int len) {\n\n    for (int i = 0; i < len; i++) {\n      switch (s[i]) {\n        // delete Chandrabindu\n        case '\\u0981':\n          len = delete(s, i, len);\n          i--;\n          break;\n\n        // DirghoI kar -> RosshoI kar\n        case '\\u09C0':\n          s[i] = '\\u09BF';\n          break;\n\n        // DirghoU kar -> RosshoU kar\n        case '\\u09C2':\n          s[i] = '\\u09C1';\n          break;\n\n        // Khio (Ka + Hoshonto + Murdorno Sh)\n        case '\\u0995':\n          if(i + 2 < len && s[i+1] == '\\u09CD' && s[i+2] == '\\u09BF') {\n            if (i == 0) {\n              s[i] = '\\u0996';\n              len = delete(s, i + 2, len);\n              len = delete(s, i + 1, len);\n            } else {\n              s[i+1] = '\\u0996';\n              len = delete(s, i + 2, len);\n            }\n          }\n          break;\n\n        // Nga to Anusvara\n        case '\\u0999':\n          s[i] = '\\u0982';\n          break;\n\n        // Ja Phala\n        case '\\u09AF':\n          if(i - 2 == 0 && s[i-1] == '\\u09CD') {\n            s[i - 1] = '\\u09C7';\n\n            if(i + 1 < len && s[i+1] == '\\u09BE') {\n              len = delete(s, i+1, len);\n            }\n            len = delete(s, i, len);\n            i --;\n          } else if(i - 1 >= 0 && s[i-1] == '\\u09CD' ){\n            len = delete(s, i, len);\n            len = delete(s, i-1, len);\n            i -=2;\n          }\n          break;\n\n        // Ba Phalaa\n        case '\\u09AC':\n          if((i >= 1 && s[i-1] != '\\u09CD') || i == 0)\n            break;\n          if(i - 2 == 0) {\n            len = delete(s, i, len);\n            len = delete(s, i - 1, len);\n            i -= 2;\n          } else if(i - 5 >= 0 && s[i - 3] == '\\u09CD') {\n            len = delete(s, i, len);\n            len = delete(s, i-1, len);\n            i -=2;\n          } else if(i - 2 >= 0){\n            s[i - 1] = s[i - 2];\n            len = delete(s, i, len);\n            i --;\n          }\n          break;\n\n        // Visarga\n        case '\\u0983':\n          if(i == len -1) {\n            if(len <= 3) {\n              s[i] = '\\u09B9';\n            } else {\n              len = delete(s, i, len);\n            }\n          } else {\n            s[i] = s[i+1];\n          }\n          break;\n\n        //All sh\n        case '\\u09B6':\n        case '\\u09B7':\n          s[i] = '\\u09B8';\n          break;\n\n        //check na\n        case '\\u09A3':\n          s[i] = '\\u09A8';\n          break;\n\n        //check ra\n        case '\\u09DC':\n        case '\\u09DD':\n          s[i] = '\\u09B0';\n          break;\n\n        case '\\u09CE':\n          s[i] = '\\u09A4';\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return len;\n  }\n\n","sourceOld":"  /**\n   * Normalize an input buffer of Bengali text\n   *\n   * @param s   input buffer\n   * @param len length of input buffer\n   * @return length of input buffer after normalization\n   */\n  public int normalize(char s[], int len) {\n\n    for (int i = 0; i < len; i++) {\n      switch (s[i]) {\n        // delete Chandrabindu\n        case '\\u0981':\n          len = delete(s, i, len);\n          i--;\n          break;\n\n        // DirghoI kar -> RosshoI kar\n        case '\\u09C0':\n          s[i] = '\\u09BF';\n          break;\n\n        // DirghoU kar -> RosshoU kar\n        case '\\u09C2':\n          s[i] = '\\u09C1';\n          break;\n\n        // Khio (Ka + Hoshonto + Murdorno Sh)\n        case '\\u0995':\n          if(i + 2 < len && s[i+1] == '\\u09CD' && s[i+2] == '\\u09BF') {\n            if (i == 0) {\n              s[i] = '\\u0996';\n              len = delete(s, i + 2, len);\n              len = delete(s, i + 1, len);\n            } else {\n              s[i+1] = '\\u0996';\n              len = delete(s, i + 2, len);\n            }\n          }\n          break;\n\n        // Nga to Anusvara\n        case '\\u0999':\n          s[i] = '\\u0982';\n          break;\n\n        // Ja Phala\n        case '\\u09AF':\n          if(i - 2 == 0 && s[i-1] == '\\u09CD') {\n            s[i - 1] = '\\u09C7';\n\n            if(i + 1 < len && s[i+1] == '\\u09BE') {\n              len = delete(s, i+1, len);\n            }\n            len = delete(s, i, len);\n            i --;\n          } else if(i - 1 >= 0 && s[i-1] == '\\u09CD' ){\n            len = delete(s, i, len);\n            len = delete(s, i-1, len);\n            i -=2;\n          }\n          break;\n\n        // Ba Phalaa\n        case '\\u09AC':\n          if((i >= 1 && s[i-1] != '\\u09CD') || i == 0)\n            break;\n          if(i - 2 == 0) {\n            len = delete(s, i, len);\n            len = delete(s, i - 1, len);\n            i -= 2;\n          } else if(i - 5 >= 0 && s[i - 3] == '\\u09CD') {\n            len = delete(s, i, len);\n            len = delete(s, i-1, len);\n            i -=2;\n          } else {\n            s[i - 1] = s[i - 2];\n            len = delete(s, i, len);\n            i --;\n          }\n          break;\n\n        // Visarga\n        case '\\u0983':\n          if(i == len -1) {\n            if(len <= 3) {\n              s[i] = '\\u09B9';\n            } else {\n              len = delete(s, i, len);\n            }\n          } else {\n            s[i] = s[i+1];\n          }\n          break;\n\n        //All sh\n        case '\\u09B6':\n        case '\\u09B7':\n          s[i] = '\\u09B8';\n          break;\n\n        //check na\n        case '\\u09A3':\n          s[i] = '\\u09A8';\n          break;\n\n        //check ra\n        case '\\u09DC':\n        case '\\u09DD':\n          s[i] = '\\u09B0';\n          break;\n\n        case '\\u09CE':\n          s[i] = '\\u09A4';\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return len;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"f3268584f93f4a1a69c3a8732a46f665cd15f89b","date":1504651522,"type":0,"author":"Robert Muir","isMerge":true,"pathNew":"lucene/analysis/common/src/java/org/apache/lucene/analysis/bn/BengaliNormalizer#normalize(char[],int).mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Normalize an input buffer of Bengali text\n   *\n   * @param s   input buffer\n   * @param len length of input buffer\n   * @return length of input buffer after normalization\n   */\n  public int normalize(char s[], int len) {\n\n    for (int i = 0; i < len; i++) {\n      switch (s[i]) {\n        // delete Chandrabindu\n        case '\\u0981':\n          len = delete(s, i, len);\n          i--;\n          break;\n\n        // DirghoI kar -> RosshoI kar\n        case '\\u09C0':\n          s[i] = '\\u09BF';\n          break;\n\n        // DirghoU kar -> RosshoU kar\n        case '\\u09C2':\n          s[i] = '\\u09C1';\n          break;\n\n        // Khio (Ka + Hoshonto + Murdorno Sh)\n        case '\\u0995':\n          if(i + 2 < len && s[i+1] == '\\u09CD' && s[i+2] == '\\u09BF') {\n            if (i == 0) {\n              s[i] = '\\u0996';\n              len = delete(s, i + 2, len);\n              len = delete(s, i + 1, len);\n            } else {\n              s[i+1] = '\\u0996';\n              len = delete(s, i + 2, len);\n            }\n          }\n          break;\n\n        // Nga to Anusvara\n        case '\\u0999':\n          s[i] = '\\u0982';\n          break;\n\n        // Ja Phala\n        case '\\u09AF':\n          if(i - 2 == 0 && s[i-1] == '\\u09CD') {\n            s[i - 1] = '\\u09C7';\n\n            if(i + 1 < len && s[i+1] == '\\u09BE') {\n              len = delete(s, i+1, len);\n            }\n            len = delete(s, i, len);\n            i --;\n          } else if(i - 1 >= 0 && s[i-1] == '\\u09CD' ){\n            len = delete(s, i, len);\n            len = delete(s, i-1, len);\n            i -=2;\n          }\n          break;\n\n        // Ba Phalaa\n        case '\\u09AC':\n          if((i >= 1 && s[i-1] != '\\u09CD') || i == 0)\n            break;\n          if(i - 2 == 0) {\n            len = delete(s, i, len);\n            len = delete(s, i - 1, len);\n            i -= 2;\n          } else if(i - 5 >= 0 && s[i - 3] == '\\u09CD') {\n            len = delete(s, i, len);\n            len = delete(s, i-1, len);\n            i -=2;\n          } else if(i - 2 >= 0){\n            s[i - 1] = s[i - 2];\n            len = delete(s, i, len);\n            i --;\n          }\n          break;\n\n        // Visarga\n        case '\\u0983':\n          if(i == len -1) {\n            if(len <= 3) {\n              s[i] = '\\u09B9';\n            } else {\n              len = delete(s, i, len);\n            }\n          } else {\n            s[i] = s[i+1];\n          }\n          break;\n\n        //All sh\n        case '\\u09B6':\n        case '\\u09B7':\n          s[i] = '\\u09B8';\n          break;\n\n        //check na\n        case '\\u09A3':\n          s[i] = '\\u09A8';\n          break;\n\n        //check ra\n        case '\\u09DC':\n        case '\\u09DD':\n          s[i] = '\\u09B0';\n          break;\n\n        case '\\u09CE':\n          s[i] = '\\u09A4';\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return len;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"b21283ed01203901a7257aa4b7f0a0899c86e56e","date":1504689720,"type":0,"author":"Noble Paul","isMerge":true,"pathNew":"lucene/analysis/common/src/java/org/apache/lucene/analysis/bn/BengaliNormalizer#normalize(char[],int).mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Normalize an input buffer of Bengali text\n   *\n   * @param s   input buffer\n   * @param len length of input buffer\n   * @return length of input buffer after normalization\n   */\n  public int normalize(char s[], int len) {\n\n    for (int i = 0; i < len; i++) {\n      switch (s[i]) {\n        // delete Chandrabindu\n        case '\\u0981':\n          len = delete(s, i, len);\n          i--;\n          break;\n\n        // DirghoI kar -> RosshoI kar\n        case '\\u09C0':\n          s[i] = '\\u09BF';\n          break;\n\n        // DirghoU kar -> RosshoU kar\n        case '\\u09C2':\n          s[i] = '\\u09C1';\n          break;\n\n        // Khio (Ka + Hoshonto + Murdorno Sh)\n        case '\\u0995':\n          if(i + 2 < len && s[i+1] == '\\u09CD' && s[i+2] == '\\u09BF') {\n            if (i == 0) {\n              s[i] = '\\u0996';\n              len = delete(s, i + 2, len);\n              len = delete(s, i + 1, len);\n            } else {\n              s[i+1] = '\\u0996';\n              len = delete(s, i + 2, len);\n            }\n          }\n          break;\n\n        // Nga to Anusvara\n        case '\\u0999':\n          s[i] = '\\u0982';\n          break;\n\n        // Ja Phala\n        case '\\u09AF':\n          if(i - 2 == 0 && s[i-1] == '\\u09CD') {\n            s[i - 1] = '\\u09C7';\n\n            if(i + 1 < len && s[i+1] == '\\u09BE') {\n              len = delete(s, i+1, len);\n            }\n            len = delete(s, i, len);\n            i --;\n          } else if(i - 1 >= 0 && s[i-1] == '\\u09CD' ){\n            len = delete(s, i, len);\n            len = delete(s, i-1, len);\n            i -=2;\n          }\n          break;\n\n        // Ba Phalaa\n        case '\\u09AC':\n          if((i >= 1 && s[i-1] != '\\u09CD') || i == 0)\n            break;\n          if(i - 2 == 0) {\n            len = delete(s, i, len);\n            len = delete(s, i - 1, len);\n            i -= 2;\n          } else if(i - 5 >= 0 && s[i - 3] == '\\u09CD') {\n            len = delete(s, i, len);\n            len = delete(s, i-1, len);\n            i -=2;\n          } else if(i - 2 >= 0){\n            s[i - 1] = s[i - 2];\n            len = delete(s, i, len);\n            i --;\n          }\n          break;\n\n        // Visarga\n        case '\\u0983':\n          if(i == len -1) {\n            if(len <= 3) {\n              s[i] = '\\u09B9';\n            } else {\n              len = delete(s, i, len);\n            }\n          } else {\n            s[i] = s[i+1];\n          }\n          break;\n\n        //All sh\n        case '\\u09B6':\n        case '\\u09B7':\n          s[i] = '\\u09B8';\n          break;\n\n        //check na\n        case '\\u09A3':\n          s[i] = '\\u09A8';\n          break;\n\n        //check ra\n        case '\\u09DC':\n        case '\\u09DD':\n          s[i] = '\\u09B0';\n          break;\n\n        case '\\u09CE':\n          s[i] = '\\u09A4';\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return len;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"104a3f62ee393d48b5596de76ed4d9a4e0ea6de7","date":1504848000,"type":0,"author":"Karl Wright","isMerge":true,"pathNew":"lucene/analysis/common/src/java/org/apache/lucene/analysis/bn/BengaliNormalizer#normalize(char[],int).mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Normalize an input buffer of Bengali text\n   *\n   * @param s   input buffer\n   * @param len length of input buffer\n   * @return length of input buffer after normalization\n   */\n  public int normalize(char s[], int len) {\n\n    for (int i = 0; i < len; i++) {\n      switch (s[i]) {\n        // delete Chandrabindu\n        case '\\u0981':\n          len = delete(s, i, len);\n          i--;\n          break;\n\n        // DirghoI kar -> RosshoI kar\n        case '\\u09C0':\n          s[i] = '\\u09BF';\n          break;\n\n        // DirghoU kar -> RosshoU kar\n        case '\\u09C2':\n          s[i] = '\\u09C1';\n          break;\n\n        // Khio (Ka + Hoshonto + Murdorno Sh)\n        case '\\u0995':\n          if(i + 2 < len && s[i+1] == '\\u09CD' && s[i+2] == '\\u09BF') {\n            if (i == 0) {\n              s[i] = '\\u0996';\n              len = delete(s, i + 2, len);\n              len = delete(s, i + 1, len);\n            } else {\n              s[i+1] = '\\u0996';\n              len = delete(s, i + 2, len);\n            }\n          }\n          break;\n\n        // Nga to Anusvara\n        case '\\u0999':\n          s[i] = '\\u0982';\n          break;\n\n        // Ja Phala\n        case '\\u09AF':\n          if(i - 2 == 0 && s[i-1] == '\\u09CD') {\n            s[i - 1] = '\\u09C7';\n\n            if(i + 1 < len && s[i+1] == '\\u09BE') {\n              len = delete(s, i+1, len);\n            }\n            len = delete(s, i, len);\n            i --;\n          } else if(i - 1 >= 0 && s[i-1] == '\\u09CD' ){\n            len = delete(s, i, len);\n            len = delete(s, i-1, len);\n            i -=2;\n          }\n          break;\n\n        // Ba Phalaa\n        case '\\u09AC':\n          if((i >= 1 && s[i-1] != '\\u09CD') || i == 0)\n            break;\n          if(i - 2 == 0) {\n            len = delete(s, i, len);\n            len = delete(s, i - 1, len);\n            i -= 2;\n          } else if(i - 5 >= 0 && s[i - 3] == '\\u09CD') {\n            len = delete(s, i, len);\n            len = delete(s, i-1, len);\n            i -=2;\n          } else if(i - 2 >= 0){\n            s[i - 1] = s[i - 2];\n            len = delete(s, i, len);\n            i --;\n          }\n          break;\n\n        // Visarga\n        case '\\u0983':\n          if(i == len -1) {\n            if(len <= 3) {\n              s[i] = '\\u09B9';\n            } else {\n              len = delete(s, i, len);\n            }\n          } else {\n            s[i] = s[i+1];\n          }\n          break;\n\n        //All sh\n        case '\\u09B6':\n        case '\\u09B7':\n          s[i] = '\\u09B8';\n          break;\n\n        //check na\n        case '\\u09A3':\n          s[i] = '\\u09A8';\n          break;\n\n        //check ra\n        case '\\u09DC':\n        case '\\u09DD':\n          s[i] = '\\u09B0';\n          break;\n\n        case '\\u09CE':\n          s[i] = '\\u09A4';\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return len;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"685bd38810c206c93e9058f3c2cfa9827c086c27","date":1505751821,"type":0,"author":"Shalin Shekhar Mangar","isMerge":true,"pathNew":"lucene/analysis/common/src/java/org/apache/lucene/analysis/bn/BengaliNormalizer#normalize(char[],int).mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Normalize an input buffer of Bengali text\n   *\n   * @param s   input buffer\n   * @param len length of input buffer\n   * @return length of input buffer after normalization\n   */\n  public int normalize(char s[], int len) {\n\n    for (int i = 0; i < len; i++) {\n      switch (s[i]) {\n        // delete Chandrabindu\n        case '\\u0981':\n          len = delete(s, i, len);\n          i--;\n          break;\n\n        // DirghoI kar -> RosshoI kar\n        case '\\u09C0':\n          s[i] = '\\u09BF';\n          break;\n\n        // DirghoU kar -> RosshoU kar\n        case '\\u09C2':\n          s[i] = '\\u09C1';\n          break;\n\n        // Khio (Ka + Hoshonto + Murdorno Sh)\n        case '\\u0995':\n          if(i + 2 < len && s[i+1] == '\\u09CD' && s[i+2] == '\\u09BF') {\n            if (i == 0) {\n              s[i] = '\\u0996';\n              len = delete(s, i + 2, len);\n              len = delete(s, i + 1, len);\n            } else {\n              s[i+1] = '\\u0996';\n              len = delete(s, i + 2, len);\n            }\n          }\n          break;\n\n        // Nga to Anusvara\n        case '\\u0999':\n          s[i] = '\\u0982';\n          break;\n\n        // Ja Phala\n        case '\\u09AF':\n          if(i - 2 == 0 && s[i-1] == '\\u09CD') {\n            s[i - 1] = '\\u09C7';\n\n            if(i + 1 < len && s[i+1] == '\\u09BE') {\n              len = delete(s, i+1, len);\n            }\n            len = delete(s, i, len);\n            i --;\n          } else if(i - 1 >= 0 && s[i-1] == '\\u09CD' ){\n            len = delete(s, i, len);\n            len = delete(s, i-1, len);\n            i -=2;\n          }\n          break;\n\n        // Ba Phalaa\n        case '\\u09AC':\n          if((i >= 1 && s[i-1] != '\\u09CD') || i == 0)\n            break;\n          if(i - 2 == 0) {\n            len = delete(s, i, len);\n            len = delete(s, i - 1, len);\n            i -= 2;\n          } else if(i - 5 >= 0 && s[i - 3] == '\\u09CD') {\n            len = delete(s, i, len);\n            len = delete(s, i-1, len);\n            i -=2;\n          } else if(i - 2 >= 0){\n            s[i - 1] = s[i - 2];\n            len = delete(s, i, len);\n            i --;\n          }\n          break;\n\n        // Visarga\n        case '\\u0983':\n          if(i == len -1) {\n            if(len <= 3) {\n              s[i] = '\\u09B9';\n            } else {\n              len = delete(s, i, len);\n            }\n          } else {\n            s[i] = s[i+1];\n          }\n          break;\n\n        //All sh\n        case '\\u09B6':\n        case '\\u09B7':\n          s[i] = '\\u09B8';\n          break;\n\n        //check na\n        case '\\u09A3':\n          s[i] = '\\u09A8';\n          break;\n\n        //check ra\n        case '\\u09DC':\n        case '\\u09DD':\n          s[i] = '\\u09B0';\n          break;\n\n        case '\\u09CE':\n          s[i] = '\\u09A4';\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return len;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"9546b6c883590b532752bd2617fb5b11597828da":["e5f2416ecd5cf6db62c96a6fa4de347e7d7dad15"],"b21283ed01203901a7257aa4b7f0a0899c86e56e":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","f3268584f93f4a1a69c3a8732a46f665cd15f89b"],"685bd38810c206c93e9058f3c2cfa9827c086c27":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","104a3f62ee393d48b5596de76ed4d9a4e0ea6de7"],"104a3f62ee393d48b5596de76ed4d9a4e0ea6de7":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","b21283ed01203901a7257aa4b7f0a0899c86e56e"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"e5f2416ecd5cf6db62c96a6fa4de347e7d7dad15":["62eea7860808033f1893fbbbe121e77735482870"],"f3268584f93f4a1a69c3a8732a46f665cd15f89b":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","9546b6c883590b532752bd2617fb5b11597828da"],"62eea7860808033f1893fbbbe121e77735482870":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["104a3f62ee393d48b5596de76ed4d9a4e0ea6de7"]},"commit2Childs":{"9546b6c883590b532752bd2617fb5b11597828da":["f3268584f93f4a1a69c3a8732a46f665cd15f89b"],"b21283ed01203901a7257aa4b7f0a0899c86e56e":["104a3f62ee393d48b5596de76ed4d9a4e0ea6de7"],"685bd38810c206c93e9058f3c2cfa9827c086c27":[],"104a3f62ee393d48b5596de76ed4d9a4e0ea6de7":["685bd38810c206c93e9058f3c2cfa9827c086c27","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["b21283ed01203901a7257aa4b7f0a0899c86e56e","685bd38810c206c93e9058f3c2cfa9827c086c27","104a3f62ee393d48b5596de76ed4d9a4e0ea6de7","f3268584f93f4a1a69c3a8732a46f665cd15f89b","62eea7860808033f1893fbbbe121e77735482870"],"e5f2416ecd5cf6db62c96a6fa4de347e7d7dad15":["9546b6c883590b532752bd2617fb5b11597828da"],"f3268584f93f4a1a69c3a8732a46f665cd15f89b":["b21283ed01203901a7257aa4b7f0a0899c86e56e"],"62eea7860808033f1893fbbbe121e77735482870":["e5f2416ecd5cf6db62c96a6fa4de347e7d7dad15"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["685bd38810c206c93e9058f3c2cfa9827c086c27","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}