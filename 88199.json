{"path":"solr/core/src/java/org/apache/solr/core/SolrCore#getIndexPropertyFromPropFile(Directory).mjava","commits":[{"id":"96e0d4494fe54b31c7f0151f3a632124ab806351","date":1512410218,"type":0,"author":"Erick","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/core/SolrCore#getIndexPropertyFromPropFile(Directory).mjava","pathOld":"/dev/null","sourceNew":"  private String getIndexPropertyFromPropFile(Directory dir) throws IOException {\n    IndexInput input;\n    try {\n      input = dir.openInput(IndexFetcher.INDEX_PROPERTIES, IOContext.DEFAULT);\n    } catch (FileNotFoundException | NoSuchFileException e) {\n      // Swallow this error, dataDir/index is the right thing to return\n      // if there is no index.properties file\n      // All other exceptions are will propagate to caller.\n      return dataDir + \"index/\";\n    }\n    final InputStream is = new PropertiesInputStream(input); // c'tor just assigns a variable here, no exception thrown.\n    try {\n      Properties p = new Properties();\n      p.load(new InputStreamReader(is, StandardCharsets.UTF_8));\n\n      String s = p.getProperty(\"index\");\n      if (s != null && s.trim().length() > 0) {\n        return dataDir + s.trim();\n      }\n\n      // We'll return dataDir/index/ if the properties file has an \"index\" property with\n      // no associated value or does not have an index property at all.\n      return dataDir + \"index/\";\n    } finally {\n      IOUtils.closeQuietly(is);\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"96e0d4494fe54b31c7f0151f3a632124ab806351":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["96e0d4494fe54b31c7f0151f3a632124ab806351"]},"commit2Childs":{"96e0d4494fe54b31c7f0151f3a632124ab806351":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["96e0d4494fe54b31c7f0151f3a632124ab806351"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}