{"path":"solr/core/src/java/org/apache/solr/search/facet/RelatednessAgg.SweepSKGSlotAcc#getRelatedness(int).mjava","commits":[{"id":"2f9e4bd10604489b5817ee29e35ac96a3148cbec","date":1594345357,"type":0,"author":"Michael Gibney","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/search/facet/RelatednessAgg.SweepSKGSlotAcc#getRelatedness(int).mjava","pathOld":"/dev/null","sourceNew":"    private double getRelatedness(int slot) {\n      final double cachedRelatedness = relatedness[slot];\n      if (Double.isNaN(cachedRelatedness)) {\n        final long fg_count = fgCount.getCount(slot);\n        final long bg_count = bgCount.getCount(slot);\n        if (minCount > 0) {\n          // if min_pop is configured, and either (fg|bg) popularity is lower then that value\n          // then \"this.relatedness=-Infinity\" so it sorts below any \"valid\" relatedness scores\n          if (fg_count < minCount || bg_count < minCount) {\n            return relatedness[slot] = Double.NEGATIVE_INFINITY;\n          }\n        }\n        return relatedness[slot] = computeRelatedness(fg_count, fgSize, bg_count, bgSize);\n      } else {\n        return cachedRelatedness;\n      }\n    }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"2f9e4bd10604489b5817ee29e35ac96a3148cbec":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["2f9e4bd10604489b5817ee29e35ac96a3148cbec"]},"commit2Childs":{"2f9e4bd10604489b5817ee29e35ac96a3148cbec":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["2f9e4bd10604489b5817ee29e35ac96a3148cbec"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}