{"path":"lucene/test-framework/src/java/org/apache/lucene/util/LuceneTestCase#collate(Collator,String,String).mjava","commits":[{"id":"abc07c8978acf0345f72aa643295788b6816b481","date":1422539230,"type":0,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/test-framework/src/java/org/apache/lucene/util/LuceneTestCase#collate(Collator,String,String).mjava","pathOld":"/dev/null","sourceNew":"  /** \n   * Compares two strings with a collator, also looking to see if the the strings\n   * are impacted by jdk bugs. may not avoid all jdk bugs in tests.\n   * see LUCENE-2606\n   */\n  public static int collate(Collator collator, String s1, String s2) {\n    int v1 = collator.compare(s1, s2);\n    int v2 = collator.getCollationKey(s1).compareTo(collator.getCollationKey(s2));\n    // if collation keys don't really respect collation order, things are screwed.\n    assumeTrue(\"hit JDK collator bug\", v1 == v2);\n    return v1;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"6f25752da8717695ba372624216b61237615fd5b","date":1422545697,"type":3,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/test-framework/src/java/org/apache/lucene/util/LuceneTestCase#collate(Collator,String,String).mjava","pathOld":"lucene/test-framework/src/java/org/apache/lucene/util/LuceneTestCase#collate(Collator,String,String).mjava","sourceNew":"  /** \n   * Compares two strings with a collator, also looking to see if the the strings\n   * are impacted by jdk bugs. may not avoid all jdk bugs in tests.\n   * see https://bugs.openjdk.java.net/browse/JDK-8071862\n   */\n  public static int collate(Collator collator, String s1, String s2) {\n    int v1 = collator.compare(s1, s2);\n    int v2 = collator.getCollationKey(s1).compareTo(collator.getCollationKey(s2));\n    // if collation keys don't really respect collation order, things are screwed.\n    assumeTrue(\"hit JDK collator bug\", Integer.signum(v1) == Integer.signum(v2));\n    return v1;\n  }\n\n","sourceOld":"  /** \n   * Compares two strings with a collator, also looking to see if the the strings\n   * are impacted by jdk bugs. may not avoid all jdk bugs in tests.\n   * see LUCENE-2606\n   */\n  public static int collate(Collator collator, String s1, String s2) {\n    int v1 = collator.compare(s1, s2);\n    int v2 = collator.getCollationKey(s1).compareTo(collator.getCollationKey(s2));\n    // if collation keys don't really respect collation order, things are screwed.\n    assumeTrue(\"hit JDK collator bug\", v1 == v2);\n    return v1;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"85c050b7dc867682eea43e437b08d392802bdbe1","date":1441033815,"type":3,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/test-framework/src/java/org/apache/lucene/util/LuceneTestCase#collate(Collator,String,String).mjava","pathOld":"lucene/test-framework/src/java/org/apache/lucene/util/LuceneTestCase#collate(Collator,String,String).mjava","sourceNew":"  /** \n   * Compares two strings with a collator, also looking to see if the the strings\n   * are impacted by jdk bugs. may not avoid all jdk bugs in tests.\n   * see https://bugs.openjdk.java.net/browse/JDK-8071862\n   */\n  @SuppressForbidden(reason = \"dodges JDK-8071862\")\n  public static int collate(Collator collator, String s1, String s2) {\n    int v1 = collator.compare(s1, s2);\n    int v2 = collator.getCollationKey(s1).compareTo(collator.getCollationKey(s2));\n    // if collation keys don't really respect collation order, things are screwed.\n    assumeTrue(\"hit JDK collator bug\", Integer.signum(v1) == Integer.signum(v2));\n    return v1;\n  }\n\n","sourceOld":"  /** \n   * Compares two strings with a collator, also looking to see if the the strings\n   * are impacted by jdk bugs. may not avoid all jdk bugs in tests.\n   * see https://bugs.openjdk.java.net/browse/JDK-8071862\n   */\n  public static int collate(Collator collator, String s1, String s2) {\n    int v1 = collator.compare(s1, s2);\n    int v2 = collator.getCollationKey(s1).compareTo(collator.getCollationKey(s2));\n    // if collation keys don't really respect collation order, things are screwed.\n    assumeTrue(\"hit JDK collator bug\", Integer.signum(v1) == Integer.signum(v2));\n    return v1;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"85c050b7dc867682eea43e437b08d392802bdbe1":["6f25752da8717695ba372624216b61237615fd5b"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"abc07c8978acf0345f72aa643295788b6816b481":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"6f25752da8717695ba372624216b61237615fd5b":["abc07c8978acf0345f72aa643295788b6816b481"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["85c050b7dc867682eea43e437b08d392802bdbe1"]},"commit2Childs":{"85c050b7dc867682eea43e437b08d392802bdbe1":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["abc07c8978acf0345f72aa643295788b6816b481"],"abc07c8978acf0345f72aa643295788b6816b481":["6f25752da8717695ba372624216b61237615fd5b"],"6f25752da8717695ba372624216b61237615fd5b":["85c050b7dc867682eea43e437b08d392802bdbe1"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}