{"path":"src/webapp/src/org/apache/solr/servlet/LogLevelSelection#doPost(HttpServletRequest,HttpServletResponse).mjava","commits":[{"id":"ce877199e67ce181d609aede33e85656c0cf48ab","date":1217829826,"type":0,"author":"Shalin Shekhar Mangar","isMerge":false,"pathNew":"src/webapp/src/org/apache/solr/servlet/LogLevelSelection#doPost(HttpServletRequest,HttpServletResponse).mjava","pathOld":"/dev/null","sourceNew":"  public void doPost(HttpServletRequest request,\n                     HttpServletResponse response)\n          throws IOException, ServletException {\n    if (request.getParameter(\"submit\").equals(\"set\")) {\n\n      Map paramMap = request.getParameterMap();\n\n      Iterator iParams = paramMap.entrySet().iterator();\n      while (iParams.hasNext()) {\n        Map.Entry p = (Map.Entry) iParams.next();\n        String name = (String) p.getKey();\n        String value = ((String[]) p.getValue())[0];\n\n        if (name.equals(\"submit\")) continue;\n        Logger logger;\n        LogManager logManager = LogManager.getLogManager();\n        if (\"root\".equals(name)) {\n          logger = logManager.getLogger(\"\");\n        } else logger = logManager.getLogger(name);\n\n        if (\"unset\".equals(value)) {\n          if ((logger != null) && (logger.getLevel() != null)) {\n            logger.setLevel(null);\n            log.info(\"Unset log level on '\" + name + \"'.\");\n          }\n        } else {\n          Level level = Level.parse(value);\n          if (logger == null) logger = Logger.getLogger(name);\n          if (logger.getLevel() != level) {\n            logger.setLevel(level);\n            log.info(\"Set '\" + name + \"' to \" +\n                    level + \" level.\");\n          }\n        }\n      }\n    } else {\n      log.fine(\"Selection form cancelled\");\n    }\n\n    // Redirect back to standard get page.\n    response.sendRedirect(request.getRequestURI());\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"ad94625fb8d088209f46650c8097196fec67f00c","date":1453508319,"type":5,"author":"Dawid Weiss","isMerge":false,"pathNew":"solr/src/webapp/src/org/apache/solr/servlet/LogLevelSelection#doPost(HttpServletRequest,HttpServletResponse).mjava","pathOld":"src/webapp/src/org/apache/solr/servlet/LogLevelSelection#doPost(HttpServletRequest,HttpServletResponse).mjava","sourceNew":"  public void doPost(HttpServletRequest request,\n                     HttpServletResponse response)\n          throws IOException, ServletException {\n    if (request.getParameter(\"submit\").equals(\"set\")) {\n\n      Map paramMap = request.getParameterMap();\n\n      Iterator iParams = paramMap.entrySet().iterator();\n      while (iParams.hasNext()) {\n        Map.Entry p = (Map.Entry) iParams.next();\n        String name = (String) p.getKey();\n        String value = ((String[]) p.getValue())[0];\n\n        if (name.equals(\"submit\")) continue;\n        Logger logger;\n        LogManager logManager = LogManager.getLogManager();\n        if (\"root\".equals(name)) {\n          logger = logManager.getLogger(\"\");\n        } else logger = logManager.getLogger(name);\n\n        if (\"unset\".equals(value)) {\n          if ((logger != null) && (logger.getLevel() != null)) {\n            logger.setLevel(null);\n            log.info(\"Unset log level on '\" + name + \"'.\");\n          }\n        } else {\n          Level level = Level.parse(value);\n          if (logger == null) logger = Logger.getLogger(name);\n          if (logger.getLevel() != level) {\n            logger.setLevel(level);\n            log.info(\"Set '\" + name + \"' to \" +\n                    level + \" level.\");\n          }\n        }\n      }\n    } else {\n      log.fine(\"Selection form cancelled\");\n    }\n\n    // Redirect back to standard get page.\n    response.sendRedirect(request.getRequestURI());\n  }\n\n","sourceOld":"  public void doPost(HttpServletRequest request,\n                     HttpServletResponse response)\n          throws IOException, ServletException {\n    if (request.getParameter(\"submit\").equals(\"set\")) {\n\n      Map paramMap = request.getParameterMap();\n\n      Iterator iParams = paramMap.entrySet().iterator();\n      while (iParams.hasNext()) {\n        Map.Entry p = (Map.Entry) iParams.next();\n        String name = (String) p.getKey();\n        String value = ((String[]) p.getValue())[0];\n\n        if (name.equals(\"submit\")) continue;\n        Logger logger;\n        LogManager logManager = LogManager.getLogManager();\n        if (\"root\".equals(name)) {\n          logger = logManager.getLogger(\"\");\n        } else logger = logManager.getLogger(name);\n\n        if (\"unset\".equals(value)) {\n          if ((logger != null) && (logger.getLevel() != null)) {\n            logger.setLevel(null);\n            log.info(\"Unset log level on '\" + name + \"'.\");\n          }\n        } else {\n          Level level = Level.parse(value);\n          if (logger == null) logger = Logger.getLogger(name);\n          if (logger.getLevel() != level) {\n            logger.setLevel(level);\n            log.info(\"Set '\" + name + \"' to \" +\n                    level + \" level.\");\n          }\n        }\n      }\n    } else {\n      log.fine(\"Selection form cancelled\");\n    }\n\n    // Redirect back to standard get page.\n    response.sendRedirect(request.getRequestURI());\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"ce877199e67ce181d609aede33e85656c0cf48ab":["3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b":[],"ad94625fb8d088209f46650c8097196fec67f00c":["ce877199e67ce181d609aede33e85656c0cf48ab"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"ce877199e67ce181d609aede33e85656c0cf48ab":["ad94625fb8d088209f46650c8097196fec67f00c"],"3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b":["ce877199e67ce181d609aede33e85656c0cf48ab"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"ad94625fb8d088209f46650c8097196fec67f00c":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["ad94625fb8d088209f46650c8097196fec67f00c","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["3cdb369a6112bacd5f5fc1d4e022bed2f8bffb9b","a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}