{"path":"solr/solrj/src/test/org/apache/solr/client/solrj/SolrExampleTests#testSetNullUpdates().mjava","commits":[{"id":"af9db2154e1cadd14a83fdeaad215bb1aa1a0665","date":1356256868,"type":0,"author":"Shalin Shekhar Mangar","isMerge":false,"pathNew":"solr/solrj/src/test/org/apache/solr/client/solrj/SolrExampleTests#testSetNullUpdates().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testSetNullUpdates() throws Exception {\n    SolrServer solrServer = getSolrServer();\n    SolrInputDocument doc = new SolrInputDocument();\n    doc.addField(\"id\", \"testSetNullUpdates\");\n    doc.addField(\"single_s\", \"test-value\");\n    doc.addField(\"multi_ss\", Arrays.asList(\"first\", \"second\"));\n    solrServer.add(doc);\n    solrServer.commit(true, true);\n    doc.removeField(\"single_s\");\n    doc.removeField(\"multi_ss\");\n    Map<String, Object> map = Maps.newHashMap();\n    map.put(\"set\", null);\n    doc.addField(\"multi_ss\", map);\n    solrServer.add(doc);\n    solrServer.commit(true, true);\n    QueryResponse response = solrServer.query(new SolrQuery(\"id:testSetNullUpdates\"));\n    assertNotNull(\"Entire doc was replaced because null update was not written\", response.getResults().get(0).getFieldValue(\"single_s\"));\n    assertNull(\"Null update failed. Value still exists in document\", response.getResults().get(0).getFieldValue(\"multi_ss\"));\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"d3fcb70cf561547c7bb1506e0cf32ca7b1287064","date":1357616416,"type":0,"author":"Robert Muir","isMerge":true,"pathNew":"solr/solrj/src/test/org/apache/solr/client/solrj/SolrExampleTests#testSetNullUpdates().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testSetNullUpdates() throws Exception {\n    SolrServer solrServer = getSolrServer();\n    SolrInputDocument doc = new SolrInputDocument();\n    doc.addField(\"id\", \"testSetNullUpdates\");\n    doc.addField(\"single_s\", \"test-value\");\n    doc.addField(\"multi_ss\", Arrays.asList(\"first\", \"second\"));\n    solrServer.add(doc);\n    solrServer.commit(true, true);\n    doc.removeField(\"single_s\");\n    doc.removeField(\"multi_ss\");\n    Map<String, Object> map = Maps.newHashMap();\n    map.put(\"set\", null);\n    doc.addField(\"multi_ss\", map);\n    solrServer.add(doc);\n    solrServer.commit(true, true);\n    QueryResponse response = solrServer.query(new SolrQuery(\"id:testSetNullUpdates\"));\n    assertNotNull(\"Entire doc was replaced because null update was not written\", response.getResults().get(0).getFieldValue(\"single_s\"));\n    assertNull(\"Null update failed. Value still exists in document\", response.getResults().get(0).getFieldValue(\"multi_ss\"));\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"bafca15d8e408346a67f4282ad1143b88023893b","date":1420034748,"type":3,"author":"Alan Woodward","isMerge":false,"pathNew":"solr/solrj/src/test/org/apache/solr/client/solrj/SolrExampleTests#testSetNullUpdates().mjava","pathOld":"solr/solrj/src/test/org/apache/solr/client/solrj/SolrExampleTests#testSetNullUpdates().mjava","sourceNew":"  @Test\n  public void testSetNullUpdates() throws Exception {\n    SolrClient solrClient = getSolrClient();\n    SolrInputDocument doc = new SolrInputDocument();\n    doc.addField(\"id\", \"testSetNullUpdates\");\n    doc.addField(\"single_s\", \"test-value\");\n    doc.addField(\"multi_ss\", Arrays.asList(\"first\", \"second\"));\n    solrClient.add(doc);\n    solrClient.commit(true, true);\n    doc.removeField(\"single_s\");\n    doc.removeField(\"multi_ss\");\n    Map<String, Object> map = Maps.newHashMap();\n    map.put(\"set\", null);\n    doc.addField(\"multi_ss\", map);\n    solrClient.add(doc);\n    solrClient.commit(true, true);\n    QueryResponse response = solrClient.query(new SolrQuery(\"id:testSetNullUpdates\"));\n    assertNotNull(\"Entire doc was replaced because null update was not written\", response.getResults().get(0).getFieldValue(\"single_s\"));\n    assertNull(\"Null update failed. Value still exists in document\", response.getResults().get(0).getFieldValue(\"multi_ss\"));\n  }\n\n","sourceOld":"  @Test\n  public void testSetNullUpdates() throws Exception {\n    SolrServer solrServer = getSolrServer();\n    SolrInputDocument doc = new SolrInputDocument();\n    doc.addField(\"id\", \"testSetNullUpdates\");\n    doc.addField(\"single_s\", \"test-value\");\n    doc.addField(\"multi_ss\", Arrays.asList(\"first\", \"second\"));\n    solrServer.add(doc);\n    solrServer.commit(true, true);\n    doc.removeField(\"single_s\");\n    doc.removeField(\"multi_ss\");\n    Map<String, Object> map = Maps.newHashMap();\n    map.put(\"set\", null);\n    doc.addField(\"multi_ss\", map);\n    solrServer.add(doc);\n    solrServer.commit(true, true);\n    QueryResponse response = solrServer.query(new SolrQuery(\"id:testSetNullUpdates\"));\n    assertNotNull(\"Entire doc was replaced because null update was not written\", response.getResults().get(0).getFieldValue(\"single_s\"));\n    assertNull(\"Null update failed. Value still exists in document\", response.getResults().get(0).getFieldValue(\"multi_ss\"));\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"af9db2154e1cadd14a83fdeaad215bb1aa1a0665":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"d3fcb70cf561547c7bb1506e0cf32ca7b1287064":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","af9db2154e1cadd14a83fdeaad215bb1aa1a0665"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"bafca15d8e408346a67f4282ad1143b88023893b":["af9db2154e1cadd14a83fdeaad215bb1aa1a0665"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["bafca15d8e408346a67f4282ad1143b88023893b"]},"commit2Childs":{"af9db2154e1cadd14a83fdeaad215bb1aa1a0665":["d3fcb70cf561547c7bb1506e0cf32ca7b1287064","bafca15d8e408346a67f4282ad1143b88023893b"],"d3fcb70cf561547c7bb1506e0cf32ca7b1287064":[],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["af9db2154e1cadd14a83fdeaad215bb1aa1a0665","d3fcb70cf561547c7bb1506e0cf32ca7b1287064"],"bafca15d8e408346a67f4282ad1143b88023893b":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["d3fcb70cf561547c7bb1506e0cf32ca7b1287064","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}