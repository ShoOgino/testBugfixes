{"path":"solr/core/src/java/org/apache/solr/core/RequestParams#getMapCopy(Map[String,#]).mjava","commits":[{"id":"1c7207d1200ca5f52d4214da9c87a2cb93ce7564","date":1591903314,"type":0,"author":"Mike Drob","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/core/RequestParams#getMapCopy(Map[String,#]).mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * This converts Lists to arrays of strings. Because Solr expects\n   * params to be String[]\n   */\n  private static Map<String,String[]> getMapCopy(Map<String,?> value) {\n    Map<String, String[]> copy = new LinkedHashMap<>();\n    for (Map.Entry<String, ?> entry : value.entrySet()) {\n      if (\"\".equals(entry.getKey())) {\n        // Why is this a special case?\n        if (entry.getValue() instanceof String[]) {\n          copy.put(\"\", (String[]) entry.getValue());\n        } else {\n          throw new IllegalArgumentException();\n        }\n      } else if (entry.getValue() == null) {\n        copy.put(entry.getKey(), null);\n      } else if (entry.getValue() instanceof List) {\n        List<?> l = (List<?>) entry.getValue();\n        String[] sarr = new String[l.size()];\n        for (int i = 0; i < l.size(); i++) {\n          if (l.get(i) != null) sarr[i] = String.valueOf(l.get(i));\n        }\n        copy.put(entry.getKey(), sarr);\n      } else {\n        copy.put(entry.getKey(), new String[] { entry.getValue().toString() });\n      }\n    }\n    return copy;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"1c7207d1200ca5f52d4214da9c87a2cb93ce7564":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["1c7207d1200ca5f52d4214da9c87a2cb93ce7564"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["1c7207d1200ca5f52d4214da9c87a2cb93ce7564"],"1c7207d1200ca5f52d4214da9c87a2cb93ce7564":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}