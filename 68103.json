{"path":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#testSortMultiVal().mjava","commits":[{"id":"c11e1d33f2ba742976268153f6edd2d29710cf69","date":1347851822,"type":0,"author":"David Wayne Smiley","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#testSortMultiVal().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\", fieldName.equals(\"twodoubles\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));//1 point\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));//2 points, 2nd is pretty close to query point\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")//want ascending due to increasing distance\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"//dist to 3,5\n    );\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"6bc1e76fdb8a9952244528f098da956d2f52acec","date":1348348531,"type":3,"author":"David Wayne Smiley","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#testSortMultiVal().mjava","pathOld":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#testSortMultiVal().mjava","sourceNew":"  @Test\n  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\", fieldName.equals(\"pointvector\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));//1 point\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));//2 points, 2nd is pretty close to query point\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")//want ascending due to increasing distance\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"//dist to 3,5\n    );\n  }\n\n","sourceOld":"  @Test\n  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\", fieldName.equals(\"twodoubles\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));//1 point\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));//2 points, 2nd is pretty close to query point\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")//want ascending due to increasing distance\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"//dist to 3,5\n    );\n  }\n\n","bugFix":null,"bugIntro":["17727014530f6432ae28e319a0242b6030d3f18a"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"6bc65e9e84ac8f81b0861d2c7d8f56715adbf003","date":1390592414,"type":3,"author":"David Wayne Smiley","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#testSortMultiVal().mjava","pathOld":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#testSortMultiVal().mjava","sourceNew":"  @Test\n  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\", fieldName.equals(\"pointvector\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));//1 point\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));//2 points, 2nd is pretty close to query point\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")//want ascending due to increasing distance\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"//dist to 3,5\n    );\n  }\n\n","sourceOld":"  @Test\n  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\", fieldName.equals(\"pointvector\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));//1 point\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));//2 points, 2nd is pretty close to query point\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")//want ascending due to increasing distance\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"//dist to 3,5\n    );\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"17727014530f6432ae28e319a0242b6030d3f18a","date":1416941348,"type":3,"author":"David Wayne Smiley","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#testSortMultiVal().mjava","pathOld":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#testSortMultiVal().mjava","sourceNew":"  @Test\n  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\",\n        fieldName.equals(\"pointvector\") || fieldName.equals(\"bbox\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));//1 point\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));//2 points, 2nd is pretty close to query point\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")//want ascending due to increasing distance\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"//dist to 3,5\n    );\n  }\n\n","sourceOld":"  @Test\n  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\", fieldName.equals(\"pointvector\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));//1 point\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));//2 points, 2nd is pretty close to query point\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")//want ascending due to increasing distance\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"//dist to 3,5\n    );\n  }\n\n","bugFix":["6bc1e76fdb8a9952244528f098da956d2f52acec"],"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"7280772020b860cd9a473ed847c5b79251a850d7","date":1489283281,"type":3,"author":"David Smiley","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#testSortMultiVal().mjava","pathOld":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#testSortMultiVal().mjava","sourceNew":"  @Test\n  public void testSortMultiVal() throws Exception {\n    assumeTrue(\"dist sorting not supported on field \" + fieldName, canCalcDistance);\n    assumeFalse(\"Multivalue not supported for this field\",\n        fieldName.equals(\"pointvector\") || fieldName.equals(\"bbox\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));//1 point\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));//2 points, 2nd is pretty close to query point\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")//want ascending due to increasing distance\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"//dist to 3,5\n    );\n  }\n\n","sourceOld":"  @Test\n  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\",\n        fieldName.equals(\"pointvector\") || fieldName.equals(\"bbox\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));//1 point\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));//2 points, 2nd is pretty close to query point\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")//want ascending due to increasing distance\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"//dist to 3,5\n    );\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"c939830c5ef00597037daf5dde07e64e5df61e2a","date":1497546065,"type":3,"author":"Steve Rowe","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#testSortMultiVal().mjava","pathOld":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#testSortMultiVal().mjava","sourceNew":"  @Test\n  public void testSortMultiVal() throws Exception {\n    assumeTrue(\"dist sorting not supported on field \" + fieldName, canCalcDistance);\n    assumeFalse(\"Multivalue not supported for this field\",\n        fieldName.equals(\"pointvector\") || fieldName.equals(\"bbox\") || fieldName.equals(\"pbbox\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));//1 point\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));//2 points, 2nd is pretty close to query point\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")//want ascending due to increasing distance\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"//dist to 3,5\n    );\n  }\n\n","sourceOld":"  @Test\n  public void testSortMultiVal() throws Exception {\n    assumeTrue(\"dist sorting not supported on field \" + fieldName, canCalcDistance);\n    assumeFalse(\"Multivalue not supported for this field\",\n        fieldName.equals(\"pointvector\") || fieldName.equals(\"bbox\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));//1 point\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));//2 points, 2nd is pretty close to query point\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")//want ascending due to increasing distance\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"//dist to 3,5\n    );\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"ed602796f18796570ef57efb019278af50cbba92","date":1497547748,"type":3,"author":"Steve Rowe","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#testSortMultiVal().mjava","pathOld":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#testSortMultiVal().mjava","sourceNew":"  @Test\n  public void testSortMultiVal() throws Exception {\n    assumeTrue(\"dist sorting not supported on field \" + fieldName, canCalcDistance);\n    assumeFalse(\"Multivalue not supported for this field\",\n        fieldName.equals(\"pointvector\") || isBBoxField(fieldName));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));//1 point\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));//2 points, 2nd is pretty close to query point\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")//want ascending due to increasing distance\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"//dist to 3,5\n    );\n  }\n\n","sourceOld":"  @Test\n  public void testSortMultiVal() throws Exception {\n    assumeTrue(\"dist sorting not supported on field \" + fieldName, canCalcDistance);\n    assumeFalse(\"Multivalue not supported for this field\",\n        fieldName.equals(\"pointvector\") || fieldName.equals(\"bbox\") || fieldName.equals(\"pbbox\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));//1 point\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));//2 points, 2nd is pretty close to query point\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")//want ascending due to increasing distance\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"//dist to 3,5\n    );\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9","date":1498028748,"type":3,"author":"Shalin Shekhar Mangar","isMerge":true,"pathNew":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#testSortMultiVal().mjava","pathOld":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#testSortMultiVal().mjava","sourceNew":"  @Test\n  public void testSortMultiVal() throws Exception {\n    assumeTrue(\"dist sorting not supported on field \" + fieldName, canCalcDistance);\n    assumeFalse(\"Multivalue not supported for this field\",\n        fieldName.equals(\"pointvector\") || isBBoxField(fieldName));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));//1 point\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));//2 points, 2nd is pretty close to query point\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")//want ascending due to increasing distance\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"//dist to 3,5\n    );\n  }\n\n","sourceOld":"  @Test\n  public void testSortMultiVal() throws Exception {\n    assumeTrue(\"dist sorting not supported on field \" + fieldName, canCalcDistance);\n    assumeFalse(\"Multivalue not supported for this field\",\n        fieldName.equals(\"pointvector\") || fieldName.equals(\"bbox\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));//1 point\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));//2 points, 2nd is pretty close to query point\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")//want ascending due to increasing distance\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"//dist to 3,5\n    );\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"28288370235ed02234a64753cdbf0c6ec096304a","date":1498726817,"type":3,"author":"Karl Wright","isMerge":true,"pathNew":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#testSortMultiVal().mjava","pathOld":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial#testSortMultiVal().mjava","sourceNew":"  @Test\n  public void testSortMultiVal() throws Exception {\n    assumeTrue(\"dist sorting not supported on field \" + fieldName, canCalcDistance);\n    assumeFalse(\"Multivalue not supported for this field\",\n        fieldName.equals(\"pointvector\") || isBBoxField(fieldName));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));//1 point\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));//2 points, 2nd is pretty close to query point\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")//want ascending due to increasing distance\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"//dist to 3,5\n    );\n  }\n\n","sourceOld":"  @Test\n  public void testSortMultiVal() throws Exception {\n    assumeTrue(\"dist sorting not supported on field \" + fieldName, canCalcDistance);\n    assumeFalse(\"Multivalue not supported for this field\",\n        fieldName.equals(\"pointvector\") || fieldName.equals(\"bbox\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));//1 point\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));//2 points, 2nd is pretty close to query point\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")//want ascending due to increasing distance\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"//dist to 3,5\n    );\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"17727014530f6432ae28e319a0242b6030d3f18a":["6bc65e9e84ac8f81b0861d2c7d8f56715adbf003"],"6bc1e76fdb8a9952244528f098da956d2f52acec":["c11e1d33f2ba742976268153f6edd2d29710cf69"],"c11e1d33f2ba742976268153f6edd2d29710cf69":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"6bc65e9e84ac8f81b0861d2c7d8f56715adbf003":["6bc1e76fdb8a9952244528f098da956d2f52acec"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"7280772020b860cd9a473ed847c5b79251a850d7":["17727014530f6432ae28e319a0242b6030d3f18a"],"c939830c5ef00597037daf5dde07e64e5df61e2a":["7280772020b860cd9a473ed847c5b79251a850d7"],"28288370235ed02234a64753cdbf0c6ec096304a":["7280772020b860cd9a473ed847c5b79251a850d7","ed602796f18796570ef57efb019278af50cbba92"],"ed602796f18796570ef57efb019278af50cbba92":["c939830c5ef00597037daf5dde07e64e5df61e2a"],"2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9":["7280772020b860cd9a473ed847c5b79251a850d7","ed602796f18796570ef57efb019278af50cbba92"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["28288370235ed02234a64753cdbf0c6ec096304a"]},"commit2Childs":{"17727014530f6432ae28e319a0242b6030d3f18a":["7280772020b860cd9a473ed847c5b79251a850d7"],"6bc1e76fdb8a9952244528f098da956d2f52acec":["6bc65e9e84ac8f81b0861d2c7d8f56715adbf003"],"c11e1d33f2ba742976268153f6edd2d29710cf69":["6bc1e76fdb8a9952244528f098da956d2f52acec"],"6bc65e9e84ac8f81b0861d2c7d8f56715adbf003":["17727014530f6432ae28e319a0242b6030d3f18a"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["c11e1d33f2ba742976268153f6edd2d29710cf69"],"7280772020b860cd9a473ed847c5b79251a850d7":["c939830c5ef00597037daf5dde07e64e5df61e2a","28288370235ed02234a64753cdbf0c6ec096304a","2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9"],"c939830c5ef00597037daf5dde07e64e5df61e2a":["ed602796f18796570ef57efb019278af50cbba92"],"28288370235ed02234a64753cdbf0c6ec096304a":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"ed602796f18796570ef57efb019278af50cbba92":["28288370235ed02234a64753cdbf0c6ec096304a","2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9"],"2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["2a3ed3f77cdd034e789d00d1ca8bb7054c9fb8e9","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}