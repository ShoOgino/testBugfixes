{"path":"solr/core/src/test/org/apache/solr/handler/admin/MBeansHandlerTest#testAddedMBeanDiff().mjava","commits":[{"id":"b889bd7ef86fb42e16e0788cef9c9ed4201d222e","date":1501086062,"type":0,"author":"Steve Rowe","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/handler/admin/MBeansHandlerTest#testAddedMBeanDiff().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testAddedMBeanDiff() throws Exception {\n    String xml = h.query(req(\n        CommonParams.QT,\"/admin/mbeans\",\n        \"stats\",\"true\",\n        CommonParams.WT,\"xml\"\n    ));\n\n    // Artificially convert a long value to a null, to trigger the ADD case in SolrInfoMBeanHandler.diffObject()\n    xml = xml.replaceFirst(\"<long\\\\s+(name\\\\s*=\\\\s*\\\"ADMIN./admin/mbeans.totalTime\\\"\\\\s*)>[^<]*</long>\", \"<null $1/>\");\n\n    LocalSolrQueryRequest req = lrf.makeRequest(\n        CommonParams.QT,\"/admin/mbeans\",\n        \"stats\",\"true\",\n        CommonParams.WT,\"xml\",\n        \"diff\",\"true\");\n    req.setContentStreams(Collections.singletonList(new ContentStreamBase.StringStream(xml)));\n    xml = h.query(req);\n\n    NamedList<NamedList<NamedList<Object>>> nl = SolrInfoMBeanHandler.fromXML(xml);\n    assertNotNull(((NamedList)nl.get(\"ADMIN\").get(\"/admin/mbeans\").get(\"stats\")).get(\"ADD ADMIN./admin/mbeans.totalTime\"));\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"7a23cf16c8fa265dc0a564adcabb55e3f054e0ac","date":1502192746,"type":0,"author":"Shalin Shekhar Mangar","isMerge":true,"pathNew":"solr/core/src/test/org/apache/solr/handler/admin/MBeansHandlerTest#testAddedMBeanDiff().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testAddedMBeanDiff() throws Exception {\n    String xml = h.query(req(\n        CommonParams.QT,\"/admin/mbeans\",\n        \"stats\",\"true\",\n        CommonParams.WT,\"xml\"\n    ));\n\n    // Artificially convert a long value to a null, to trigger the ADD case in SolrInfoMBeanHandler.diffObject()\n    xml = xml.replaceFirst(\"<long\\\\s+(name\\\\s*=\\\\s*\\\"ADMIN./admin/mbeans.totalTime\\\"\\\\s*)>[^<]*</long>\", \"<null $1/>\");\n\n    LocalSolrQueryRequest req = lrf.makeRequest(\n        CommonParams.QT,\"/admin/mbeans\",\n        \"stats\",\"true\",\n        CommonParams.WT,\"xml\",\n        \"diff\",\"true\");\n    req.setContentStreams(Collections.singletonList(new ContentStreamBase.StringStream(xml)));\n    xml = h.query(req);\n\n    NamedList<NamedList<NamedList<Object>>> nl = SolrInfoMBeanHandler.fromXML(xml);\n    assertNotNull(((NamedList)nl.get(\"ADMIN\").get(\"/admin/mbeans\").get(\"stats\")).get(\"ADD ADMIN./admin/mbeans.totalTime\"));\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"7a23cf16c8fa265dc0a564adcabb55e3f054e0ac":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","b889bd7ef86fb42e16e0788cef9c9ed4201d222e"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"b889bd7ef86fb42e16e0788cef9c9ed4201d222e":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["b889bd7ef86fb42e16e0788cef9c9ed4201d222e"]},"commit2Childs":{"7a23cf16c8fa265dc0a564adcabb55e3f054e0ac":[],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["7a23cf16c8fa265dc0a564adcabb55e3f054e0ac","b889bd7ef86fb42e16e0788cef9c9ed4201d222e"],"b889bd7ef86fb42e16e0788cef9c9ed4201d222e":["7a23cf16c8fa265dc0a564adcabb55e3f054e0ac","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["7a23cf16c8fa265dc0a564adcabb55e3f054e0ac","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}