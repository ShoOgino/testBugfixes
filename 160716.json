{"path":"solr/solrj/src/test/org/apache/solr/client/solrj/impl/CloudHttp2SolrClientTest#testOverwriteOption().mjava","commits":[{"id":"0544142c22eb88b6d8b3817f2e1190156aa4f9af","date":1551692505,"type":0,"author":"Cao Manh Dat","isMerge":false,"pathNew":"solr/solrj/src/test/org/apache/solr/client/solrj/impl/CloudHttp2SolrClientTest#testOverwriteOption().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testOverwriteOption() throws Exception {\n\n    CollectionAdminRequest.createCollection(\"overwrite\", \"conf\", 1, 1)\n        .processAndWait(cluster.getSolrClient(), TIMEOUT);\n    cluster.waitForActiveCollection(\"overwrite\", 1, 1);\n    \n    new UpdateRequest()\n        .add(\"id\", \"0\", \"a_t\", \"hello1\")\n        .add(\"id\", \"0\", \"a_t\", \"hello2\")\n        .commit(cluster.getSolrClient(), \"overwrite\");\n\n    QueryResponse resp = cluster.getSolrClient().query(\"overwrite\", new SolrQuery(\"*:*\"));\n    assertEquals(\"There should be one document because overwrite=true\", 1, resp.getResults().getNumFound());\n\n    new UpdateRequest()\n        .add(new SolrInputDocument(id, \"1\", \"a_t\", \"hello1\"), /* overwrite = */ false)\n        .add(new SolrInputDocument(id, \"1\", \"a_t\", \"hello2\"), false)\n        .commit(cluster.getSolrClient(), \"overwrite\");\n      \n    resp = getRandomClient().query(\"overwrite\", new SolrQuery(\"*:*\"));\n    assertEquals(\"There should be 3 documents because there should be two id=1 docs due to overwrite=false\", 3, resp.getResults().getNumFound());\n\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"0544142c22eb88b6d8b3817f2e1190156aa4f9af":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["0544142c22eb88b6d8b3817f2e1190156aa4f9af"]},"commit2Childs":{"0544142c22eb88b6d8b3817f2e1190156aa4f9af":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["0544142c22eb88b6d8b3817f2e1190156aa4f9af"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}