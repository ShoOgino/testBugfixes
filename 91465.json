{"path":"solr/core/src/test/org/apache/solr/search/facet/TestJsonFacets#testRepeatedNumerics().mjava","commits":[{"id":"677081274af275e5542f60ea1611826c49f04213","date":1505842785,"type":0,"author":"yonik","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/facet/TestJsonFacets#testRepeatedNumerics().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testRepeatedNumerics() throws Exception {\n    Client client = Client.localClient();\n    String field = \"num_is\"; // docValues of multi-valued points field can contain duplicate values... make sure they don't mess up our counts.\n    client.add(sdoc(\"id\", \"1\", \"cat_s\", \"A\", \"where_s\", \"NY\", \"num_d\", \"4\", \"num_i\", \"2\", \"val_b\", \"true\", \"sparse_s\", \"one\", field,\"0\", field,\"0\"), null);\n    client.commit();\n\n    client.testJQ(params(\"q\", \"id:1\", \"field\", field\n        , \"json.facet\", \"{\" +\n            \"f1:{terms:${field}}\" +\n            \",f2:'hll(${field})'\" +\n            \",f3:{type:range, field:${field}, start:0, end:1, gap:1}\" +\n            \"}\"\n        )\n        , \"facets=={count:1, \" +\n            \"f1:{buckets:[{val:0, count:1}]}\" +\n            \",f2:1\" +\n            \",f3:{buckets:[{val:0, count:1}]}\" +\n            \"}\"\n    );\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"04af4a840c8f501ba34e09e382b8f8ace82aa51e","date":1505847466,"type":0,"author":"Shalin Shekhar Mangar","isMerge":true,"pathNew":"solr/core/src/test/org/apache/solr/search/facet/TestJsonFacets#testRepeatedNumerics().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testRepeatedNumerics() throws Exception {\n    Client client = Client.localClient();\n    String field = \"num_is\"; // docValues of multi-valued points field can contain duplicate values... make sure they don't mess up our counts.\n    client.add(sdoc(\"id\", \"1\", \"cat_s\", \"A\", \"where_s\", \"NY\", \"num_d\", \"4\", \"num_i\", \"2\", \"val_b\", \"true\", \"sparse_s\", \"one\", field,\"0\", field,\"0\"), null);\n    client.commit();\n\n    client.testJQ(params(\"q\", \"id:1\", \"field\", field\n        , \"json.facet\", \"{\" +\n            \"f1:{terms:${field}}\" +\n            \",f2:'hll(${field})'\" +\n            \",f3:{type:range, field:${field}, start:0, end:1, gap:1}\" +\n            \"}\"\n        )\n        , \"facets=={count:1, \" +\n            \"f1:{buckets:[{val:0, count:1}]}\" +\n            \",f2:1\" +\n            \",f3:{buckets:[{val:0, count:1}]}\" +\n            \"}\"\n    );\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"04af4a840c8f501ba34e09e382b8f8ace82aa51e":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","677081274af275e5542f60ea1611826c49f04213"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["677081274af275e5542f60ea1611826c49f04213"],"677081274af275e5542f60ea1611826c49f04213":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"04af4a840c8f501ba34e09e382b8f8ace82aa51e":[],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["04af4a840c8f501ba34e09e382b8f8ace82aa51e","677081274af275e5542f60ea1611826c49f04213"],"677081274af275e5542f60ea1611826c49f04213":["04af4a840c8f501ba34e09e382b8f8ace82aa51e","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["04af4a840c8f501ba34e09e382b8f8ace82aa51e","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}