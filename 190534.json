{"path":"solr/core/src/java/org/apache/solr/handler/admin/SolrInfoMBeanHandler#getDiff(NamedList[NamedList[NamedList[Object]]],NamedList[NamedList[NamedList[Object]]],boolean).mjava","commits":[{"id":"599afc501134261328b27d573cd0d4f36c4a20a2","date":1334799976,"type":1,"author":"Ryan McKinley","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/handler/admin/SolrInfoMBeanHandler#getDiff(NamedList[NamedList[NamedList[Object]]],NamedList[NamedList[NamedList[Object]]],boolean).mjava","pathOld":"solr/core/src/java/org/apache/solr/handler/admin/SolrInfoMBeanHandler#getDiff(NamedList[NamedList[NamedList[Object]]],NamedList[NamedList[NamedList[Object]]]).mjava","sourceNew":"  protected NamedList<NamedList<NamedList<Object>>> getDiff(\n      NamedList<NamedList<NamedList<Object>>> ref, \n      NamedList<NamedList<NamedList<Object>>> now,\n      boolean includeAll ) {\n    \n    NamedList<NamedList<NamedList<Object>>> changed = new NamedList<NamedList<NamedList<Object>>>();\n    \n    // Cycle through each category\n    for(int i=0;i<ref.size();i++) {\n      String category = ref.getName(i);\n      NamedList<NamedList<Object>> ref_cat = ref.get(category);\n      NamedList<NamedList<Object>> now_cat = now.get(category);\n      if(now_cat != null) {\n        String ref_txt = ref_cat+\"\";\n        String now_txt = now_cat+\"\";\n        if(!ref_txt.equals(now_txt)) {\n          // Something in the category changed\n          // Now iterate the real beans\n          \n          NamedList<NamedList<Object>> cat = new SimpleOrderedMap<NamedList<Object>>();\n          for(int j=0;j<ref_cat.size();j++) {\n            String name = ref_cat.getName(j);\n            NamedList<Object> ref_bean = ref_cat.get(name);\n            NamedList<Object> now_bean = now_cat.get(name);\n\n            ref_txt = ref_bean+\"\";\n            now_txt = now_bean+\"\";\n            if(!ref_txt.equals(now_txt)) {\n//              System.out.println( \"----\" );\n//              System.out.println( category +\" : \" + name );\n//              System.out.println( \"REF: \" + ref_txt );\n//              System.out.println( \"NOW: \" + now_txt );\n              \n              // Calculate the differences\n              NamedList diff = diffNamedList(ref_bean,now_bean);\n              diff.add( \"_changed_\", true ); // flag the changed thing\n              cat.add(name, diff);\n            }\n            else if(includeAll) {\n              cat.add(name, ref_bean);\n            }\n          }\n          if(cat.size()>0) {\n            changed.add(category, cat);\n          }\n        }\n        else if(includeAll) {\n          changed.add(category, ref_cat);\n        }\n      }\n    }\n    return changed;\n  }\n\n","sourceOld":"  protected NamedList<NamedList<NamedList<Object>>> getDiff(NamedList<NamedList<NamedList<Object>>> ref, NamedList<NamedList<NamedList<Object>>> now) {\n    NamedList<NamedList<NamedList<Object>>> changed = new NamedList<NamedList<NamedList<Object>>>();\n    \n    // Cycle through each category\n    for(int i=0;i<ref.size();i++) {\n      String category = ref.getName(i);\n      NamedList<NamedList<Object>> ref_cat = ref.get(category);\n      NamedList<NamedList<Object>> now_cat = now.get(category);\n      if(now_cat != null) {\n        String ref_txt = ref_cat+\"\";\n        String now_txt = now_cat+\"\";\n        if(!ref_txt.equals(now_txt)) {\n          // Something in the category changed\n          // Now iterate the real beans\n          \n          NamedList<NamedList<Object>> cat = new SimpleOrderedMap<NamedList<Object>>();\n          for(int j=0;j<ref_cat.size();j++) {\n            String name = ref_cat.getName(j);\n            NamedList<Object> ref_bean = ref_cat.get(name);\n            NamedList<Object> now_bean = now_cat.get(name);\n\n            ref_txt = ref_bean+\"\";\n            now_txt = now_bean+\"\";\n            if(!ref_txt.equals(now_txt)) {\n//              System.out.println( \"----\" );\n//              System.out.println( category +\" : \" + name );\n//              System.out.println( \"REF: \" + ref_txt );\n//              System.out.println( \"NOW: \" + now_txt );\n              \n              // Calculate the differences\n              cat.add(name, diffNamedList(ref_bean,now_bean));\n            }\n          }\n          if(cat.size()>0) {\n            changed.add(category, cat);\n          }\n        }\n      }\n    }\n    return changed;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"634f330c54fd3f9f491d52036dc3f40b4f4d8934","date":1394635157,"type":3,"author":"Robert Muir","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/handler/admin/SolrInfoMBeanHandler#getDiff(NamedList[NamedList[NamedList[Object]]],NamedList[NamedList[NamedList[Object]]],boolean).mjava","pathOld":"solr/core/src/java/org/apache/solr/handler/admin/SolrInfoMBeanHandler#getDiff(NamedList[NamedList[NamedList[Object]]],NamedList[NamedList[NamedList[Object]]],boolean).mjava","sourceNew":"  protected NamedList<NamedList<NamedList<Object>>> getDiff(\n      NamedList<NamedList<NamedList<Object>>> ref, \n      NamedList<NamedList<NamedList<Object>>> now,\n      boolean includeAll ) {\n    \n    NamedList<NamedList<NamedList<Object>>> changed = new NamedList<>();\n    \n    // Cycle through each category\n    for(int i=0;i<ref.size();i++) {\n      String category = ref.getName(i);\n      NamedList<NamedList<Object>> ref_cat = ref.get(category);\n      NamedList<NamedList<Object>> now_cat = now.get(category);\n      if(now_cat != null) {\n        String ref_txt = ref_cat+\"\";\n        String now_txt = now_cat+\"\";\n        if(!ref_txt.equals(now_txt)) {\n          // Something in the category changed\n          // Now iterate the real beans\n          \n          NamedList<NamedList<Object>> cat = new SimpleOrderedMap<>();\n          for(int j=0;j<ref_cat.size();j++) {\n            String name = ref_cat.getName(j);\n            NamedList<Object> ref_bean = ref_cat.get(name);\n            NamedList<Object> now_bean = now_cat.get(name);\n\n            ref_txt = ref_bean+\"\";\n            now_txt = now_bean+\"\";\n            if(!ref_txt.equals(now_txt)) {\n//              System.out.println( \"----\" );\n//              System.out.println( category +\" : \" + name );\n//              System.out.println( \"REF: \" + ref_txt );\n//              System.out.println( \"NOW: \" + now_txt );\n              \n              // Calculate the differences\n              NamedList diff = diffNamedList(ref_bean,now_bean);\n              diff.add( \"_changed_\", true ); // flag the changed thing\n              cat.add(name, diff);\n            }\n            else if(includeAll) {\n              cat.add(name, ref_bean);\n            }\n          }\n          if(cat.size()>0) {\n            changed.add(category, cat);\n          }\n        }\n        else if(includeAll) {\n          changed.add(category, ref_cat);\n        }\n      }\n    }\n    return changed;\n  }\n\n","sourceOld":"  protected NamedList<NamedList<NamedList<Object>>> getDiff(\n      NamedList<NamedList<NamedList<Object>>> ref, \n      NamedList<NamedList<NamedList<Object>>> now,\n      boolean includeAll ) {\n    \n    NamedList<NamedList<NamedList<Object>>> changed = new NamedList<NamedList<NamedList<Object>>>();\n    \n    // Cycle through each category\n    for(int i=0;i<ref.size();i++) {\n      String category = ref.getName(i);\n      NamedList<NamedList<Object>> ref_cat = ref.get(category);\n      NamedList<NamedList<Object>> now_cat = now.get(category);\n      if(now_cat != null) {\n        String ref_txt = ref_cat+\"\";\n        String now_txt = now_cat+\"\";\n        if(!ref_txt.equals(now_txt)) {\n          // Something in the category changed\n          // Now iterate the real beans\n          \n          NamedList<NamedList<Object>> cat = new SimpleOrderedMap<NamedList<Object>>();\n          for(int j=0;j<ref_cat.size();j++) {\n            String name = ref_cat.getName(j);\n            NamedList<Object> ref_bean = ref_cat.get(name);\n            NamedList<Object> now_bean = now_cat.get(name);\n\n            ref_txt = ref_bean+\"\";\n            now_txt = now_bean+\"\";\n            if(!ref_txt.equals(now_txt)) {\n//              System.out.println( \"----\" );\n//              System.out.println( category +\" : \" + name );\n//              System.out.println( \"REF: \" + ref_txt );\n//              System.out.println( \"NOW: \" + now_txt );\n              \n              // Calculate the differences\n              NamedList diff = diffNamedList(ref_bean,now_bean);\n              diff.add( \"_changed_\", true ); // flag the changed thing\n              cat.add(name, diff);\n            }\n            else if(includeAll) {\n              cat.add(name, ref_bean);\n            }\n          }\n          if(cat.size()>0) {\n            changed.add(category, cat);\n          }\n        }\n        else if(includeAll) {\n          changed.add(category, ref_cat);\n        }\n      }\n    }\n    return changed;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"ba055e19afc289adcb5bedaf68513793a7254012","date":1591268575,"type":3,"author":"Erick Erickson","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/handler/admin/SolrInfoMBeanHandler#getDiff(NamedList[NamedList[NamedList[Object]]],NamedList[NamedList[NamedList[Object]]],boolean).mjava","pathOld":"solr/core/src/java/org/apache/solr/handler/admin/SolrInfoMBeanHandler#getDiff(NamedList[NamedList[NamedList[Object]]],NamedList[NamedList[NamedList[Object]]],boolean).mjava","sourceNew":"  protected NamedList<NamedList<NamedList<Object>>> getDiff(\n      NamedList<NamedList<NamedList<Object>>> ref, \n      NamedList<NamedList<NamedList<Object>>> now,\n      boolean includeAll ) {\n    \n    NamedList<NamedList<NamedList<Object>>> changed = new NamedList<>();\n    \n    // Cycle through each category\n    for(int i=0;i<ref.size();i++) {\n      String category = ref.getName(i);\n      NamedList<NamedList<Object>> ref_cat = ref.get(category);\n      NamedList<NamedList<Object>> now_cat = now.get(category);\n      if(now_cat != null) {\n        String ref_txt = ref_cat+\"\";\n        String now_txt = now_cat+\"\";\n        if(!ref_txt.equals(now_txt)) {\n          // Something in the category changed\n          // Now iterate the real beans\n          \n          NamedList<NamedList<Object>> cat = new SimpleOrderedMap<>();\n          for(int j=0;j<ref_cat.size();j++) {\n            String name = ref_cat.getName(j);\n            NamedList<Object> ref_bean = ref_cat.get(name);\n            NamedList<Object> now_bean = now_cat.get(name);\n\n            ref_txt = ref_bean+\"\";\n            now_txt = now_bean+\"\";\n            if(!ref_txt.equals(now_txt)) {\n//              System.out.println( \"----\" );\n//              System.out.println( category +\" : \" + name );\n//              System.out.println( \"REF: \" + ref_txt );\n//              System.out.println( \"NOW: \" + now_txt );\n              \n              // Calculate the differences\n              @SuppressWarnings({\"rawtypes\"})\n              NamedList diff = diffNamedList(ref_bean,now_bean);\n              diff.add( \"_changed_\", true ); // flag the changed thing\n              cat.add(name, diff);\n            }\n            else if(includeAll) {\n              cat.add(name, ref_bean);\n            }\n          }\n          if(cat.size()>0) {\n            changed.add(category, cat);\n          }\n        }\n        else if(includeAll) {\n          changed.add(category, ref_cat);\n        }\n      }\n    }\n    return changed;\n  }\n\n","sourceOld":"  protected NamedList<NamedList<NamedList<Object>>> getDiff(\n      NamedList<NamedList<NamedList<Object>>> ref, \n      NamedList<NamedList<NamedList<Object>>> now,\n      boolean includeAll ) {\n    \n    NamedList<NamedList<NamedList<Object>>> changed = new NamedList<>();\n    \n    // Cycle through each category\n    for(int i=0;i<ref.size();i++) {\n      String category = ref.getName(i);\n      NamedList<NamedList<Object>> ref_cat = ref.get(category);\n      NamedList<NamedList<Object>> now_cat = now.get(category);\n      if(now_cat != null) {\n        String ref_txt = ref_cat+\"\";\n        String now_txt = now_cat+\"\";\n        if(!ref_txt.equals(now_txt)) {\n          // Something in the category changed\n          // Now iterate the real beans\n          \n          NamedList<NamedList<Object>> cat = new SimpleOrderedMap<>();\n          for(int j=0;j<ref_cat.size();j++) {\n            String name = ref_cat.getName(j);\n            NamedList<Object> ref_bean = ref_cat.get(name);\n            NamedList<Object> now_bean = now_cat.get(name);\n\n            ref_txt = ref_bean+\"\";\n            now_txt = now_bean+\"\";\n            if(!ref_txt.equals(now_txt)) {\n//              System.out.println( \"----\" );\n//              System.out.println( category +\" : \" + name );\n//              System.out.println( \"REF: \" + ref_txt );\n//              System.out.println( \"NOW: \" + now_txt );\n              \n              // Calculate the differences\n              NamedList diff = diffNamedList(ref_bean,now_bean);\n              diff.add( \"_changed_\", true ); // flag the changed thing\n              cat.add(name, diff);\n            }\n            else if(includeAll) {\n              cat.add(name, ref_bean);\n            }\n          }\n          if(cat.size()>0) {\n            changed.add(category, cat);\n          }\n        }\n        else if(includeAll) {\n          changed.add(category, ref_cat);\n        }\n      }\n    }\n    return changed;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"634f330c54fd3f9f491d52036dc3f40b4f4d8934":["599afc501134261328b27d573cd0d4f36c4a20a2"],"ba055e19afc289adcb5bedaf68513793a7254012":["634f330c54fd3f9f491d52036dc3f40b4f4d8934"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"599afc501134261328b27d573cd0d4f36c4a20a2":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["ba055e19afc289adcb5bedaf68513793a7254012"]},"commit2Childs":{"634f330c54fd3f9f491d52036dc3f40b4f4d8934":["ba055e19afc289adcb5bedaf68513793a7254012"],"ba055e19afc289adcb5bedaf68513793a7254012":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["599afc501134261328b27d573cd0d4f36c4a20a2"],"599afc501134261328b27d573cd0d4f36c4a20a2":["634f330c54fd3f9f491d52036dc3f40b4f4d8934"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}