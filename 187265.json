{"path":"lucene/src/test/org/apache/lucene/search/spans/TestSpansAdvanced#assertHits(Searcher,Query,String,String[],float[]).mjava","commits":[{"id":"9454a6510e2db155fb01faa5c049b06ece95fab9","date":1453508333,"type":1,"author":"Dawid Weiss","isMerge":false,"pathNew":"lucene/src/test/org/apache/lucene/search/spans/TestSpansAdvanced#assertHits(Searcher,Query,String,String[],float[]).mjava","pathOld":"src/test/org/apache/lucene/search/spans/TestSpansAdvanced#assertHits(Searcher,Query,String,String[],float[]).mjava","sourceNew":"    /**\n     * Checks to see if the hits are what we expected.\n     *\n     * @param query the query to execute\n     * @param description the description of the search\n     * @param expectedIds the expected document ids of the hits\n     * @param expectedScores the expected scores of the hits\n     *\n     * @throws IOException\n     */\n    protected static void assertHits(Searcher s, Query query, final String description, final String[] expectedIds,\n            final float[] expectedScores) throws IOException {\n        QueryUtils.check(query,s);\n\n        final float tolerance = 1e-5f;\n\n        // Hits hits = searcher.search(query);\n        // hits normalizes and throws things off if one score is greater than 1.0\n        TopDocs topdocs = s.search(query,null,10000);\n\n        /*****\n        // display the hits\n        System.out.println(hits.length() + \" hits for search: \\\"\" + description + '\\\"');\n        for (int i = 0; i < hits.length(); i++) {\n            System.out.println(\"  \" + FIELD_ID + ':' + hits.doc(i).get(FIELD_ID) + \" (score:\" + hits.score(i) + ')');\n        }\n        *****/\n\n        // did we get the hits we expected\n        assertEquals(expectedIds.length, topdocs.totalHits);\n        for (int i = 0; i < topdocs.totalHits; i++) {\n            //System.out.println(i + \" exp: \" + expectedIds[i]);\n            //System.out.println(i + \" field: \" + hits.doc(i).get(FIELD_ID));\n\n            int id = topdocs.scoreDocs[i].doc;\n            float score = topdocs.scoreDocs[i].score;\n            Document doc = s.doc(id);\n            assertEquals(expectedIds[i], doc.get(FIELD_ID));\n            boolean scoreEq = Math.abs(expectedScores[i] - score) < tolerance;\n            if (!scoreEq) {\n              System.out.println(i + \" warning, expected score: \" + expectedScores[i] + \", actual \" + score);\n              System.out.println(s.explain(query,id));\n            }\n            assertEquals(expectedScores[i], score, tolerance);\n            assertEquals(s.explain(query,id).getValue(), score, tolerance);\n        }\n    }\n\n","sourceOld":"    /**\n     * Checks to see if the hits are what we expected.\n     *\n     * @param query the query to execute\n     * @param description the description of the search\n     * @param expectedIds the expected document ids of the hits\n     * @param expectedScores the expected scores of the hits\n     *\n     * @throws IOException\n     */\n    protected static void assertHits(Searcher s, Query query, final String description, final String[] expectedIds,\n            final float[] expectedScores) throws IOException {\n        QueryUtils.check(query,s);\n\n        final float tolerance = 1e-5f;\n\n        // Hits hits = searcher.search(query);\n        // hits normalizes and throws things off if one score is greater than 1.0\n        TopDocs topdocs = s.search(query,null,10000);\n\n        /*****\n        // display the hits\n        System.out.println(hits.length() + \" hits for search: \\\"\" + description + '\\\"');\n        for (int i = 0; i < hits.length(); i++) {\n            System.out.println(\"  \" + FIELD_ID + ':' + hits.doc(i).get(FIELD_ID) + \" (score:\" + hits.score(i) + ')');\n        }\n        *****/\n\n        // did we get the hits we expected\n        assertEquals(expectedIds.length, topdocs.totalHits);\n        for (int i = 0; i < topdocs.totalHits; i++) {\n            //System.out.println(i + \" exp: \" + expectedIds[i]);\n            //System.out.println(i + \" field: \" + hits.doc(i).get(FIELD_ID));\n\n            int id = topdocs.scoreDocs[i].doc;\n            float score = topdocs.scoreDocs[i].score;\n            Document doc = s.doc(id);\n            assertEquals(expectedIds[i], doc.get(FIELD_ID));\n            boolean scoreEq = Math.abs(expectedScores[i] - score) < tolerance;\n            if (!scoreEq) {\n              System.out.println(i + \" warning, expected score: \" + expectedScores[i] + \", actual \" + score);\n              System.out.println(s.explain(query,id));\n            }\n            assertEquals(expectedScores[i], score, tolerance);\n            assertEquals(s.explain(query,id).getValue(), score, tolerance);\n        }\n    }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"c084e47df29de3330311d69dabf515ceaa989512","date":1279030906,"type":3,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/src/test/org/apache/lucene/search/spans/TestSpansAdvanced#assertHits(Searcher,Query,String,String[],float[]).mjava","pathOld":"lucene/src/test/org/apache/lucene/search/spans/TestSpansAdvanced#assertHits(Searcher,Query,String,String[],float[]).mjava","sourceNew":"  /**\n   * Checks to see if the hits are what we expected.\n   * \n   * @param query the query to execute\n   * @param description the description of the search\n   * @param expectedIds the expected document ids of the hits\n   * @param expectedScores the expected scores of the hits\n   * \n   * @throws IOException\n   */\n  protected static void assertHits(Searcher s, Query query,\n      final String description, final String[] expectedIds,\n      final float[] expectedScores) throws IOException {\n    QueryUtils.check(query, s);\n    \n    final float tolerance = 1e-5f;\n    \n    // Hits hits = searcher.search(query);\n    // hits normalizes and throws things off if one score is greater than 1.0\n    TopDocs topdocs = s.search(query, null, 10000);\n    \n    /*****\n     * // display the hits System.out.println(hits.length() +\n     * \" hits for search: \\\"\" + description + '\\\"'); for (int i = 0; i <\n     * hits.length(); i++) { System.out.println(\"  \" + FIELD_ID + ':' +\n     * hits.doc(i).get(FIELD_ID) + \" (score:\" + hits.score(i) + ')'); }\n     *****/\n    \n    // did we get the hits we expected\n    assertEquals(expectedIds.length, topdocs.totalHits);\n    for (int i = 0; i < topdocs.totalHits; i++) {\n      // System.out.println(i + \" exp: \" + expectedIds[i]);\n      // System.out.println(i + \" field: \" + hits.doc(i).get(FIELD_ID));\n      \n      int id = topdocs.scoreDocs[i].doc;\n      float score = topdocs.scoreDocs[i].score;\n      Document doc = s.doc(id);\n      assertEquals(expectedIds[i], doc.get(FIELD_ID));\n      boolean scoreEq = Math.abs(expectedScores[i] - score) < tolerance;\n      if (!scoreEq) {\n        System.out.println(i + \" warning, expected score: \" + expectedScores[i]\n            + \", actual \" + score);\n        System.out.println(s.explain(query, id));\n      }\n      assertEquals(expectedScores[i], score, tolerance);\n      assertEquals(s.explain(query, id).getValue(), score, tolerance);\n    }\n  }\n\n","sourceOld":"    /**\n     * Checks to see if the hits are what we expected.\n     *\n     * @param query the query to execute\n     * @param description the description of the search\n     * @param expectedIds the expected document ids of the hits\n     * @param expectedScores the expected scores of the hits\n     *\n     * @throws IOException\n     */\n    protected static void assertHits(Searcher s, Query query, final String description, final String[] expectedIds,\n            final float[] expectedScores) throws IOException {\n        QueryUtils.check(query,s);\n\n        final float tolerance = 1e-5f;\n\n        // Hits hits = searcher.search(query);\n        // hits normalizes and throws things off if one score is greater than 1.0\n        TopDocs topdocs = s.search(query,null,10000);\n\n        /*****\n        // display the hits\n        System.out.println(hits.length() + \" hits for search: \\\"\" + description + '\\\"');\n        for (int i = 0; i < hits.length(); i++) {\n            System.out.println(\"  \" + FIELD_ID + ':' + hits.doc(i).get(FIELD_ID) + \" (score:\" + hits.score(i) + ')');\n        }\n        *****/\n\n        // did we get the hits we expected\n        assertEquals(expectedIds.length, topdocs.totalHits);\n        for (int i = 0; i < topdocs.totalHits; i++) {\n            //System.out.println(i + \" exp: \" + expectedIds[i]);\n            //System.out.println(i + \" field: \" + hits.doc(i).get(FIELD_ID));\n\n            int id = topdocs.scoreDocs[i].doc;\n            float score = topdocs.scoreDocs[i].score;\n            Document doc = s.doc(id);\n            assertEquals(expectedIds[i], doc.get(FIELD_ID));\n            boolean scoreEq = Math.abs(expectedScores[i] - score) < tolerance;\n            if (!scoreEq) {\n              System.out.println(i + \" warning, expected score: \" + expectedScores[i] + \", actual \" + score);\n              System.out.println(s.explain(query,id));\n            }\n            assertEquals(expectedScores[i], score, tolerance);\n            assertEquals(s.explain(query,id).getValue(), score, tolerance);\n        }\n    }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"5f4e87790277826a2aea119328600dfb07761f32","date":1279827275,"type":3,"author":"Michael Busch","isMerge":true,"pathNew":"lucene/src/test/org/apache/lucene/search/spans/TestSpansAdvanced#assertHits(Searcher,Query,String,String[],float[]).mjava","pathOld":"lucene/src/test/org/apache/lucene/search/spans/TestSpansAdvanced#assertHits(Searcher,Query,String,String[],float[]).mjava","sourceNew":"  /**\n   * Checks to see if the hits are what we expected.\n   * \n   * @param query the query to execute\n   * @param description the description of the search\n   * @param expectedIds the expected document ids of the hits\n   * @param expectedScores the expected scores of the hits\n   * \n   * @throws IOException\n   */\n  protected static void assertHits(Searcher s, Query query,\n      final String description, final String[] expectedIds,\n      final float[] expectedScores) throws IOException {\n    QueryUtils.check(query, s);\n    \n    final float tolerance = 1e-5f;\n    \n    // Hits hits = searcher.search(query);\n    // hits normalizes and throws things off if one score is greater than 1.0\n    TopDocs topdocs = s.search(query, null, 10000);\n    \n    /*****\n     * // display the hits System.out.println(hits.length() +\n     * \" hits for search: \\\"\" + description + '\\\"'); for (int i = 0; i <\n     * hits.length(); i++) { System.out.println(\"  \" + FIELD_ID + ':' +\n     * hits.doc(i).get(FIELD_ID) + \" (score:\" + hits.score(i) + ')'); }\n     *****/\n    \n    // did we get the hits we expected\n    assertEquals(expectedIds.length, topdocs.totalHits);\n    for (int i = 0; i < topdocs.totalHits; i++) {\n      // System.out.println(i + \" exp: \" + expectedIds[i]);\n      // System.out.println(i + \" field: \" + hits.doc(i).get(FIELD_ID));\n      \n      int id = topdocs.scoreDocs[i].doc;\n      float score = topdocs.scoreDocs[i].score;\n      Document doc = s.doc(id);\n      assertEquals(expectedIds[i], doc.get(FIELD_ID));\n      boolean scoreEq = Math.abs(expectedScores[i] - score) < tolerance;\n      if (!scoreEq) {\n        System.out.println(i + \" warning, expected score: \" + expectedScores[i]\n            + \", actual \" + score);\n        System.out.println(s.explain(query, id));\n      }\n      assertEquals(expectedScores[i], score, tolerance);\n      assertEquals(s.explain(query, id).getValue(), score, tolerance);\n    }\n  }\n\n","sourceOld":"    /**\n     * Checks to see if the hits are what we expected.\n     *\n     * @param query the query to execute\n     * @param description the description of the search\n     * @param expectedIds the expected document ids of the hits\n     * @param expectedScores the expected scores of the hits\n     *\n     * @throws IOException\n     */\n    protected static void assertHits(Searcher s, Query query, final String description, final String[] expectedIds,\n            final float[] expectedScores) throws IOException {\n        QueryUtils.check(query,s);\n\n        final float tolerance = 1e-5f;\n\n        // Hits hits = searcher.search(query);\n        // hits normalizes and throws things off if one score is greater than 1.0\n        TopDocs topdocs = s.search(query,null,10000);\n\n        /*****\n        // display the hits\n        System.out.println(hits.length() + \" hits for search: \\\"\" + description + '\\\"');\n        for (int i = 0; i < hits.length(); i++) {\n            System.out.println(\"  \" + FIELD_ID + ':' + hits.doc(i).get(FIELD_ID) + \" (score:\" + hits.score(i) + ')');\n        }\n        *****/\n\n        // did we get the hits we expected\n        assertEquals(expectedIds.length, topdocs.totalHits);\n        for (int i = 0; i < topdocs.totalHits; i++) {\n            //System.out.println(i + \" exp: \" + expectedIds[i]);\n            //System.out.println(i + \" field: \" + hits.doc(i).get(FIELD_ID));\n\n            int id = topdocs.scoreDocs[i].doc;\n            float score = topdocs.scoreDocs[i].score;\n            Document doc = s.doc(id);\n            assertEquals(expectedIds[i], doc.get(FIELD_ID));\n            boolean scoreEq = Math.abs(expectedScores[i] - score) < tolerance;\n            if (!scoreEq) {\n              System.out.println(i + \" warning, expected score: \" + expectedScores[i] + \", actual \" + score);\n              System.out.println(s.explain(query,id));\n            }\n            assertEquals(expectedScores[i], score, tolerance);\n            assertEquals(s.explain(query,id).getValue(), score, tolerance);\n        }\n    }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"53a31399f2471493d67b19a95c028a74e0113b6a","date":1289817072,"type":3,"author":"Michael McCandless","isMerge":false,"pathNew":"lucene/src/test/org/apache/lucene/search/spans/TestSpansAdvanced#assertHits(Searcher,Query,String,String[],float[]).mjava","pathOld":"lucene/src/test/org/apache/lucene/search/spans/TestSpansAdvanced#assertHits(Searcher,Query,String,String[],float[]).mjava","sourceNew":"  /**\n   * Checks to see if the hits are what we expected.\n   * \n   * @param query the query to execute\n   * @param description the description of the search\n   * @param expectedIds the expected document ids of the hits\n   * @param expectedScores the expected scores of the hits\n   * \n   * @throws IOException\n   */\n  protected static void assertHits(Searcher s, Query query,\n      final String description, final String[] expectedIds,\n      final float[] expectedScores) throws IOException {\n    QueryUtils.check(random, query, s);\n    \n    final float tolerance = 1e-5f;\n    \n    // Hits hits = searcher.search(query);\n    // hits normalizes and throws things off if one score is greater than 1.0\n    TopDocs topdocs = s.search(query, null, 10000);\n    \n    /*****\n     * // display the hits System.out.println(hits.length() +\n     * \" hits for search: \\\"\" + description + '\\\"'); for (int i = 0; i <\n     * hits.length(); i++) { System.out.println(\"  \" + FIELD_ID + ':' +\n     * hits.doc(i).get(FIELD_ID) + \" (score:\" + hits.score(i) + ')'); }\n     *****/\n    \n    // did we get the hits we expected\n    assertEquals(expectedIds.length, topdocs.totalHits);\n    for (int i = 0; i < topdocs.totalHits; i++) {\n      // System.out.println(i + \" exp: \" + expectedIds[i]);\n      // System.out.println(i + \" field: \" + hits.doc(i).get(FIELD_ID));\n      \n      int id = topdocs.scoreDocs[i].doc;\n      float score = topdocs.scoreDocs[i].score;\n      Document doc = s.doc(id);\n      assertEquals(expectedIds[i], doc.get(FIELD_ID));\n      boolean scoreEq = Math.abs(expectedScores[i] - score) < tolerance;\n      if (!scoreEq) {\n        System.out.println(i + \" warning, expected score: \" + expectedScores[i]\n            + \", actual \" + score);\n        System.out.println(s.explain(query, id));\n      }\n      assertEquals(expectedScores[i], score, tolerance);\n      assertEquals(s.explain(query, id).getValue(), score, tolerance);\n    }\n  }\n\n","sourceOld":"  /**\n   * Checks to see if the hits are what we expected.\n   * \n   * @param query the query to execute\n   * @param description the description of the search\n   * @param expectedIds the expected document ids of the hits\n   * @param expectedScores the expected scores of the hits\n   * \n   * @throws IOException\n   */\n  protected static void assertHits(Searcher s, Query query,\n      final String description, final String[] expectedIds,\n      final float[] expectedScores) throws IOException {\n    QueryUtils.check(query, s);\n    \n    final float tolerance = 1e-5f;\n    \n    // Hits hits = searcher.search(query);\n    // hits normalizes and throws things off if one score is greater than 1.0\n    TopDocs topdocs = s.search(query, null, 10000);\n    \n    /*****\n     * // display the hits System.out.println(hits.length() +\n     * \" hits for search: \\\"\" + description + '\\\"'); for (int i = 0; i <\n     * hits.length(); i++) { System.out.println(\"  \" + FIELD_ID + ':' +\n     * hits.doc(i).get(FIELD_ID) + \" (score:\" + hits.score(i) + ')'); }\n     *****/\n    \n    // did we get the hits we expected\n    assertEquals(expectedIds.length, topdocs.totalHits);\n    for (int i = 0; i < topdocs.totalHits; i++) {\n      // System.out.println(i + \" exp: \" + expectedIds[i]);\n      // System.out.println(i + \" field: \" + hits.doc(i).get(FIELD_ID));\n      \n      int id = topdocs.scoreDocs[i].doc;\n      float score = topdocs.scoreDocs[i].score;\n      Document doc = s.doc(id);\n      assertEquals(expectedIds[i], doc.get(FIELD_ID));\n      boolean scoreEq = Math.abs(expectedScores[i] - score) < tolerance;\n      if (!scoreEq) {\n        System.out.println(i + \" warning, expected score: \" + expectedScores[i]\n            + \", actual \" + score);\n        System.out.println(s.explain(query, id));\n      }\n      assertEquals(expectedScores[i], score, tolerance);\n      assertEquals(s.explain(query, id).getValue(), score, tolerance);\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"9ab1f5591dc05f1f2b5407d809c9699f75554a32","date":1290008586,"type":3,"author":"Simon Willnauer","isMerge":true,"pathNew":"lucene/src/test/org/apache/lucene/search/spans/TestSpansAdvanced#assertHits(Searcher,Query,String,String[],float[]).mjava","pathOld":"lucene/src/test/org/apache/lucene/search/spans/TestSpansAdvanced#assertHits(Searcher,Query,String,String[],float[]).mjava","sourceNew":"  /**\n   * Checks to see if the hits are what we expected.\n   * \n   * @param query the query to execute\n   * @param description the description of the search\n   * @param expectedIds the expected document ids of the hits\n   * @param expectedScores the expected scores of the hits\n   * \n   * @throws IOException\n   */\n  protected static void assertHits(Searcher s, Query query,\n      final String description, final String[] expectedIds,\n      final float[] expectedScores) throws IOException {\n    QueryUtils.check(random, query, s);\n    \n    final float tolerance = 1e-5f;\n    \n    // Hits hits = searcher.search(query);\n    // hits normalizes and throws things off if one score is greater than 1.0\n    TopDocs topdocs = s.search(query, null, 10000);\n    \n    /*****\n     * // display the hits System.out.println(hits.length() +\n     * \" hits for search: \\\"\" + description + '\\\"'); for (int i = 0; i <\n     * hits.length(); i++) { System.out.println(\"  \" + FIELD_ID + ':' +\n     * hits.doc(i).get(FIELD_ID) + \" (score:\" + hits.score(i) + ')'); }\n     *****/\n    \n    // did we get the hits we expected\n    assertEquals(expectedIds.length, topdocs.totalHits);\n    for (int i = 0; i < topdocs.totalHits; i++) {\n      // System.out.println(i + \" exp: \" + expectedIds[i]);\n      // System.out.println(i + \" field: \" + hits.doc(i).get(FIELD_ID));\n      \n      int id = topdocs.scoreDocs[i].doc;\n      float score = topdocs.scoreDocs[i].score;\n      Document doc = s.doc(id);\n      assertEquals(expectedIds[i], doc.get(FIELD_ID));\n      boolean scoreEq = Math.abs(expectedScores[i] - score) < tolerance;\n      if (!scoreEq) {\n        System.out.println(i + \" warning, expected score: \" + expectedScores[i]\n            + \", actual \" + score);\n        System.out.println(s.explain(query, id));\n      }\n      assertEquals(expectedScores[i], score, tolerance);\n      assertEquals(s.explain(query, id).getValue(), score, tolerance);\n    }\n  }\n\n","sourceOld":"  /**\n   * Checks to see if the hits are what we expected.\n   * \n   * @param query the query to execute\n   * @param description the description of the search\n   * @param expectedIds the expected document ids of the hits\n   * @param expectedScores the expected scores of the hits\n   * \n   * @throws IOException\n   */\n  protected static void assertHits(Searcher s, Query query,\n      final String description, final String[] expectedIds,\n      final float[] expectedScores) throws IOException {\n    QueryUtils.check(query, s);\n    \n    final float tolerance = 1e-5f;\n    \n    // Hits hits = searcher.search(query);\n    // hits normalizes and throws things off if one score is greater than 1.0\n    TopDocs topdocs = s.search(query, null, 10000);\n    \n    /*****\n     * // display the hits System.out.println(hits.length() +\n     * \" hits for search: \\\"\" + description + '\\\"'); for (int i = 0; i <\n     * hits.length(); i++) { System.out.println(\"  \" + FIELD_ID + ':' +\n     * hits.doc(i).get(FIELD_ID) + \" (score:\" + hits.score(i) + ')'); }\n     *****/\n    \n    // did we get the hits we expected\n    assertEquals(expectedIds.length, topdocs.totalHits);\n    for (int i = 0; i < topdocs.totalHits; i++) {\n      // System.out.println(i + \" exp: \" + expectedIds[i]);\n      // System.out.println(i + \" field: \" + hits.doc(i).get(FIELD_ID));\n      \n      int id = topdocs.scoreDocs[i].doc;\n      float score = topdocs.scoreDocs[i].score;\n      Document doc = s.doc(id);\n      assertEquals(expectedIds[i], doc.get(FIELD_ID));\n      boolean scoreEq = Math.abs(expectedScores[i] - score) < tolerance;\n      if (!scoreEq) {\n        System.out.println(i + \" warning, expected score: \" + expectedScores[i]\n            + \", actual \" + score);\n        System.out.println(s.explain(query, id));\n      }\n      assertEquals(expectedScores[i], score, tolerance);\n      assertEquals(s.explain(query, id).getValue(), score, tolerance);\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"7c65bc241a96282ca59ae736b4ffb5b7e5eeb23a","date":1292920096,"type":3,"author":"Michael Busch","isMerge":true,"pathNew":"lucene/src/test/org/apache/lucene/search/spans/TestSpansAdvanced#assertHits(Searcher,Query,String,String[],float[]).mjava","pathOld":"lucene/src/test/org/apache/lucene/search/spans/TestSpansAdvanced#assertHits(Searcher,Query,String,String[],float[]).mjava","sourceNew":"  /**\n   * Checks to see if the hits are what we expected.\n   * \n   * @param query the query to execute\n   * @param description the description of the search\n   * @param expectedIds the expected document ids of the hits\n   * @param expectedScores the expected scores of the hits\n   * \n   * @throws IOException\n   */\n  protected static void assertHits(Searcher s, Query query,\n      final String description, final String[] expectedIds,\n      final float[] expectedScores) throws IOException {\n    QueryUtils.check(random, query, s);\n    \n    final float tolerance = 1e-5f;\n    \n    // Hits hits = searcher.search(query);\n    // hits normalizes and throws things off if one score is greater than 1.0\n    TopDocs topdocs = s.search(query, null, 10000);\n    \n    /*****\n     * // display the hits System.out.println(hits.length() +\n     * \" hits for search: \\\"\" + description + '\\\"'); for (int i = 0; i <\n     * hits.length(); i++) { System.out.println(\"  \" + FIELD_ID + ':' +\n     * hits.doc(i).get(FIELD_ID) + \" (score:\" + hits.score(i) + ')'); }\n     *****/\n    \n    // did we get the hits we expected\n    assertEquals(expectedIds.length, topdocs.totalHits);\n    for (int i = 0; i < topdocs.totalHits; i++) {\n      // System.out.println(i + \" exp: \" + expectedIds[i]);\n      // System.out.println(i + \" field: \" + hits.doc(i).get(FIELD_ID));\n      \n      int id = topdocs.scoreDocs[i].doc;\n      float score = topdocs.scoreDocs[i].score;\n      Document doc = s.doc(id);\n      assertEquals(expectedIds[i], doc.get(FIELD_ID));\n      boolean scoreEq = Math.abs(expectedScores[i] - score) < tolerance;\n      if (!scoreEq) {\n        System.out.println(i + \" warning, expected score: \" + expectedScores[i]\n            + \", actual \" + score);\n        System.out.println(s.explain(query, id));\n      }\n      assertEquals(expectedScores[i], score, tolerance);\n      assertEquals(s.explain(query, id).getValue(), score, tolerance);\n    }\n  }\n\n","sourceOld":"  /**\n   * Checks to see if the hits are what we expected.\n   * \n   * @param query the query to execute\n   * @param description the description of the search\n   * @param expectedIds the expected document ids of the hits\n   * @param expectedScores the expected scores of the hits\n   * \n   * @throws IOException\n   */\n  protected static void assertHits(Searcher s, Query query,\n      final String description, final String[] expectedIds,\n      final float[] expectedScores) throws IOException {\n    QueryUtils.check(query, s);\n    \n    final float tolerance = 1e-5f;\n    \n    // Hits hits = searcher.search(query);\n    // hits normalizes and throws things off if one score is greater than 1.0\n    TopDocs topdocs = s.search(query, null, 10000);\n    \n    /*****\n     * // display the hits System.out.println(hits.length() +\n     * \" hits for search: \\\"\" + description + '\\\"'); for (int i = 0; i <\n     * hits.length(); i++) { System.out.println(\"  \" + FIELD_ID + ':' +\n     * hits.doc(i).get(FIELD_ID) + \" (score:\" + hits.score(i) + ')'); }\n     *****/\n    \n    // did we get the hits we expected\n    assertEquals(expectedIds.length, topdocs.totalHits);\n    for (int i = 0; i < topdocs.totalHits; i++) {\n      // System.out.println(i + \" exp: \" + expectedIds[i]);\n      // System.out.println(i + \" field: \" + hits.doc(i).get(FIELD_ID));\n      \n      int id = topdocs.scoreDocs[i].doc;\n      float score = topdocs.scoreDocs[i].score;\n      Document doc = s.doc(id);\n      assertEquals(expectedIds[i], doc.get(FIELD_ID));\n      boolean scoreEq = Math.abs(expectedScores[i] - score) < tolerance;\n      if (!scoreEq) {\n        System.out.println(i + \" warning, expected score: \" + expectedScores[i]\n            + \", actual \" + score);\n        System.out.println(s.explain(query, id));\n      }\n      assertEquals(expectedScores[i], score, tolerance);\n      assertEquals(s.explain(query, id).getValue(), score, tolerance);\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"8b241ea5e635d896cc0af83cd96ffd0322e0aba7","date":1294226200,"type":5,"author":"Michael McCandless","isMerge":false,"pathNew":"lucene/src/test/org/apache/lucene/search/spans/TestSpansAdvanced#assertHits(IndexSearcher,Query,String,String[],float[]).mjava","pathOld":"lucene/src/test/org/apache/lucene/search/spans/TestSpansAdvanced#assertHits(Searcher,Query,String,String[],float[]).mjava","sourceNew":"  /**\n   * Checks to see if the hits are what we expected.\n   * \n   * @param query the query to execute\n   * @param description the description of the search\n   * @param expectedIds the expected document ids of the hits\n   * @param expectedScores the expected scores of the hits\n   * \n   * @throws IOException\n   */\n  protected static void assertHits(IndexSearcher s, Query query,\n      final String description, final String[] expectedIds,\n      final float[] expectedScores) throws IOException {\n    QueryUtils.check(random, query, s);\n    \n    final float tolerance = 1e-5f;\n    \n    // Hits hits = searcher.search(query);\n    // hits normalizes and throws things off if one score is greater than 1.0\n    TopDocs topdocs = s.search(query, null, 10000);\n    \n    /*****\n     * // display the hits System.out.println(hits.length() +\n     * \" hits for search: \\\"\" + description + '\\\"'); for (int i = 0; i <\n     * hits.length(); i++) { System.out.println(\"  \" + FIELD_ID + ':' +\n     * hits.doc(i).get(FIELD_ID) + \" (score:\" + hits.score(i) + ')'); }\n     *****/\n    \n    // did we get the hits we expected\n    assertEquals(expectedIds.length, topdocs.totalHits);\n    for (int i = 0; i < topdocs.totalHits; i++) {\n      // System.out.println(i + \" exp: \" + expectedIds[i]);\n      // System.out.println(i + \" field: \" + hits.doc(i).get(FIELD_ID));\n      \n      int id = topdocs.scoreDocs[i].doc;\n      float score = topdocs.scoreDocs[i].score;\n      Document doc = s.doc(id);\n      assertEquals(expectedIds[i], doc.get(FIELD_ID));\n      boolean scoreEq = Math.abs(expectedScores[i] - score) < tolerance;\n      if (!scoreEq) {\n        System.out.println(i + \" warning, expected score: \" + expectedScores[i]\n            + \", actual \" + score);\n        System.out.println(s.explain(query, id));\n      }\n      assertEquals(expectedScores[i], score, tolerance);\n      assertEquals(s.explain(query, id).getValue(), score, tolerance);\n    }\n  }\n\n","sourceOld":"  /**\n   * Checks to see if the hits are what we expected.\n   * \n   * @param query the query to execute\n   * @param description the description of the search\n   * @param expectedIds the expected document ids of the hits\n   * @param expectedScores the expected scores of the hits\n   * \n   * @throws IOException\n   */\n  protected static void assertHits(Searcher s, Query query,\n      final String description, final String[] expectedIds,\n      final float[] expectedScores) throws IOException {\n    QueryUtils.check(random, query, s);\n    \n    final float tolerance = 1e-5f;\n    \n    // Hits hits = searcher.search(query);\n    // hits normalizes and throws things off if one score is greater than 1.0\n    TopDocs topdocs = s.search(query, null, 10000);\n    \n    /*****\n     * // display the hits System.out.println(hits.length() +\n     * \" hits for search: \\\"\" + description + '\\\"'); for (int i = 0; i <\n     * hits.length(); i++) { System.out.println(\"  \" + FIELD_ID + ':' +\n     * hits.doc(i).get(FIELD_ID) + \" (score:\" + hits.score(i) + ')'); }\n     *****/\n    \n    // did we get the hits we expected\n    assertEquals(expectedIds.length, topdocs.totalHits);\n    for (int i = 0; i < topdocs.totalHits; i++) {\n      // System.out.println(i + \" exp: \" + expectedIds[i]);\n      // System.out.println(i + \" field: \" + hits.doc(i).get(FIELD_ID));\n      \n      int id = topdocs.scoreDocs[i].doc;\n      float score = topdocs.scoreDocs[i].score;\n      Document doc = s.doc(id);\n      assertEquals(expectedIds[i], doc.get(FIELD_ID));\n      boolean scoreEq = Math.abs(expectedScores[i] - score) < tolerance;\n      if (!scoreEq) {\n        System.out.println(i + \" warning, expected score: \" + expectedScores[i]\n            + \", actual \" + score);\n        System.out.println(s.explain(query, id));\n      }\n      assertEquals(expectedScores[i], score, tolerance);\n      assertEquals(s.explain(query, id).getValue(), score, tolerance);\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"70ad682703b8585f5d0a637efec044d57ec05efb","date":1294259117,"type":4,"author":"Simon Willnauer","isMerge":true,"pathNew":"/dev/null","pathOld":"lucene/src/test/org/apache/lucene/search/spans/TestSpansAdvanced#assertHits(Searcher,Query,String,String[],float[]).mjava","sourceNew":null,"sourceOld":"  /**\n   * Checks to see if the hits are what we expected.\n   * \n   * @param query the query to execute\n   * @param description the description of the search\n   * @param expectedIds the expected document ids of the hits\n   * @param expectedScores the expected scores of the hits\n   * \n   * @throws IOException\n   */\n  protected static void assertHits(Searcher s, Query query,\n      final String description, final String[] expectedIds,\n      final float[] expectedScores) throws IOException {\n    QueryUtils.check(random, query, s);\n    \n    final float tolerance = 1e-5f;\n    \n    // Hits hits = searcher.search(query);\n    // hits normalizes and throws things off if one score is greater than 1.0\n    TopDocs topdocs = s.search(query, null, 10000);\n    \n    /*****\n     * // display the hits System.out.println(hits.length() +\n     * \" hits for search: \\\"\" + description + '\\\"'); for (int i = 0; i <\n     * hits.length(); i++) { System.out.println(\"  \" + FIELD_ID + ':' +\n     * hits.doc(i).get(FIELD_ID) + \" (score:\" + hits.score(i) + ')'); }\n     *****/\n    \n    // did we get the hits we expected\n    assertEquals(expectedIds.length, topdocs.totalHits);\n    for (int i = 0; i < topdocs.totalHits; i++) {\n      // System.out.println(i + \" exp: \" + expectedIds[i]);\n      // System.out.println(i + \" field: \" + hits.doc(i).get(FIELD_ID));\n      \n      int id = topdocs.scoreDocs[i].doc;\n      float score = topdocs.scoreDocs[i].score;\n      Document doc = s.doc(id);\n      assertEquals(expectedIds[i], doc.get(FIELD_ID));\n      boolean scoreEq = Math.abs(expectedScores[i] - score) < tolerance;\n      if (!scoreEq) {\n        System.out.println(i + \" warning, expected score: \" + expectedScores[i]\n            + \", actual \" + score);\n        System.out.println(s.explain(query, id));\n      }\n      assertEquals(expectedScores[i], score, tolerance);\n      assertEquals(s.explain(query, id).getValue(), score, tolerance);\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"868da859b43505d9d2a023bfeae6dd0c795f5295","date":1294948401,"type":4,"author":"Michael Busch","isMerge":true,"pathNew":"/dev/null","pathOld":"lucene/src/test/org/apache/lucene/search/spans/TestSpansAdvanced#assertHits(Searcher,Query,String,String[],float[]).mjava","sourceNew":null,"sourceOld":"  /**\n   * Checks to see if the hits are what we expected.\n   * \n   * @param query the query to execute\n   * @param description the description of the search\n   * @param expectedIds the expected document ids of the hits\n   * @param expectedScores the expected scores of the hits\n   * \n   * @throws IOException\n   */\n  protected static void assertHits(Searcher s, Query query,\n      final String description, final String[] expectedIds,\n      final float[] expectedScores) throws IOException {\n    QueryUtils.check(random, query, s);\n    \n    final float tolerance = 1e-5f;\n    \n    // Hits hits = searcher.search(query);\n    // hits normalizes and throws things off if one score is greater than 1.0\n    TopDocs topdocs = s.search(query, null, 10000);\n    \n    /*****\n     * // display the hits System.out.println(hits.length() +\n     * \" hits for search: \\\"\" + description + '\\\"'); for (int i = 0; i <\n     * hits.length(); i++) { System.out.println(\"  \" + FIELD_ID + ':' +\n     * hits.doc(i).get(FIELD_ID) + \" (score:\" + hits.score(i) + ')'); }\n     *****/\n    \n    // did we get the hits we expected\n    assertEquals(expectedIds.length, topdocs.totalHits);\n    for (int i = 0; i < topdocs.totalHits; i++) {\n      // System.out.println(i + \" exp: \" + expectedIds[i]);\n      // System.out.println(i + \" field: \" + hits.doc(i).get(FIELD_ID));\n      \n      int id = topdocs.scoreDocs[i].doc;\n      float score = topdocs.scoreDocs[i].score;\n      Document doc = s.doc(id);\n      assertEquals(expectedIds[i], doc.get(FIELD_ID));\n      boolean scoreEq = Math.abs(expectedScores[i] - score) < tolerance;\n      if (!scoreEq) {\n        System.out.println(i + \" warning, expected score: \" + expectedScores[i]\n            + \", actual \" + score);\n        System.out.println(s.explain(query, id));\n      }\n      assertEquals(expectedScores[i], score, tolerance);\n      assertEquals(s.explain(query, id).getValue(), score, tolerance);\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"c084e47df29de3330311d69dabf515ceaa989512":["9454a6510e2db155fb01faa5c049b06ece95fab9"],"70ad682703b8585f5d0a637efec044d57ec05efb":["9ab1f5591dc05f1f2b5407d809c9699f75554a32","8b241ea5e635d896cc0af83cd96ffd0322e0aba7"],"8b241ea5e635d896cc0af83cd96ffd0322e0aba7":["53a31399f2471493d67b19a95c028a74e0113b6a"],"53a31399f2471493d67b19a95c028a74e0113b6a":["c084e47df29de3330311d69dabf515ceaa989512"],"9ab1f5591dc05f1f2b5407d809c9699f75554a32":["c084e47df29de3330311d69dabf515ceaa989512","53a31399f2471493d67b19a95c028a74e0113b6a"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"5f4e87790277826a2aea119328600dfb07761f32":["9454a6510e2db155fb01faa5c049b06ece95fab9","c084e47df29de3330311d69dabf515ceaa989512"],"7c65bc241a96282ca59ae736b4ffb5b7e5eeb23a":["5f4e87790277826a2aea119328600dfb07761f32","53a31399f2471493d67b19a95c028a74e0113b6a"],"868da859b43505d9d2a023bfeae6dd0c795f5295":["7c65bc241a96282ca59ae736b4ffb5b7e5eeb23a","8b241ea5e635d896cc0af83cd96ffd0322e0aba7"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["8b241ea5e635d896cc0af83cd96ffd0322e0aba7"],"9454a6510e2db155fb01faa5c049b06ece95fab9":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"c084e47df29de3330311d69dabf515ceaa989512":["53a31399f2471493d67b19a95c028a74e0113b6a","9ab1f5591dc05f1f2b5407d809c9699f75554a32","5f4e87790277826a2aea119328600dfb07761f32"],"70ad682703b8585f5d0a637efec044d57ec05efb":[],"9ab1f5591dc05f1f2b5407d809c9699f75554a32":["70ad682703b8585f5d0a637efec044d57ec05efb"],"8b241ea5e635d896cc0af83cd96ffd0322e0aba7":["70ad682703b8585f5d0a637efec044d57ec05efb","868da859b43505d9d2a023bfeae6dd0c795f5295","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"53a31399f2471493d67b19a95c028a74e0113b6a":["8b241ea5e635d896cc0af83cd96ffd0322e0aba7","9ab1f5591dc05f1f2b5407d809c9699f75554a32","7c65bc241a96282ca59ae736b4ffb5b7e5eeb23a"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["9454a6510e2db155fb01faa5c049b06ece95fab9"],"5f4e87790277826a2aea119328600dfb07761f32":["7c65bc241a96282ca59ae736b4ffb5b7e5eeb23a"],"7c65bc241a96282ca59ae736b4ffb5b7e5eeb23a":["868da859b43505d9d2a023bfeae6dd0c795f5295"],"868da859b43505d9d2a023bfeae6dd0c795f5295":[],"9454a6510e2db155fb01faa5c049b06ece95fab9":["c084e47df29de3330311d69dabf515ceaa989512","5f4e87790277826a2aea119328600dfb07761f32"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["70ad682703b8585f5d0a637efec044d57ec05efb","868da859b43505d9d2a023bfeae6dd0c795f5295","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}