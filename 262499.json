{"path":"solr/core/src/test/org/apache/solr/request/TestRemoteStreaming#testQtUpdateFails().mjava","commits":[{"id":"e3941895748f08018a2a9b5ac13e5fcadc7e89e0","date":1332737017,"type":0,"author":"David Wayne Smiley","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/request/TestRemoteStreaming#testQtUpdateFails().mjava","pathOld":"/dev/null","sourceNew":"  /** SOLR-3161\n   * Technically stream.body isn't remote streaming, but there wasn't a better place for this test method. */\n  @Test(expected = SolrException.class)\n  public void testQtUpdateFails() throws SolrServerException {\n    SolrQuery query = new SolrQuery();\n    query.setQuery( \"*:*\" );//for anything\n    query.add(\"echoHandler\",\"true\");\n    //sneaky sneaky\n    query.add(\"qt\",\"/update\");\n    query.add(\"stream.body\",\"<delete><query>*:*</query></delete>\");\n\n    QueryRequest queryRequest = new QueryRequest(query) {\n      @Override\n      public String getPath() { //don't let superclass substitute qt for the path\n        return \"/select\";\n      }\n    };\n    QueryResponse rsp = queryRequest.process(getSolrServer());\n    //!! should *fail* above for security purposes\n    String handler = (String) rsp.getHeader().get(\"handler\");\n    System.out.println(handler);\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"bafca15d8e408346a67f4282ad1143b88023893b","date":1420034748,"type":3,"author":"Alan Woodward","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/request/TestRemoteStreaming#testQtUpdateFails().mjava","pathOld":"solr/core/src/test/org/apache/solr/request/TestRemoteStreaming#testQtUpdateFails().mjava","sourceNew":"  /** SOLR-3161\n   * Technically stream.body isn't remote streaming, but there wasn't a better place for this test method. */\n  @Test(expected = SolrException.class)\n  public void testQtUpdateFails() throws SolrServerException {\n    SolrQuery query = new SolrQuery();\n    query.setQuery( \"*:*\" );//for anything\n    query.add(\"echoHandler\",\"true\");\n    //sneaky sneaky\n    query.add(\"qt\",\"/update\");\n    query.add(\"stream.body\",\"<delete><query>*:*</query></delete>\");\n\n    QueryRequest queryRequest = new QueryRequest(query) {\n      @Override\n      public String getPath() { //don't let superclass substitute qt for the path\n        return \"/select\";\n      }\n    };\n    QueryResponse rsp = queryRequest.process(getSolrClient());\n    //!! should *fail* above for security purposes\n    String handler = (String) rsp.getHeader().get(\"handler\");\n    System.out.println(handler);\n  }\n\n","sourceOld":"  /** SOLR-3161\n   * Technically stream.body isn't remote streaming, but there wasn't a better place for this test method. */\n  @Test(expected = SolrException.class)\n  public void testQtUpdateFails() throws SolrServerException {\n    SolrQuery query = new SolrQuery();\n    query.setQuery( \"*:*\" );//for anything\n    query.add(\"echoHandler\",\"true\");\n    //sneaky sneaky\n    query.add(\"qt\",\"/update\");\n    query.add(\"stream.body\",\"<delete><query>*:*</query></delete>\");\n\n    QueryRequest queryRequest = new QueryRequest(query) {\n      @Override\n      public String getPath() { //don't let superclass substitute qt for the path\n        return \"/select\";\n      }\n    };\n    QueryResponse rsp = queryRequest.process(getSolrServer());\n    //!! should *fail* above for security purposes\n    String handler = (String) rsp.getHeader().get(\"handler\");\n    System.out.println(handler);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"b8ed5ba2c6fdd51d5fb71cfabb554a7f2a7d6cfa","date":1425039471,"type":3,"author":"Alan Woodward","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/request/TestRemoteStreaming#testQtUpdateFails().mjava","pathOld":"solr/core/src/test/org/apache/solr/request/TestRemoteStreaming#testQtUpdateFails().mjava","sourceNew":"  /** SOLR-3161\n   * Technically stream.body isn't remote streaming, but there wasn't a better place for this test method. */\n  @Test(expected = SolrException.class)\n  public void testQtUpdateFails() throws SolrServerException, IOException {\n    SolrQuery query = new SolrQuery();\n    query.setQuery( \"*:*\" );//for anything\n    query.add(\"echoHandler\",\"true\");\n    //sneaky sneaky\n    query.add(\"qt\",\"/update\");\n    query.add(\"stream.body\",\"<delete><query>*:*</query></delete>\");\n\n    QueryRequest queryRequest = new QueryRequest(query) {\n      @Override\n      public String getPath() { //don't let superclass substitute qt for the path\n        return \"/select\";\n      }\n    };\n    QueryResponse rsp = queryRequest.process(getSolrClient());\n    //!! should *fail* above for security purposes\n    String handler = (String) rsp.getHeader().get(\"handler\");\n    System.out.println(handler);\n  }\n\n","sourceOld":"  /** SOLR-3161\n   * Technically stream.body isn't remote streaming, but there wasn't a better place for this test method. */\n  @Test(expected = SolrException.class)\n  public void testQtUpdateFails() throws SolrServerException {\n    SolrQuery query = new SolrQuery();\n    query.setQuery( \"*:*\" );//for anything\n    query.add(\"echoHandler\",\"true\");\n    //sneaky sneaky\n    query.add(\"qt\",\"/update\");\n    query.add(\"stream.body\",\"<delete><query>*:*</query></delete>\");\n\n    QueryRequest queryRequest = new QueryRequest(query) {\n      @Override\n      public String getPath() { //don't let superclass substitute qt for the path\n        return \"/select\";\n      }\n    };\n    QueryResponse rsp = queryRequest.process(getSolrClient());\n    //!! should *fail* above for security purposes\n    String handler = (String) rsp.getHeader().get(\"handler\");\n    System.out.println(handler);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"a0d1e2aaf870d9d4f740ed0aaaf5824ccd9394ae","date":1427779360,"type":3,"author":"Ryan Ernst","isMerge":true,"pathNew":"solr/core/src/test/org/apache/solr/request/TestRemoteStreaming#testQtUpdateFails().mjava","pathOld":"solr/core/src/test/org/apache/solr/request/TestRemoteStreaming#testQtUpdateFails().mjava","sourceNew":"  /** SOLR-3161\n   * Technically stream.body isn't remote streaming, but there wasn't a better place for this test method. */\n  @Test(expected = SolrException.class)\n  public void testQtUpdateFails() throws SolrServerException, IOException {\n    SolrQuery query = new SolrQuery();\n    query.setQuery( \"*:*\" );//for anything\n    query.add(\"echoHandler\",\"true\");\n    //sneaky sneaky\n    query.add(\"qt\",\"/update\");\n    query.add(\"stream.body\",\"<delete><query>*:*</query></delete>\");\n\n    QueryRequest queryRequest = new QueryRequest(query) {\n      @Override\n      public String getPath() { //don't let superclass substitute qt for the path\n        return \"/select\";\n      }\n    };\n    QueryResponse rsp = queryRequest.process(getSolrClient());\n    //!! should *fail* above for security purposes\n    String handler = (String) rsp.getHeader().get(\"handler\");\n    System.out.println(handler);\n  }\n\n","sourceOld":"  /** SOLR-3161\n   * Technically stream.body isn't remote streaming, but there wasn't a better place for this test method. */\n  @Test(expected = SolrException.class)\n  public void testQtUpdateFails() throws SolrServerException {\n    SolrQuery query = new SolrQuery();\n    query.setQuery( \"*:*\" );//for anything\n    query.add(\"echoHandler\",\"true\");\n    //sneaky sneaky\n    query.add(\"qt\",\"/update\");\n    query.add(\"stream.body\",\"<delete><query>*:*</query></delete>\");\n\n    QueryRequest queryRequest = new QueryRequest(query) {\n      @Override\n      public String getPath() { //don't let superclass substitute qt for the path\n        return \"/select\";\n      }\n    };\n    QueryResponse rsp = queryRequest.process(getSolrClient());\n    //!! should *fail* above for security purposes\n    String handler = (String) rsp.getHeader().get(\"handler\");\n    System.out.println(handler);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"e2238da841c6da38e6ed909d35da8f4c0ea3147b","date":1499346175,"type":5,"author":"Jan HÃ¸ydahl","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/request/TestStreamBody#testQtUpdateFails().mjava","pathOld":"solr/core/src/test/org/apache/solr/request/TestRemoteStreaming#testQtUpdateFails().mjava","sourceNew":"  // SOLR-3161\n  @Test\n  public void testQtUpdateFails() throws Exception {\n    enableStreamBody(true);\n    SolrQuery query = new SolrQuery();\n    query.setQuery( \"*:*\" );//for anything\n    query.add(\"echoHandler\",\"true\");\n    //sneaky sneaky\n    query.add(\"qt\",\"/update\");\n    query.add(CommonParams.STREAM_BODY,\"<delete><query>*:*</query></delete>\");\n\n    QueryRequest queryRequest = new QueryRequest(query) {\n      @Override\n      public String getPath() { //don't let superclass substitute qt for the path\n        return \"/select\";\n      }\n    };\n    try {\n      queryRequest.process(getSolrClient());\n      fail();\n    } catch (SolrException se) {\n      assertTrue(se.getMessage(), se.getMessage().contains(\"Bad contentType for search handler :text/xml\"));\n    }\n  }\n\n","sourceOld":"  /** SOLR-3161\n   * Technically stream.body isn't remote streaming, but there wasn't a better place for this test method. */\n  @Test(expected = SolrException.class)\n  public void testQtUpdateFails() throws SolrServerException, IOException {\n    SolrQuery query = new SolrQuery();\n    query.setQuery( \"*:*\" );//for anything\n    query.add(\"echoHandler\",\"true\");\n    //sneaky sneaky\n    query.add(\"qt\",\"/update\");\n    query.add(\"stream.body\",\"<delete><query>*:*</query></delete>\");\n\n    QueryRequest queryRequest = new QueryRequest(query) {\n      @Override\n      public String getPath() { //don't let superclass substitute qt for the path\n        return \"/select\";\n      }\n    };\n    QueryResponse rsp = queryRequest.process(getSolrClient());\n    //!! should *fail* above for security purposes\n    String handler = (String) rsp.getHeader().get(\"handler\");\n    System.out.println(handler);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"e73d8d559120669b47658108d818b637df5456ea","date":1499401413,"type":5,"author":"Shalin Shekhar Mangar","isMerge":true,"pathNew":"solr/core/src/test/org/apache/solr/request/TestStreamBody#testQtUpdateFails().mjava","pathOld":"solr/core/src/test/org/apache/solr/request/TestRemoteStreaming#testQtUpdateFails().mjava","sourceNew":"  // SOLR-3161\n  @Test\n  public void testQtUpdateFails() throws Exception {\n    enableStreamBody(true);\n    SolrQuery query = new SolrQuery();\n    query.setQuery( \"*:*\" );//for anything\n    query.add(\"echoHandler\",\"true\");\n    //sneaky sneaky\n    query.add(\"qt\",\"/update\");\n    query.add(CommonParams.STREAM_BODY,\"<delete><query>*:*</query></delete>\");\n\n    QueryRequest queryRequest = new QueryRequest(query) {\n      @Override\n      public String getPath() { //don't let superclass substitute qt for the path\n        return \"/select\";\n      }\n    };\n    try {\n      queryRequest.process(getSolrClient());\n      fail();\n    } catch (SolrException se) {\n      assertTrue(se.getMessage(), se.getMessage().contains(\"Bad contentType for search handler :text/xml\"));\n    }\n  }\n\n","sourceOld":"  /** SOLR-3161\n   * Technically stream.body isn't remote streaming, but there wasn't a better place for this test method. */\n  @Test(expected = SolrException.class)\n  public void testQtUpdateFails() throws SolrServerException, IOException {\n    SolrQuery query = new SolrQuery();\n    query.setQuery( \"*:*\" );//for anything\n    query.add(\"echoHandler\",\"true\");\n    //sneaky sneaky\n    query.add(\"qt\",\"/update\");\n    query.add(\"stream.body\",\"<delete><query>*:*</query></delete>\");\n\n    QueryRequest queryRequest = new QueryRequest(query) {\n      @Override\n      public String getPath() { //don't let superclass substitute qt for the path\n        return \"/select\";\n      }\n    };\n    QueryResponse rsp = queryRequest.process(getSolrClient());\n    //!! should *fail* above for security purposes\n    String handler = (String) rsp.getHeader().get(\"handler\");\n    System.out.println(handler);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0d1e2aaf870d9d4f740ed0aaaf5824ccd9394ae":["bafca15d8e408346a67f4282ad1143b88023893b","b8ed5ba2c6fdd51d5fb71cfabb554a7f2a7d6cfa"],"e2238da841c6da38e6ed909d35da8f4c0ea3147b":["b8ed5ba2c6fdd51d5fb71cfabb554a7f2a7d6cfa"],"b8ed5ba2c6fdd51d5fb71cfabb554a7f2a7d6cfa":["bafca15d8e408346a67f4282ad1143b88023893b"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"e73d8d559120669b47658108d818b637df5456ea":["b8ed5ba2c6fdd51d5fb71cfabb554a7f2a7d6cfa","e2238da841c6da38e6ed909d35da8f4c0ea3147b"],"bafca15d8e408346a67f4282ad1143b88023893b":["e3941895748f08018a2a9b5ac13e5fcadc7e89e0"],"e3941895748f08018a2a9b5ac13e5fcadc7e89e0":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["e2238da841c6da38e6ed909d35da8f4c0ea3147b"]},"commit2Childs":{"a0d1e2aaf870d9d4f740ed0aaaf5824ccd9394ae":[],"e2238da841c6da38e6ed909d35da8f4c0ea3147b":["e73d8d559120669b47658108d818b637df5456ea","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"b8ed5ba2c6fdd51d5fb71cfabb554a7f2a7d6cfa":["a0d1e2aaf870d9d4f740ed0aaaf5824ccd9394ae","e2238da841c6da38e6ed909d35da8f4c0ea3147b","e73d8d559120669b47658108d818b637df5456ea"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["e3941895748f08018a2a9b5ac13e5fcadc7e89e0"],"e73d8d559120669b47658108d818b637df5456ea":[],"bafca15d8e408346a67f4282ad1143b88023893b":["a0d1e2aaf870d9d4f740ed0aaaf5824ccd9394ae","b8ed5ba2c6fdd51d5fb71cfabb554a7f2a7d6cfa"],"e3941895748f08018a2a9b5ac13e5fcadc7e89e0":["bafca15d8e408346a67f4282ad1143b88023893b"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["a0d1e2aaf870d9d4f740ed0aaaf5824ccd9394ae","e73d8d559120669b47658108d818b637df5456ea","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}