{"path":"solr/core/src/test/org/apache/solr/core/TestCoreDiscovery#testSolrHomeNotReadable().mjava","commits":[{"id":"429eefa8bf427c2fbc5d85905fea54b2f76081f5","date":1409938294,"type":0,"author":"Erick Erickson","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/core/TestCoreDiscovery#testSolrHomeNotReadable().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testSolrHomeNotReadable() throws Exception {\n    File homeDir = solrHomeDirectory;\n    setMeUp(homeDir.getAbsolutePath());\n    addCoreWithProps(makeCorePropFile(\"core1\", false, true),\n        new File(homeDir, \"core1\" + File.separator + CorePropertiesLocator.PROPERTIES_FILENAME));\n\n    homeDir.setReadable(false, false);\n\n    CoreContainer cc = null;\n    try {\n      cc = init();\n    } catch (Exception ex) {\n      String eoe = ex.getMessage();\n\n      assertTrue(\"Should have had a runtime exception here\",\n          0 < ex.getMessage().indexOf(\"doesn't have read permissions\"));\n    } finally {\n      if (cc != null) {\n        cc.shutdown();\n      }\n    }\n    // So things can be cleaned up by the framework!\n    homeDir.setReadable(true, false);\n\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"c52212005e468bcee3f7dd2bd5319cd1ec0d9ce9","date":1410089048,"type":3,"author":"Uwe Schindler","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/core/TestCoreDiscovery#testSolrHomeNotReadable().mjava","pathOld":"solr/core/src/test/org/apache/solr/core/TestCoreDiscovery#testSolrHomeNotReadable().mjava","sourceNew":"  @Test\n  public void testSolrHomeNotReadable() throws Exception {\n    File homeDir = solrHomeDirectory;\n    setMeUp(homeDir.getAbsolutePath());\n    addCoreWithProps(makeCorePropFile(\"core1\", false, true),\n        new File(homeDir, \"core1\" + File.separator + CorePropertiesLocator.PROPERTIES_FILENAME));\n\n    assumeTrue(\"Cannot make \" + homeDir + \" non-readable. Test aborted.\", homeDir.setReadable(false, false));\n\n    CoreContainer cc = null;\n    try {\n      cc = init();\n    } catch (Exception ex) {\n      String eoe = ex.getMessage();\n\n      assertTrue(\"Should have had a runtime exception here\",\n          0 < ex.getMessage().indexOf(\"doesn't have read permissions\"));\n    } finally {\n      if (cc != null) {\n        cc.shutdown();\n      }\n    }\n    // So things can be cleaned up by the framework!\n    homeDir.setReadable(true, false);\n\n  }\n\n","sourceOld":"  @Test\n  public void testSolrHomeNotReadable() throws Exception {\n    File homeDir = solrHomeDirectory;\n    setMeUp(homeDir.getAbsolutePath());\n    addCoreWithProps(makeCorePropFile(\"core1\", false, true),\n        new File(homeDir, \"core1\" + File.separator + CorePropertiesLocator.PROPERTIES_FILENAME));\n\n    homeDir.setReadable(false, false);\n\n    CoreContainer cc = null;\n    try {\n      cc = init();\n    } catch (Exception ex) {\n      String eoe = ex.getMessage();\n\n      assertTrue(\"Should have had a runtime exception here\",\n          0 < ex.getMessage().indexOf(\"doesn't have read permissions\"));\n    } finally {\n      if (cc != null) {\n        cc.shutdown();\n      }\n    }\n    // So things can be cleaned up by the framework!\n    homeDir.setReadable(true, false);\n\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"bfff642564a0bd7d0848b5e8146a64f7623f6612","date":1447091419,"type":3,"author":"Alan Woodward","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/core/TestCoreDiscovery#testSolrHomeNotReadable().mjava","pathOld":"solr/core/src/test/org/apache/solr/core/TestCoreDiscovery#testSolrHomeNotReadable().mjava","sourceNew":"  @Test\n  public void testSolrHomeNotReadable() throws Exception {\n    File homeDir = solrHomeDirectory;\n    setMeUp(homeDir.getAbsolutePath());\n    addCoreWithProps(makeCorePropFile(\"core1\", false, true),\n        new File(homeDir, \"core1\" + File.separator + CorePropertiesLocator.PROPERTIES_FILENAME));\n\n    assumeTrue(\"Cannot make \" + homeDir + \" non-readable. Test aborted.\", homeDir.setReadable(false, false));\n\n    CoreContainer cc = null;\n    try {\n      cc = init();\n      fail(\"Should have thrown an exception here\");\n    } catch (Exception ex) {\n      assertThat(ex.getMessage(), containsString(\"Error reading core root directory\"));\n    } finally {\n      if (cc != null) {\n        cc.shutdown();\n      }\n    }\n    // So things can be cleaned up by the framework!\n    homeDir.setReadable(true, false);\n\n  }\n\n","sourceOld":"  @Test\n  public void testSolrHomeNotReadable() throws Exception {\n    File homeDir = solrHomeDirectory;\n    setMeUp(homeDir.getAbsolutePath());\n    addCoreWithProps(makeCorePropFile(\"core1\", false, true),\n        new File(homeDir, \"core1\" + File.separator + CorePropertiesLocator.PROPERTIES_FILENAME));\n\n    assumeTrue(\"Cannot make \" + homeDir + \" non-readable. Test aborted.\", homeDir.setReadable(false, false));\n\n    CoreContainer cc = null;\n    try {\n      cc = init();\n    } catch (Exception ex) {\n      String eoe = ex.getMessage();\n\n      assertTrue(\"Should have had a runtime exception here\",\n          0 < ex.getMessage().indexOf(\"doesn't have read permissions\"));\n    } finally {\n      if (cc != null) {\n        cc.shutdown();\n      }\n    }\n    // So things can be cleaned up by the framework!\n    homeDir.setReadable(true, false);\n\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"d5e1fdb2f4f60897cf8fadced7b8a4321c838c47","date":1488986626,"type":3,"author":"Mark Miller","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/core/TestCoreDiscovery#testSolrHomeNotReadable().mjava","pathOld":"solr/core/src/test/org/apache/solr/core/TestCoreDiscovery#testSolrHomeNotReadable().mjava","sourceNew":"  @Test\n  public void testSolrHomeNotReadable() throws Exception {\n    File homeDir = solrHomeDirectory;\n    setMeUp(homeDir.getAbsolutePath());\n    addCoreWithProps(makeCorePropFile(\"core1\", false, true),\n        new File(homeDir, \"core1\" + File.separator + CorePropertiesLocator.PROPERTIES_FILENAME));\n\n    assumeTrue(\"Cannot make \" + homeDir + \" non-readable. Test aborted.\", homeDir.setReadable(false, false));\n    assumeFalse(\"Appears we are a super user, skip test\", homeDir.canRead());\n    CoreContainer cc = null;\n    try {\n      cc = init();\n      fail(\"Should have thrown an exception here\");\n    } catch (Exception ex) {\n      assertThat(ex.getMessage(), containsString(\"Error reading core root directory\"));\n    } finally {\n      if (cc != null) {\n        cc.shutdown();\n      }\n    }\n    // So things can be cleaned up by the framework!\n    homeDir.setReadable(true, false);\n\n  }\n\n","sourceOld":"  @Test\n  public void testSolrHomeNotReadable() throws Exception {\n    File homeDir = solrHomeDirectory;\n    setMeUp(homeDir.getAbsolutePath());\n    addCoreWithProps(makeCorePropFile(\"core1\", false, true),\n        new File(homeDir, \"core1\" + File.separator + CorePropertiesLocator.PROPERTIES_FILENAME));\n\n    assumeTrue(\"Cannot make \" + homeDir + \" non-readable. Test aborted.\", homeDir.setReadable(false, false));\n\n    CoreContainer cc = null;\n    try {\n      cc = init();\n      fail(\"Should have thrown an exception here\");\n    } catch (Exception ex) {\n      assertThat(ex.getMessage(), containsString(\"Error reading core root directory\"));\n    } finally {\n      if (cc != null) {\n        cc.shutdown();\n      }\n    }\n    // So things can be cleaned up by the framework!\n    homeDir.setReadable(true, false);\n\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"bd7a2b4785d366164d3cd69f9948de6ff34d23a1","date":1500527874,"type":3,"author":"Erick Erickson","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/core/TestCoreDiscovery#testSolrHomeNotReadable().mjava","pathOld":"solr/core/src/test/org/apache/solr/core/TestCoreDiscovery#testSolrHomeNotReadable().mjava","sourceNew":"  @Test\n  public void testSolrHomeNotReadable() throws Exception {\n    File homeDir = solrHomeDirectory.toFile();\n    setMeUp(homeDir.getAbsolutePath());\n    addCoreWithProps(makeCoreProperties(\"core1\", false, true),\n        new File(homeDir, \"core1\" + File.separator + CorePropertiesLocator.PROPERTIES_FILENAME));\n\n    assumeTrue(\"Cannot make \" + homeDir + \" non-readable. Test aborted.\", homeDir.setReadable(false, false));\n    assumeFalse(\"Appears we are a super user, skip test\", homeDir.canRead());\n    CoreContainer cc = null;\n    try {\n      cc = init();\n      fail(\"Should have thrown an exception here\");\n    } catch (Exception ex) {\n      assertThat(ex.getMessage(), containsString(\"Error reading core root directory\"));\n    } finally {\n      if (cc != null) {\n        cc.shutdown();\n      }\n    }\n    // So things can be cleaned up by the framework!\n    homeDir.setReadable(true, false);\n\n  }\n\n","sourceOld":"  @Test\n  public void testSolrHomeNotReadable() throws Exception {\n    File homeDir = solrHomeDirectory;\n    setMeUp(homeDir.getAbsolutePath());\n    addCoreWithProps(makeCorePropFile(\"core1\", false, true),\n        new File(homeDir, \"core1\" + File.separator + CorePropertiesLocator.PROPERTIES_FILENAME));\n\n    assumeTrue(\"Cannot make \" + homeDir + \" non-readable. Test aborted.\", homeDir.setReadable(false, false));\n    assumeFalse(\"Appears we are a super user, skip test\", homeDir.canRead());\n    CoreContainer cc = null;\n    try {\n      cc = init();\n      fail(\"Should have thrown an exception here\");\n    } catch (Exception ex) {\n      assertThat(ex.getMessage(), containsString(\"Error reading core root directory\"));\n    } finally {\n      if (cc != null) {\n        cc.shutdown();\n      }\n    }\n    // So things can be cleaned up by the framework!\n    homeDir.setReadable(true, false);\n\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"d301cb76d81de80d07b44735622a04d49ed938eb","date":1500536382,"type":3,"author":"Cao Manh Dat","isMerge":true,"pathNew":"solr/core/src/test/org/apache/solr/core/TestCoreDiscovery#testSolrHomeNotReadable().mjava","pathOld":"solr/core/src/test/org/apache/solr/core/TestCoreDiscovery#testSolrHomeNotReadable().mjava","sourceNew":"  @Test\n  public void testSolrHomeNotReadable() throws Exception {\n    File homeDir = solrHomeDirectory.toFile();\n    setMeUp(homeDir.getAbsolutePath());\n    addCoreWithProps(makeCoreProperties(\"core1\", false, true),\n        new File(homeDir, \"core1\" + File.separator + CorePropertiesLocator.PROPERTIES_FILENAME));\n\n    assumeTrue(\"Cannot make \" + homeDir + \" non-readable. Test aborted.\", homeDir.setReadable(false, false));\n    assumeFalse(\"Appears we are a super user, skip test\", homeDir.canRead());\n    CoreContainer cc = null;\n    try {\n      cc = init();\n      fail(\"Should have thrown an exception here\");\n    } catch (Exception ex) {\n      assertThat(ex.getMessage(), containsString(\"Error reading core root directory\"));\n    } finally {\n      if (cc != null) {\n        cc.shutdown();\n      }\n    }\n    // So things can be cleaned up by the framework!\n    homeDir.setReadable(true, false);\n\n  }\n\n","sourceOld":"  @Test\n  public void testSolrHomeNotReadable() throws Exception {\n    File homeDir = solrHomeDirectory;\n    setMeUp(homeDir.getAbsolutePath());\n    addCoreWithProps(makeCorePropFile(\"core1\", false, true),\n        new File(homeDir, \"core1\" + File.separator + CorePropertiesLocator.PROPERTIES_FILENAME));\n\n    assumeTrue(\"Cannot make \" + homeDir + \" non-readable. Test aborted.\", homeDir.setReadable(false, false));\n    assumeFalse(\"Appears we are a super user, skip test\", homeDir.canRead());\n    CoreContainer cc = null;\n    try {\n      cc = init();\n      fail(\"Should have thrown an exception here\");\n    } catch (Exception ex) {\n      assertThat(ex.getMessage(), containsString(\"Error reading core root directory\"));\n    } finally {\n      if (cc != null) {\n        cc.shutdown();\n      }\n    }\n    // So things can be cleaned up by the framework!\n    homeDir.setReadable(true, false);\n\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"936cdd5882761db3b844afd6f84ab81cbb011a75","date":1500973524,"type":3,"author":"Cao Manh Dat","isMerge":true,"pathNew":"solr/core/src/test/org/apache/solr/core/TestCoreDiscovery#testSolrHomeNotReadable().mjava","pathOld":"solr/core/src/test/org/apache/solr/core/TestCoreDiscovery#testSolrHomeNotReadable().mjava","sourceNew":"  @Test\n  public void testSolrHomeNotReadable() throws Exception {\n    File homeDir = solrHomeDirectory.toFile();\n    setMeUp(homeDir.getAbsolutePath());\n    addCoreWithProps(makeCoreProperties(\"core1\", false, true),\n        new File(homeDir, \"core1\" + File.separator + CorePropertiesLocator.PROPERTIES_FILENAME));\n\n    assumeTrue(\"Cannot make \" + homeDir + \" non-readable. Test aborted.\", homeDir.setReadable(false, false));\n    assumeFalse(\"Appears we are a super user, skip test\", homeDir.canRead());\n    CoreContainer cc = null;\n    try {\n      cc = init();\n      fail(\"Should have thrown an exception here\");\n    } catch (Exception ex) {\n      assertThat(ex.getMessage(), containsString(\"Error reading core root directory\"));\n    } finally {\n      if (cc != null) {\n        cc.shutdown();\n      }\n    }\n    // So things can be cleaned up by the framework!\n    homeDir.setReadable(true, false);\n\n  }\n\n","sourceOld":"  @Test\n  public void testSolrHomeNotReadable() throws Exception {\n    File homeDir = solrHomeDirectory;\n    setMeUp(homeDir.getAbsolutePath());\n    addCoreWithProps(makeCorePropFile(\"core1\", false, true),\n        new File(homeDir, \"core1\" + File.separator + CorePropertiesLocator.PROPERTIES_FILENAME));\n\n    assumeTrue(\"Cannot make \" + homeDir + \" non-readable. Test aborted.\", homeDir.setReadable(false, false));\n    assumeFalse(\"Appears we are a super user, skip test\", homeDir.canRead());\n    CoreContainer cc = null;\n    try {\n      cc = init();\n      fail(\"Should have thrown an exception here\");\n    } catch (Exception ex) {\n      assertThat(ex.getMessage(), containsString(\"Error reading core root directory\"));\n    } finally {\n      if (cc != null) {\n        cc.shutdown();\n      }\n    }\n    // So things can be cleaned up by the framework!\n    homeDir.setReadable(true, false);\n\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"68cb00b5f16300efa7bd172de723d9ac91d38cc2","date":1543702774,"type":3,"author":"Jason Gerlowski","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/core/TestCoreDiscovery#testSolrHomeNotReadable().mjava","pathOld":"solr/core/src/test/org/apache/solr/core/TestCoreDiscovery#testSolrHomeNotReadable().mjava","sourceNew":"  @Test\n  public void testSolrHomeNotReadable() throws Exception {\n    File homeDir = solrHomeDirectory.toFile();\n    setMeUp(homeDir.getAbsolutePath());\n    addCoreWithProps(makeCoreProperties(\"core1\", false, true),\n        new File(homeDir, \"core1\" + File.separator + CorePropertiesLocator.PROPERTIES_FILENAME));\n\n    assumeTrue(\"Cannot make \" + homeDir + \" non-readable. Test aborted.\", homeDir.setReadable(false, false));\n    assumeFalse(\"Appears we are a super user, skip test\", homeDir.canRead());\n    Exception thrown = expectThrows(Exception.class, () -> {\n      CoreContainer cc = null;\n      try { cc = init(); }\n      finally { if (cc != null) cc.shutdown(); }\n    });\n    assertThat(thrown.getMessage(), containsString(\"Error reading core root directory\"));\n    // So things can be cleaned up by the framework!\n    homeDir.setReadable(true, false);\n\n  }\n\n","sourceOld":"  @Test\n  public void testSolrHomeNotReadable() throws Exception {\n    File homeDir = solrHomeDirectory.toFile();\n    setMeUp(homeDir.getAbsolutePath());\n    addCoreWithProps(makeCoreProperties(\"core1\", false, true),\n        new File(homeDir, \"core1\" + File.separator + CorePropertiesLocator.PROPERTIES_FILENAME));\n\n    assumeTrue(\"Cannot make \" + homeDir + \" non-readable. Test aborted.\", homeDir.setReadable(false, false));\n    assumeFalse(\"Appears we are a super user, skip test\", homeDir.canRead());\n    CoreContainer cc = null;\n    try {\n      cc = init();\n      fail(\"Should have thrown an exception here\");\n    } catch (Exception ex) {\n      assertThat(ex.getMessage(), containsString(\"Error reading core root directory\"));\n    } finally {\n      if (cc != null) {\n        cc.shutdown();\n      }\n    }\n    // So things can be cleaned up by the framework!\n    homeDir.setReadable(true, false);\n\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"d5e1fdb2f4f60897cf8fadced7b8a4321c838c47":["bfff642564a0bd7d0848b5e8146a64f7623f6612"],"bfff642564a0bd7d0848b5e8146a64f7623f6612":["c52212005e468bcee3f7dd2bd5319cd1ec0d9ce9"],"d301cb76d81de80d07b44735622a04d49ed938eb":["d5e1fdb2f4f60897cf8fadced7b8a4321c838c47","bd7a2b4785d366164d3cd69f9948de6ff34d23a1"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"936cdd5882761db3b844afd6f84ab81cbb011a75":["d5e1fdb2f4f60897cf8fadced7b8a4321c838c47","d301cb76d81de80d07b44735622a04d49ed938eb"],"68cb00b5f16300efa7bd172de723d9ac91d38cc2":["d301cb76d81de80d07b44735622a04d49ed938eb"],"c52212005e468bcee3f7dd2bd5319cd1ec0d9ce9":["429eefa8bf427c2fbc5d85905fea54b2f76081f5"],"bd7a2b4785d366164d3cd69f9948de6ff34d23a1":["d5e1fdb2f4f60897cf8fadced7b8a4321c838c47"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["68cb00b5f16300efa7bd172de723d9ac91d38cc2"],"429eefa8bf427c2fbc5d85905fea54b2f76081f5":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"d5e1fdb2f4f60897cf8fadced7b8a4321c838c47":["d301cb76d81de80d07b44735622a04d49ed938eb","936cdd5882761db3b844afd6f84ab81cbb011a75","bd7a2b4785d366164d3cd69f9948de6ff34d23a1"],"bfff642564a0bd7d0848b5e8146a64f7623f6612":["d5e1fdb2f4f60897cf8fadced7b8a4321c838c47"],"d301cb76d81de80d07b44735622a04d49ed938eb":["936cdd5882761db3b844afd6f84ab81cbb011a75","68cb00b5f16300efa7bd172de723d9ac91d38cc2"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["429eefa8bf427c2fbc5d85905fea54b2f76081f5"],"936cdd5882761db3b844afd6f84ab81cbb011a75":[],"68cb00b5f16300efa7bd172de723d9ac91d38cc2":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"c52212005e468bcee3f7dd2bd5319cd1ec0d9ce9":["bfff642564a0bd7d0848b5e8146a64f7623f6612"],"bd7a2b4785d366164d3cd69f9948de6ff34d23a1":["d301cb76d81de80d07b44735622a04d49ed938eb"],"429eefa8bf427c2fbc5d85905fea54b2f76081f5":["c52212005e468bcee3f7dd2bd5319cd1ec0d9ce9"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["936cdd5882761db3b844afd6f84ab81cbb011a75","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}