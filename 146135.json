{"path":"lucene/benchmark/src/test/org/apache/lucene/benchmark/byTask/feeds/TrecContentSourceTest#testMissingDate().mjava","commits":[{"id":"b89678825b68eccaf09e6ab71675fc0b0af1e099","date":1334669779,"type":1,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/benchmark/src/test/org/apache/lucene/benchmark/byTask/feeds/TrecContentSourceTest#testMissingDate().mjava","pathOld":"modules/benchmark/src/test/org/apache/lucene/benchmark/byTask/feeds/TrecContentSourceTest#testMissingDate().mjava","sourceNew":"  // If a Date: attribute is missing, make sure the document is not skipped, but\n  // rather that null Data is assigned.\n  public void testMissingDate() throws Exception {\n    String docs = \"<DOC>\\r\\n\" + \n                  \"<DOCNO>TEST-000</DOCNO>\\r\\n\" + \n                  \"<DOCHDR>\\r\\n\" + \n                  \"http://lucene.apache.org.trecdocmaker.test\\r\\n\" + \n                  \"HTTP/1.1 200 OK\\r\\n\" + \n                  \"Server: Apache/1.3.27 (Unix)\\r\\n\" + \n                  \"Last-Modified: Sun, 11 Jan 2009 08:00:00 GMT\\r\\n\" + \n                  \"Content-Length: 614\\r\\n\" + \n                  \"Connection: close\\r\\n\" + \n                  \"Content-Type: text/html\\r\\n\" + \n                  \"</DOCHDR>\\r\\n\" + \n                  \"<html>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"<head>\\r\\n\" + \n                  \"<title>\\r\\n\" + \n                  \"TEST-000 title\\r\\n\" + \n                  \"</title>\\r\\n\" + \n                  \"</head>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"<body>\\r\\n\" + \n                  \"TEST-000 text\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"</body>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"</DOC>\\r\\n\" +\n                  \"<DOC>\\r\\n\" + \n                  \"<DOCNO>TEST-001</DOCNO>\\r\\n\" + \n                  \"<DOCHDR>\\r\\n\" + \n                  \"http://lucene.apache.org.trecdocmaker.test\\r\\n\" + \n                  \"HTTP/1.1 200 OK\\r\\n\" + \n                  \"Date: Sun, 11 Jan 2009 08:01:00 GMT\\r\\n\" + \n                  \"Server: Apache/1.3.27 (Unix)\\r\\n\" + \n                  \"Last-Modified: Sun, 11 Jan 2009 08:01:00 GMT\\r\\n\" + \n                  \"Content-Length: 614\\r\\n\" + \n                  \"Connection: close\\r\\n\" + \n                  \"Content-Type: text/html\\r\\n\" + \n                  \"</DOCHDR>\\r\\n\" + \n                  \"<html>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"<head>\\r\\n\" + \n                  \"<title>\\r\\n\" + \n                  \"TEST-001 title\\r\\n\" + \n                  \"</title>\\r\\n\" + \n                  \"</head>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"<body>\\r\\n\" + \n                  \"TEST-001 text\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"</body>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"</DOC>\";\n    StringableTrecSource source = new StringableTrecSource(docs, false);\n    source.setConfig(null);\n\n    DocData dd = source.getNextDocData(new DocData());\n    assertDocData(dd, \"TEST-000_0\", \"TEST-000 title\", \"TEST-000 text\", null);\n    \n    dd = source.getNextDocData(dd);\n    assertDocData(dd, \"TEST-001_0\", \"TEST-001 title\", \"TEST-001 text\", source\n        .parseDate(\"Sun, 11 Jan 2009 08:01:00 GMT\"));\n    \n    assertNoMoreDataException(source);\n  }\n\n","sourceOld":"  // If a Date: attribute is missing, make sure the document is not skipped, but\n  // rather that null Data is assigned.\n  public void testMissingDate() throws Exception {\n    String docs = \"<DOC>\\r\\n\" + \n                  \"<DOCNO>TEST-000</DOCNO>\\r\\n\" + \n                  \"<DOCHDR>\\r\\n\" + \n                  \"http://lucene.apache.org.trecdocmaker.test\\r\\n\" + \n                  \"HTTP/1.1 200 OK\\r\\n\" + \n                  \"Server: Apache/1.3.27 (Unix)\\r\\n\" + \n                  \"Last-Modified: Sun, 11 Jan 2009 08:00:00 GMT\\r\\n\" + \n                  \"Content-Length: 614\\r\\n\" + \n                  \"Connection: close\\r\\n\" + \n                  \"Content-Type: text/html\\r\\n\" + \n                  \"</DOCHDR>\\r\\n\" + \n                  \"<html>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"<head>\\r\\n\" + \n                  \"<title>\\r\\n\" + \n                  \"TEST-000 title\\r\\n\" + \n                  \"</title>\\r\\n\" + \n                  \"</head>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"<body>\\r\\n\" + \n                  \"TEST-000 text\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"</body>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"</DOC>\\r\\n\" +\n                  \"<DOC>\\r\\n\" + \n                  \"<DOCNO>TEST-001</DOCNO>\\r\\n\" + \n                  \"<DOCHDR>\\r\\n\" + \n                  \"http://lucene.apache.org.trecdocmaker.test\\r\\n\" + \n                  \"HTTP/1.1 200 OK\\r\\n\" + \n                  \"Date: Sun, 11 Jan 2009 08:01:00 GMT\\r\\n\" + \n                  \"Server: Apache/1.3.27 (Unix)\\r\\n\" + \n                  \"Last-Modified: Sun, 11 Jan 2009 08:01:00 GMT\\r\\n\" + \n                  \"Content-Length: 614\\r\\n\" + \n                  \"Connection: close\\r\\n\" + \n                  \"Content-Type: text/html\\r\\n\" + \n                  \"</DOCHDR>\\r\\n\" + \n                  \"<html>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"<head>\\r\\n\" + \n                  \"<title>\\r\\n\" + \n                  \"TEST-001 title\\r\\n\" + \n                  \"</title>\\r\\n\" + \n                  \"</head>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"<body>\\r\\n\" + \n                  \"TEST-001 text\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"</body>\\r\\n\" + \n                  \"\\r\\n\" + \n                  \"</DOC>\";\n    StringableTrecSource source = new StringableTrecSource(docs, false);\n    source.setConfig(null);\n\n    DocData dd = source.getNextDocData(new DocData());\n    assertDocData(dd, \"TEST-000_0\", \"TEST-000 title\", \"TEST-000 text\", null);\n    \n    dd = source.getNextDocData(dd);\n    assertDocData(dd, \"TEST-001_0\", \"TEST-001 title\", \"TEST-001 text\", source\n        .parseDate(\"Sun, 11 Jan 2009 08:01:00 GMT\"));\n    \n    assertNoMoreDataException(source);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"b89678825b68eccaf09e6ab71675fc0b0af1e099":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["b89678825b68eccaf09e6ab71675fc0b0af1e099"]},"commit2Childs":{"b89678825b68eccaf09e6ab71675fc0b0af1e099":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["b89678825b68eccaf09e6ab71675fc0b0af1e099"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}