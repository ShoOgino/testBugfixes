{"path":"solr/test-framework/src/java/org/apache/solr/SolrTestCaseJ4#getSSLConfig().mjava","commits":[{"id":"57641b2e9dc6155be493cfb6ae9b8a9c8ceffa72","date":1391985588,"type":1,"author":"Mark Robert Miller","isMerge":false,"pathNew":"solr/test-framework/src/java/org/apache/solr/SolrTestCaseJ4#getSSLConfig().mjava","pathOld":"solr/test-framework/src/java/org/apache/solr/SolrJettyTestBase#getSSLConfig().mjava","sourceNew":"  private static SSLConfig getSSLConfig() {\n    // test has disabled\n    if (sslConfig == null) {\n      SSLConfig sslConfig = new SSLConfig();\n      return sslConfig;\n    }\n    \n    // only randomize SSL if we are a solr test with access to the example keystore\n    if (null == getExampleKeystoreFile()) {\n      log.info(\"Solr's example keystore not defined (not a solr test?) skipping SSL randomization\");\n      return null;\n    }\n\n    assertTrue(\"test keystore does not exist, randomized ssl testing broken: \" +\n               getExampleKeystoreFile().getAbsolutePath(), \n               getExampleKeystoreFile().exists() );\n    \n    SSLConfig sslConfig = new SSLConfig();\n    \n    final boolean trySsl = random().nextBoolean();\n    final boolean trySslClientAuth = false; // TODO: random().nextBoolean();\n    \n    log.info(\"Randomized ssl ({}) and clientAuth ({})\", trySsl,\n        trySslClientAuth);\n    String keystorePath = null == TEST_KEYSTORE ? null : TEST_KEYSTORE\n        .getAbsolutePath();\n    initSSLConfig(sslConfig, keystorePath);\n    \n    sslConfig.useSsl = trySsl;\n    sslConfig.clientAuth = trySslClientAuth;\n    \n    return sslConfig;\n  }\n\n","sourceOld":"  public static SSLConfig getSSLConfig() {\n    SSLConfig sslConfig = new SSLConfig();\n    \n    final boolean trySsl = random().nextBoolean();\n    final boolean trySslClientAuth = random().nextBoolean();\n    \n    log.info(\"Randomized ssl ({}) and clientAuth ({})\", trySsl,\n        trySslClientAuth);\n    String keystorePath = null == TEST_KEYSTORE ? null : TEST_KEYSTORE\n        .getAbsolutePath();\n    initSSLConfig(sslConfig, keystorePath);\n    \n    sslConfig.useSsl = trySsl;\n    sslConfig.clientAuth = trySslClientAuth;\n    \n    initSSLConfig(sslConfig, keystorePath);\n    return sslConfig;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"9dee311b2816356910363a8d15fc076caf6367eb","date":1392012517,"type":4,"author":"Mark Robert Miller","isMerge":false,"pathNew":"/dev/null","pathOld":"solr/test-framework/src/java/org/apache/solr/SolrTestCaseJ4#getSSLConfig().mjava","sourceNew":null,"sourceOld":"  private static SSLConfig getSSLConfig() {\n    // test has disabled\n    if (sslConfig == null) {\n      SSLConfig sslConfig = new SSLConfig();\n      return sslConfig;\n    }\n    \n    // only randomize SSL if we are a solr test with access to the example keystore\n    if (null == getExampleKeystoreFile()) {\n      log.info(\"Solr's example keystore not defined (not a solr test?) skipping SSL randomization\");\n      return null;\n    }\n\n    assertTrue(\"test keystore does not exist, randomized ssl testing broken: \" +\n               getExampleKeystoreFile().getAbsolutePath(), \n               getExampleKeystoreFile().exists() );\n    \n    SSLConfig sslConfig = new SSLConfig();\n    \n    final boolean trySsl = random().nextBoolean();\n    final boolean trySslClientAuth = false; // TODO: random().nextBoolean();\n    \n    log.info(\"Randomized ssl ({}) and clientAuth ({})\", trySsl,\n        trySslClientAuth);\n    String keystorePath = null == TEST_KEYSTORE ? null : TEST_KEYSTORE\n        .getAbsolutePath();\n    initSSLConfig(sslConfig, keystorePath);\n    \n    sslConfig.useSsl = trySsl;\n    sslConfig.clientAuth = trySslClientAuth;\n    \n    return sslConfig;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"57641b2e9dc6155be493cfb6ae9b8a9c8ceffa72":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"9dee311b2816356910363a8d15fc076caf6367eb":["57641b2e9dc6155be493cfb6ae9b8a9c8ceffa72"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["9dee311b2816356910363a8d15fc076caf6367eb"]},"commit2Childs":{"57641b2e9dc6155be493cfb6ae9b8a9c8ceffa72":["9dee311b2816356910363a8d15fc076caf6367eb"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["57641b2e9dc6155be493cfb6ae9b8a9c8ceffa72"],"9dee311b2816356910363a8d15fc076caf6367eb":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}