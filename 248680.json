{"path":"solr/contrib/langid/src/test/org/apache/solr/update/processor/TikaLanguageIdentifierUpdateProcessorFactoryTest#testMaxFieldValueChars().mjava","commits":[{"id":"3ff1a276d1c94e9393032df34ad607eda09ee3a6","date":1417803750,"type":0,"author":"Steven Rowe","isMerge":false,"pathNew":"solr/contrib/langid/src/test/org/apache/solr/update/processor/TikaLanguageIdentifierUpdateProcessorFactoryTest#testMaxFieldValueChars().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testMaxFieldValueChars() throws Exception {\n    SolrInputDocument doc = new SolrInputDocument();\n    String valueF1 = \"Apache Lucene is a free/open source information retrieval software library, originally created in Java by Doug Cutting. It is supported by the Apache Software Foundation and is released under the Apache Software License.\";\n    String valueF2 = \"An open-source search server based on the Lucene Java search library. News, documentation, resources, and download.\";\n    doc.addField(\"foo_s\", valueF1);\n\n    ModifiableSolrParams parameters = new ModifiableSolrParams();\n    parameters.add(\"langid.fl\", \"foo_s\");\n    parameters.add(\"langid.langField\", \"language\");\n    parameters.add(\"langid.enforceSchema\", \"false\");\n    TikaLanguageIdentifierUpdateProcessor p = (TikaLanguageIdentifierUpdateProcessor) createLangIdProcessor(parameters);\n    assertEquals(valueF1, p.concatFields(doc).trim());\n\n    parameters = new ModifiableSolrParams();\n    parameters.add(\"langid.fl\", \"foo_s\");\n    parameters.add(\"langid.langField\", \"language\");\n    parameters.add(\"langid.enforceSchema\", \"false\");\n    parameters.add(\"langid.maxFieldValueChars\", \"6\");\n    p = (TikaLanguageIdentifierUpdateProcessor) createLangIdProcessor(parameters);\n    assertEquals(\"Apache\", p.concatFields(doc).trim());\n\n    doc.addField(\"bar_s\", valueF2);\n\n    parameters = new ModifiableSolrParams();\n    parameters.add(\"langid.fl\", \"foo_s,bar_s\");\n    parameters.add(\"langid.langField\", \"language\");\n    parameters.add(\"langid.enforceSchema\", \"false\");\n    p = (TikaLanguageIdentifierUpdateProcessor) createLangIdProcessor(parameters);\n    assertEquals(valueF1 + \" \" + valueF2, p.concatFields(doc).trim());\n\n    parameters = new ModifiableSolrParams();\n    parameters.add(\"langid.fl\", \"foo_s,bar_s\");\n    parameters.add(\"langid.langField\", \"language\");\n    parameters.add(\"langid.enforceSchema\", \"false\");\n    parameters.add(\"langid.maxFieldValueChars\", \"6\");\n    p = (TikaLanguageIdentifierUpdateProcessor) createLangIdProcessor(parameters);\n    assertEquals(\"Apache\" + \" \" + \"An ope\", p.concatFields(doc).trim());\n\n    parameters = new ModifiableSolrParams();\n    parameters.add(\"langid.fl\", \"foo_s,bar_s\");\n    parameters.add(\"langid.langField\", \"language\");\n    parameters.add(\"langid.enforceSchema\", \"false\");\n    parameters.add(\"langid.maxFieldValueChars\", \"100000\");\n    p = (TikaLanguageIdentifierUpdateProcessor) createLangIdProcessor(parameters);\n    assertEquals(valueF1 + \" \" + valueF2, p.concatFields(doc).trim());\n\n}\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"3ff1a276d1c94e9393032df34ad607eda09ee3a6":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["3ff1a276d1c94e9393032df34ad607eda09ee3a6"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["3ff1a276d1c94e9393032df34ad607eda09ee3a6"],"3ff1a276d1c94e9393032df34ad607eda09ee3a6":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}