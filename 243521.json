{"path":"lucene/facet/src/test/org/apache/lucene/facet/FacetTestBase#getFacetIndexingParams(int,boolean).mjava","commits":[{"id":"239f79ed06f0979cfe1911ec5fba32b94fda43c1","date":1359553898,"type":0,"author":"Shai Erera","isMerge":false,"pathNew":"lucene/facet/src/test/org/apache/lucene/facet/FacetTestBase#getFacetIndexingParams(int,boolean).mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Returns a {@link FacetIndexingParams} per the given partition size. If\n   * requested, then {@link OrdinalPolicy} will be set to\n   * {@link OrdinalPolicy#ALL_PARENTS}, otherwise it will randomize.\n   */\n  protected FacetIndexingParams getFacetIndexingParams(final int partSize, final boolean forceAllParents) {\n    FacetIndexingParams fip = fipPerPartitionSize.get(partSize);\n    if (fip == null) {\n      // randomize OrdinalPolicy. Since not all Collectors / Accumulators\n      // support NO_PARENTS, don't include it.\n      // TODO: once all code paths support NO_PARENTS, randomize it too.\n      CategoryListParams randomOP = new CategoryListParams() {\n        final OrdinalPolicy op = random().nextBoolean() ? OrdinalPolicy.ALL_BUT_DIMENSION : OrdinalPolicy.ALL_PARENTS;\n        @Override\n        public OrdinalPolicy getOrdinalPolicy(String dimension) {\n          return forceAllParents ? OrdinalPolicy.ALL_PARENTS : op;\n        }\n      };\n      \n      // several of our encoders don't support the value 0, \n      // which is one of the values encoded when dealing w/ partitions,\n      // therefore don't randomize the encoder.\n      fip = new FacetIndexingParams(randomOP) {\n        @Override\n        public int getPartitionSize() {\n          return partSize;\n        }\n      };\n      fipPerPartitionSize.put(partSize, fip);\n    }\n    return fip;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"61d5f95d14e5b9b046998c51e16709a398c15226","date":1359603451,"type":0,"author":"Robert Muir","isMerge":true,"pathNew":"lucene/facet/src/test/org/apache/lucene/facet/FacetTestBase#getFacetIndexingParams(int,boolean).mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Returns a {@link FacetIndexingParams} per the given partition size. If\n   * requested, then {@link OrdinalPolicy} will be set to\n   * {@link OrdinalPolicy#ALL_PARENTS}, otherwise it will randomize.\n   */\n  protected FacetIndexingParams getFacetIndexingParams(final int partSize, final boolean forceAllParents) {\n    FacetIndexingParams fip = fipPerPartitionSize.get(partSize);\n    if (fip == null) {\n      // randomize OrdinalPolicy. Since not all Collectors / Accumulators\n      // support NO_PARENTS, don't include it.\n      // TODO: once all code paths support NO_PARENTS, randomize it too.\n      CategoryListParams randomOP = new CategoryListParams() {\n        final OrdinalPolicy op = random().nextBoolean() ? OrdinalPolicy.ALL_BUT_DIMENSION : OrdinalPolicy.ALL_PARENTS;\n        @Override\n        public OrdinalPolicy getOrdinalPolicy(String dimension) {\n          return forceAllParents ? OrdinalPolicy.ALL_PARENTS : op;\n        }\n      };\n      \n      // several of our encoders don't support the value 0, \n      // which is one of the values encoded when dealing w/ partitions,\n      // therefore don't randomize the encoder.\n      fip = new FacetIndexingParams(randomOP) {\n        @Override\n        public int getPartitionSize() {\n          return partSize;\n        }\n      };\n      fipPerPartitionSize.put(partSize, fip);\n    }\n    return fip;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"d33e19a97046248623a7591aeaa6547233fd15e2","date":1385424777,"type":4,"author":"Michael McCandless","isMerge":false,"pathNew":"/dev/null","pathOld":"lucene/facet/src/test/org/apache/lucene/facet/FacetTestBase#getFacetIndexingParams(int,boolean).mjava","sourceNew":null,"sourceOld":"  /**\n   * Returns a {@link FacetIndexingParams} per the given partition size. If\n   * requested, then {@link OrdinalPolicy} will be set to\n   * {@link OrdinalPolicy#ALL_PARENTS}, otherwise it will randomize.\n   */\n  protected FacetIndexingParams getFacetIndexingParams(final int partSize, final boolean forceAllParents) {\n    FacetIndexingParams fip = fipPerPartitionSize.get(partSize);\n    if (fip == null) {\n      // randomize OrdinalPolicy. Since not all Collectors / Accumulators\n      // support NO_PARENTS, don't include it.\n      // TODO: once all code paths support NO_PARENTS, randomize it too.\n      CategoryListParams randomOP = new CategoryListParams() {\n        final OrdinalPolicy op = random().nextBoolean() ? OrdinalPolicy.ALL_BUT_DIMENSION : OrdinalPolicy.ALL_PARENTS;\n        @Override\n        public OrdinalPolicy getOrdinalPolicy(String dimension) {\n          return forceAllParents ? OrdinalPolicy.ALL_PARENTS : op;\n        }\n      };\n      \n      // several of our encoders don't support the value 0, \n      // which is one of the values encoded when dealing w/ partitions,\n      // therefore don't randomize the encoder.\n      fip = new FacetIndexingParams(randomOP) {\n        @Override\n        public int getPartitionSize() {\n          return partSize;\n        }\n      };\n      fipPerPartitionSize.put(partSize, fip);\n    }\n    return fip;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"3cc728b07df73b197e6d940d27f9b08b63918f13","date":1388834348,"type":4,"author":"Michael McCandless","isMerge":true,"pathNew":"/dev/null","pathOld":"lucene/facet/src/test/org/apache/lucene/facet/FacetTestBase#getFacetIndexingParams(int,boolean).mjava","sourceNew":null,"sourceOld":"  /**\n   * Returns a {@link FacetIndexingParams} per the given partition size. If\n   * requested, then {@link OrdinalPolicy} will be set to\n   * {@link OrdinalPolicy#ALL_PARENTS}, otherwise it will randomize.\n   */\n  protected FacetIndexingParams getFacetIndexingParams(final int partSize, final boolean forceAllParents) {\n    FacetIndexingParams fip = fipPerPartitionSize.get(partSize);\n    if (fip == null) {\n      // randomize OrdinalPolicy. Since not all Collectors / Accumulators\n      // support NO_PARENTS, don't include it.\n      // TODO: once all code paths support NO_PARENTS, randomize it too.\n      CategoryListParams randomOP = new CategoryListParams() {\n        final OrdinalPolicy op = random().nextBoolean() ? OrdinalPolicy.ALL_BUT_DIMENSION : OrdinalPolicy.ALL_PARENTS;\n        @Override\n        public OrdinalPolicy getOrdinalPolicy(String dimension) {\n          return forceAllParents ? OrdinalPolicy.ALL_PARENTS : op;\n        }\n      };\n      \n      // several of our encoders don't support the value 0, \n      // which is one of the values encoded when dealing w/ partitions,\n      // therefore don't randomize the encoder.\n      fip = new FacetIndexingParams(randomOP) {\n        @Override\n        public int getPartitionSize() {\n          return partSize;\n        }\n      };\n      fipPerPartitionSize.put(partSize, fip);\n    }\n    return fip;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"d33e19a97046248623a7591aeaa6547233fd15e2":["239f79ed06f0979cfe1911ec5fba32b94fda43c1"],"61d5f95d14e5b9b046998c51e16709a398c15226":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","239f79ed06f0979cfe1911ec5fba32b94fda43c1"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"239f79ed06f0979cfe1911ec5fba32b94fda43c1":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"3cc728b07df73b197e6d940d27f9b08b63918f13":["239f79ed06f0979cfe1911ec5fba32b94fda43c1","d33e19a97046248623a7591aeaa6547233fd15e2"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["3cc728b07df73b197e6d940d27f9b08b63918f13"]},"commit2Childs":{"d33e19a97046248623a7591aeaa6547233fd15e2":["3cc728b07df73b197e6d940d27f9b08b63918f13"],"61d5f95d14e5b9b046998c51e16709a398c15226":[],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["61d5f95d14e5b9b046998c51e16709a398c15226","239f79ed06f0979cfe1911ec5fba32b94fda43c1"],"239f79ed06f0979cfe1911ec5fba32b94fda43c1":["d33e19a97046248623a7591aeaa6547233fd15e2","61d5f95d14e5b9b046998c51e16709a398c15226","3cc728b07df73b197e6d940d27f9b08b63918f13"],"3cc728b07df73b197e6d940d27f9b08b63918f13":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["61d5f95d14e5b9b046998c51e16709a398c15226","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}