{"path":"lucene/core/src/test/org/apache/lucene/util/graph/TestGraphTokenStreamFiniteStrings#testMultipleSidePaths().mjava","commits":[{"id":"7e0d75d7d3cda2b33e79d0eb0e716169cebec4db","date":1486463279,"type":0,"author":"Jim Ferenczi","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/util/graph/TestGraphTokenStreamFiniteStrings#testMultipleSidePaths().mjava","pathOld":"/dev/null","sourceNew":"  public void testMultipleSidePaths() throws Exception {\n    TokenStream ts = new CannedTokenStream(\n        token(\"the\", 1, 1),\n        token(\"ny\", 1, 4),\n        token(\"new\", 0, 1),\n        token(\"york\", 1, 1),\n        token(\"wifi\", 1, 4),\n        token(\"wi\", 0, 1),\n        token(\"fi\", 1, 3),\n        token(\"wifi\", 2, 2),\n        token(\"wi\", 0, 1),\n        token(\"fi\", 1, 1),\n        token(\"network\", 1, 1)\n    );\n    GraphTokenStreamFiniteStrings graph = new GraphTokenStreamFiniteStrings(ts);\n\n    Iterator<TokenStream> it = graph.getFiniteStrings();\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"the\", \"ny\", \"wifi\", \"network\"}, new int[]{1, 1, 2, 1});\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"the\", \"ny\", \"wi\", \"fi\", \"network\"}, new int[]{1, 1, 2, 1, 1});\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"the\", \"new\", \"york\", \"wifi\", \"network\"}, new int[]{1, 1, 1, 1, 1});\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"the\", \"new\", \"york\", \"wi\", \"fi\", \"network\"}, new int[]{1, 1, 1, 1, 1, 1});\n    assertFalse(it.hasNext());\n\n    int[] points = graph.articulationPoints();\n    assertArrayEquals(points, new int[] {1, 7});\n\n    assertFalse(graph.hasSidePath(0));\n    it = graph.getFiniteStrings(0, 1);\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"the\"}, new int[]{1});\n    assertFalse(it.hasNext());\n    Term[] terms = graph.getTerms(\"field\", 0);\n    assertArrayEquals(terms, new Term[] {new Term(\"field\", \"the\")});\n\n    assertTrue(graph.hasSidePath(1));\n    it = graph.getFiniteStrings(1, 7);\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"ny\", \"wifi\"}, new int[]{1, 2});\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"ny\", \"wi\", \"fi\"}, new int[]{1, 2, 1});\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"new\", \"york\", \"wifi\"}, new int[]{1, 1, 1});\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"new\", \"york\", \"wi\", \"fi\"}, new int[]{1, 1, 1, 1});\n    assertFalse(it.hasNext());\n\n    assertFalse(graph.hasSidePath(7));\n    it = graph.getFiniteStrings(7, -1);\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"network\"}, new int[]{1});\n    assertFalse(it.hasNext());\n    terms = graph.getTerms(\"field\", 7);\n    assertArrayEquals(terms, new Term[] {new Term(\"field\", \"network\")});\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":["5d4c0aa821ee9328c0d7a6ba3c682de39e1d7e4a"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"5d4c0aa821ee9328c0d7a6ba3c682de39e1d7e4a","date":1550584577,"type":3,"author":"Alan Woodward","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/util/graph/TestGraphTokenStreamFiniteStrings#testMultipleSidePaths().mjava","pathOld":"lucene/core/src/test/org/apache/lucene/util/graph/TestGraphTokenStreamFiniteStrings#testMultipleSidePaths().mjava","sourceNew":"  public void testMultipleSidePaths() throws Exception {\n    // 0   1        2    3         4    5  6         7  8\n    // the ny:4/new york wifi:5/wi fi:4 [] wifi:2/wi fi network\n    TokenStream ts = new CannedTokenStream(\n        token(\"the\", 1, 1),\n        token(\"ny\", 1, 4),\n        token(\"new\", 0, 1),\n        token(\"york\", 1, 1),\n        token(\"wifi\", 1, 5),\n        token(\"wi\", 0, 1),\n        token(\"fi\", 1, 4),\n        token(\"wifi\", 2, 2),\n        token(\"wi\", 0, 1),\n        token(\"fi\", 1, 1),\n        token(\"network\", 1, 1)\n    );\n    GraphTokenStreamFiniteStrings graph = new GraphTokenStreamFiniteStrings(ts);\n\n    Iterator<TokenStream> it = graph.getFiniteStrings();\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"the\", \"ny\", \"wifi\", \"network\"}, new int[]{1, 1, 2, 1});\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"the\", \"ny\", \"wi\", \"fi\", \"network\"}, new int[]{1, 1, 2, 1, 1});\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"the\", \"new\", \"york\", \"wifi\", \"network\"}, new int[]{1, 1, 1, 1, 1});\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"the\", \"new\", \"york\", \"wi\", \"fi\", \"network\"}, new int[]{1, 1, 1, 1, 1, 1});\n    assertFalse(it.hasNext());\n\n    int[] points = graph.articulationPoints();\n    assertArrayEquals(points, new int[] {1, 7});\n\n    assertFalse(graph.hasSidePath(0));\n    it = graph.getFiniteStrings(0, 1);\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"the\"}, new int[]{1});\n    assertFalse(it.hasNext());\n    Term[] terms = graph.getTerms(\"field\", 0);\n    assertArrayEquals(terms, new Term[] {new Term(\"field\", \"the\")});\n\n    assertTrue(graph.hasSidePath(1));\n    it = graph.getFiniteStrings(1, 7);\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"ny\", \"wifi\"}, new int[]{1, 2});\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"ny\", \"wi\", \"fi\"}, new int[]{1, 2, 1});\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"new\", \"york\", \"wifi\"}, new int[]{1, 1, 1});\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"new\", \"york\", \"wi\", \"fi\"}, new int[]{1, 1, 1, 1});\n    assertFalse(it.hasNext());\n\n    assertFalse(graph.hasSidePath(7));\n    it = graph.getFiniteStrings(7, -1);\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"network\"}, new int[]{1});\n    assertFalse(it.hasNext());\n    terms = graph.getTerms(\"field\", 7);\n    assertArrayEquals(terms, new Term[] {new Term(\"field\", \"network\")});\n  }\n\n","sourceOld":"  public void testMultipleSidePaths() throws Exception {\n    TokenStream ts = new CannedTokenStream(\n        token(\"the\", 1, 1),\n        token(\"ny\", 1, 4),\n        token(\"new\", 0, 1),\n        token(\"york\", 1, 1),\n        token(\"wifi\", 1, 4),\n        token(\"wi\", 0, 1),\n        token(\"fi\", 1, 3),\n        token(\"wifi\", 2, 2),\n        token(\"wi\", 0, 1),\n        token(\"fi\", 1, 1),\n        token(\"network\", 1, 1)\n    );\n    GraphTokenStreamFiniteStrings graph = new GraphTokenStreamFiniteStrings(ts);\n\n    Iterator<TokenStream> it = graph.getFiniteStrings();\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"the\", \"ny\", \"wifi\", \"network\"}, new int[]{1, 1, 2, 1});\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"the\", \"ny\", \"wi\", \"fi\", \"network\"}, new int[]{1, 1, 2, 1, 1});\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"the\", \"new\", \"york\", \"wifi\", \"network\"}, new int[]{1, 1, 1, 1, 1});\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"the\", \"new\", \"york\", \"wi\", \"fi\", \"network\"}, new int[]{1, 1, 1, 1, 1, 1});\n    assertFalse(it.hasNext());\n\n    int[] points = graph.articulationPoints();\n    assertArrayEquals(points, new int[] {1, 7});\n\n    assertFalse(graph.hasSidePath(0));\n    it = graph.getFiniteStrings(0, 1);\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"the\"}, new int[]{1});\n    assertFalse(it.hasNext());\n    Term[] terms = graph.getTerms(\"field\", 0);\n    assertArrayEquals(terms, new Term[] {new Term(\"field\", \"the\")});\n\n    assertTrue(graph.hasSidePath(1));\n    it = graph.getFiniteStrings(1, 7);\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"ny\", \"wifi\"}, new int[]{1, 2});\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"ny\", \"wi\", \"fi\"}, new int[]{1, 2, 1});\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"new\", \"york\", \"wifi\"}, new int[]{1, 1, 1});\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"new\", \"york\", \"wi\", \"fi\"}, new int[]{1, 1, 1, 1});\n    assertFalse(it.hasNext());\n\n    assertFalse(graph.hasSidePath(7));\n    it = graph.getFiniteStrings(7, -1);\n    assertTrue(it.hasNext());\n    assertTokenStream(it.next(), new String[]{\"network\"}, new int[]{1});\n    assertFalse(it.hasNext());\n    terms = graph.getTerms(\"field\", 7);\n    assertArrayEquals(terms, new Term[] {new Term(\"field\", \"network\")});\n  }\n\n","bugFix":["7e0d75d7d3cda2b33e79d0eb0e716169cebec4db"],"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"5d4c0aa821ee9328c0d7a6ba3c682de39e1d7e4a":["7e0d75d7d3cda2b33e79d0eb0e716169cebec4db"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["5d4c0aa821ee9328c0d7a6ba3c682de39e1d7e4a"],"7e0d75d7d3cda2b33e79d0eb0e716169cebec4db":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"5d4c0aa821ee9328c0d7a6ba3c682de39e1d7e4a":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["7e0d75d7d3cda2b33e79d0eb0e716169cebec4db"],"7e0d75d7d3cda2b33e79d0eb0e716169cebec4db":["5d4c0aa821ee9328c0d7a6ba3c682de39e1d7e4a"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}