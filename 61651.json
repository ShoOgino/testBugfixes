{"path":"sandbox/contributions/XML-Indexing-Demo/src/java/org/apache/lucenesandbox/xmlindexingdemo/XMLDocumentHandlerDOM#traverseTree(Node,org.apache.lucene.document.Document).mjava","commits":[{"id":"8c7ebc820e10871ab86ee5e759583481ab526e45","date":1024671771,"type":0,"author":"Otis Gospodnetic","isMerge":false,"pathNew":"sandbox/contributions/XML-Indexing-Demo/src/java/org/apache/lucenesandbox/xmlindexingdemo/XMLDocumentHandlerDOM#traverseTree(Node,org.apache.lucene.document.Document).mjava","pathOld":"/dev/null","sourceNew":"    static private void traverseTree(Node node, org.apache.lucene.document.Document document)\n    {\n\tNodeList nl = node.getChildNodes();\n\tif (nl.getLength() == 0)\n        {\n\t    if (node.getNodeType() == Node.TEXT_NODE)\n\t    {\n\t\tNode parentNode = node.getParentNode();\n\t\tif (parentNode.getNodeType() == Node.ELEMENT_NODE)\n                {\n\t\t    String parentNodeName = parentNode.getNodeName();\n// \t\t    String nodeValue = node.getNodeValue();\n// \t\t    if (parentNodeName.equals(\"name\"))\n// \t\t    {\n\t\t\tNode siblingNode = node.getNextSibling();\n\t\t\tif (siblingNode != null)\n                        {\n\t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n\t\t\t    {\n\t\t\t\tdocument.add(Field.Text(\"name\", siblingNode.getNodeValue()));\n\t\t\t    }\n \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"profession\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n//                         {\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n//                             {\n// \t\t\t\tdocument.add(Field.Text([arentNodeName, siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName == \"addressLine1\")\n//                     {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif(siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t            {\n// \t\t\t\tdocument.add(Field.Text(\"addressLine1\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"addressLine2\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"addressLine2\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    if (parentNodeName.equals(\"city\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n//                         {\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"city\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"zip\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"zip\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"state\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"state\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"country\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"country\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n\t\t}\n\t    }\n        }\n        else\n        {\n\t    for(int i=0; i<nl.getLength(); i++)\n            {\n\t\ttraverseTree(nl.item(i), document);\n\t    }\n        }\n    }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"8c6c290715b9efd89b8987b1fa14a98e20e6623d","date":1073830339,"type":3,"author":"Erik Hatcher","isMerge":false,"pathNew":"sandbox/contributions/XML-Indexing-Demo/src/java/org/apache/lucenesandbox/xmlindexingdemo/XMLDocumentHandlerDOM#traverseTree(Node,org.apache.lucene.document.Document).mjava","pathOld":"sandbox/contributions/XML-Indexing-Demo/src/java/org/apache/lucenesandbox/xmlindexingdemo/XMLDocumentHandlerDOM#traverseTree(Node,org.apache.lucene.document.Document).mjava","sourceNew":"  static private void traverseTree(Node node, org.apache.lucene.document.Document document) {\n    NodeList nl = node.getChildNodes();\n    if (nl.getLength() == 0) {\n      if (node.getNodeType() == Node.TEXT_NODE) {\n        Node parentNode = node.getParentNode();\n        if (parentNode.getNodeType() == Node.ELEMENT_NODE) {\n//\t\t    String parentNodeName = parentNode.getNodeName();\n// \t\t    String nodeValue = node.getNodeValue();\n// \t\t    if (parentNodeName.equals(\"name\"))\n// \t\t    {\n          Node siblingNode = node.getNextSibling();\n          if (siblingNode != null) {\n            if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE) {\n              document.add(Field.Text(\"name\", siblingNode.getNodeValue()));\n            }\n          }\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"profession\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n//                         {\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n//                             {\n// \t\t\t\tdocument.add(Field.Text([arentNodeName, siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName == \"addressLine1\")\n//                     {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif(siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t            {\n// \t\t\t\tdocument.add(Field.Text(\"addressLine1\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"addressLine2\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"addressLine2\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    if (parentNodeName.equals(\"city\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n//                         {\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"city\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"zip\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"zip\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"state\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"state\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"country\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"country\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n        }\n      }\n    } else {\n      for (int i = 0; i < nl.getLength(); i++) {\n        traverseTree(nl.item(i), document);\n      }\n    }\n  }\n\n","sourceOld":"    static private void traverseTree(Node node, org.apache.lucene.document.Document document)\n    {\n\tNodeList nl = node.getChildNodes();\n\tif (nl.getLength() == 0)\n        {\n\t    if (node.getNodeType() == Node.TEXT_NODE)\n\t    {\n\t\tNode parentNode = node.getParentNode();\n\t\tif (parentNode.getNodeType() == Node.ELEMENT_NODE)\n                {\n\t\t    String parentNodeName = parentNode.getNodeName();\n// \t\t    String nodeValue = node.getNodeValue();\n// \t\t    if (parentNodeName.equals(\"name\"))\n// \t\t    {\n\t\t\tNode siblingNode = node.getNextSibling();\n\t\t\tif (siblingNode != null)\n                        {\n\t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n\t\t\t    {\n\t\t\t\tdocument.add(Field.Text(\"name\", siblingNode.getNodeValue()));\n\t\t\t    }\n \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"profession\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n//                         {\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n//                             {\n// \t\t\t\tdocument.add(Field.Text([arentNodeName, siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName == \"addressLine1\")\n//                     {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif(siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t            {\n// \t\t\t\tdocument.add(Field.Text(\"addressLine1\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"addressLine2\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"addressLine2\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    if (parentNodeName.equals(\"city\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n//                         {\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"city\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"zip\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"zip\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"state\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"state\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"country\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"country\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n\t\t}\n\t    }\n        }\n        else\n        {\n\t    for(int i=0; i<nl.getLength(); i++)\n            {\n\t\ttraverseTree(nl.item(i), document);\n\t    }\n        }\n    }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"f979ddd9eacc7a679a9f030774cc6ec819fa2558","date":1114819647,"type":4,"author":"Erik Hatcher","isMerge":false,"pathNew":"/dev/null","pathOld":"sandbox/contributions/XML-Indexing-Demo/src/java/org/apache/lucenesandbox/xmlindexingdemo/XMLDocumentHandlerDOM#traverseTree(Node,org.apache.lucene.document.Document).mjava","sourceNew":null,"sourceOld":"  static private void traverseTree(Node node, org.apache.lucene.document.Document document) {\n    NodeList nl = node.getChildNodes();\n    if (nl.getLength() == 0) {\n      if (node.getNodeType() == Node.TEXT_NODE) {\n        Node parentNode = node.getParentNode();\n        if (parentNode.getNodeType() == Node.ELEMENT_NODE) {\n//\t\t    String parentNodeName = parentNode.getNodeName();\n// \t\t    String nodeValue = node.getNodeValue();\n// \t\t    if (parentNodeName.equals(\"name\"))\n// \t\t    {\n          Node siblingNode = node.getNextSibling();\n          if (siblingNode != null) {\n            if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE) {\n              document.add(Field.Text(\"name\", siblingNode.getNodeValue()));\n            }\n          }\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"profession\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n//                         {\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n//                             {\n// \t\t\t\tdocument.add(Field.Text([arentNodeName, siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName == \"addressLine1\")\n//                     {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif(siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t            {\n// \t\t\t\tdocument.add(Field.Text(\"addressLine1\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"addressLine2\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"addressLine2\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    if (parentNodeName.equals(\"city\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n//                         {\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"city\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"zip\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"zip\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"state\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"state\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n// \t\t    else if (parentNodeName.equals(\"country\"))\n// \t\t    {\n// \t\t\tNode siblingNode = node.getNextSibling();\n// \t\t\tif (siblingNode != null)\n// \t\t\t{\n// \t\t\t    if (siblingNode.getNodeType() == Node.CDATA_SECTION_NODE)\n// \t\t\t    {\n// \t\t\t\tdocument.add(Field.Text(\"country\", siblingNode.getNodeValue()));\n// \t\t\t    }\n// \t\t\t}\n// \t\t    }\n        }\n      }\n    } else {\n      for (int i = 0; i < nl.getLength(); i++) {\n        traverseTree(nl.item(i), document);\n      }\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"8c6c290715b9efd89b8987b1fa14a98e20e6623d":["8c7ebc820e10871ab86ee5e759583481ab526e45"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"8c7ebc820e10871ab86ee5e759583481ab526e45":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["f979ddd9eacc7a679a9f030774cc6ec819fa2558"],"f979ddd9eacc7a679a9f030774cc6ec819fa2558":["8c6c290715b9efd89b8987b1fa14a98e20e6623d"]},"commit2Childs":{"8c6c290715b9efd89b8987b1fa14a98e20e6623d":["f979ddd9eacc7a679a9f030774cc6ec819fa2558"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["8c7ebc820e10871ab86ee5e759583481ab526e45"],"8c7ebc820e10871ab86ee5e759583481ab526e45":["8c6c290715b9efd89b8987b1fa14a98e20e6623d"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[],"f979ddd9eacc7a679a9f030774cc6ec819fa2558":["cd5edd1f2b162a5cfa08efd17851a07373a96817"]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}