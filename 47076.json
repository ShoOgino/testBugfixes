{"path":"lucene/core/src/java/org/apache/lucene/index/MergeState.DocMap#build(IndexReaderAndLiveDocs).mjava","commits":[{"id":"e25729298aefe258b77e1b2676ae1088c1a2c49d","date":1338320376,"type":0,"author":"Michael McCandless","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/index/MergeState.DocMap#build(IndexReaderAndLiveDocs).mjava","pathOld":"/dev/null","sourceNew":"    public static DocMap build(IndexReaderAndLiveDocs reader) {\n      final int maxDoc = reader.reader.maxDoc();\n      final int numDeletes = reader.numDeletedDocs;\n      final int numDocs = maxDoc - numDeletes;\n      assert reader.liveDocs != null || numDeletes == 0;\n      if (numDeletes == 0) {\n        return new NoDelDocMap(maxDoc);\n      } else if (numDeletes < numDocs) {\n        return buildDelCountDocmap(maxDoc, numDeletes, reader.liveDocs, PackedInts.FAST);\n      } else {\n        return buildDirectDocMap(maxDoc, numDocs, reader.liveDocs, PackedInts.FAST);\n      }\n    }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"44eb6cbb2ac3c841c523c3b23bd0abbe43935224","date":1339496847,"type":3,"author":"Adrien Grand","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/index/MergeState.DocMap#build(IndexReaderAndLiveDocs).mjava","pathOld":"lucene/core/src/java/org/apache/lucene/index/MergeState.DocMap#build(IndexReaderAndLiveDocs).mjava","sourceNew":"    public static DocMap build(IndexReaderAndLiveDocs reader) {\n      final int maxDoc = reader.reader.maxDoc();\n      final int numDeletes = reader.numDeletedDocs;\n      final int numDocs = maxDoc - numDeletes;\n      assert reader.liveDocs != null || numDeletes == 0;\n      if (numDeletes == 0) {\n        return new NoDelDocMap(maxDoc);\n      } else if (numDeletes < numDocs) {\n        return buildDelCountDocmap(maxDoc, numDeletes, reader.liveDocs, PackedInts.COMPACT);\n      } else {\n        return buildDirectDocMap(maxDoc, numDocs, reader.liveDocs, PackedInts.COMPACT);\n      }\n    }\n\n","sourceOld":"    public static DocMap build(IndexReaderAndLiveDocs reader) {\n      final int maxDoc = reader.reader.maxDoc();\n      final int numDeletes = reader.numDeletedDocs;\n      final int numDocs = maxDoc - numDeletes;\n      assert reader.liveDocs != null || numDeletes == 0;\n      if (numDeletes == 0) {\n        return new NoDelDocMap(maxDoc);\n      } else if (numDeletes < numDocs) {\n        return buildDelCountDocmap(maxDoc, numDeletes, reader.liveDocs, PackedInts.FAST);\n      } else {\n        return buildDirectDocMap(maxDoc, numDocs, reader.liveDocs, PackedInts.FAST);\n      }\n    }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"c95a819869502635864dac0a788f874787e3395b","date":1341394787,"type":5,"author":"Adrien Grand","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/index/MergeState.DocMap#build(AtomicReader).mjava","pathOld":"lucene/core/src/java/org/apache/lucene/index/MergeState.DocMap#build(IndexReaderAndLiveDocs).mjava","sourceNew":"    public static DocMap build(AtomicReader reader) {\n      final int maxDoc = reader.maxDoc();\n      final int numDeletes = reader.numDeletedDocs();\n      final int numDocs = maxDoc - numDeletes;\n      assert reader.getLiveDocs() != null || numDeletes == 0;\n      if (numDeletes == 0) {\n        return new NoDelDocMap(maxDoc);\n      } else if (numDeletes < numDocs) {\n        return buildDelCountDocmap(maxDoc, numDeletes, reader.getLiveDocs(), PackedInts.COMPACT);\n      } else {\n        return buildDirectDocMap(maxDoc, numDocs, reader.getLiveDocs(), PackedInts.COMPACT);\n      }\n    }\n\n","sourceOld":"    public static DocMap build(IndexReaderAndLiveDocs reader) {\n      final int maxDoc = reader.reader.maxDoc();\n      final int numDeletes = reader.numDeletedDocs;\n      final int numDocs = maxDoc - numDeletes;\n      assert reader.liveDocs != null || numDeletes == 0;\n      if (numDeletes == 0) {\n        return new NoDelDocMap(maxDoc);\n      } else if (numDeletes < numDocs) {\n        return buildDelCountDocmap(maxDoc, numDeletes, reader.liveDocs, PackedInts.COMPACT);\n      } else {\n        return buildDirectDocMap(maxDoc, numDocs, reader.liveDocs, PackedInts.COMPACT);\n      }\n    }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"fe33227f6805edab2036cbb80645cc4e2d1fa424","date":1342713534,"type":4,"author":"Michael McCandless","isMerge":true,"pathNew":"/dev/null","pathOld":"lucene/core/src/java/org/apache/lucene/index/MergeState.DocMap#build(IndexReaderAndLiveDocs).mjava","sourceNew":null,"sourceOld":"    public static DocMap build(IndexReaderAndLiveDocs reader) {\n      final int maxDoc = reader.reader.maxDoc();\n      final int numDeletes = reader.numDeletedDocs;\n      final int numDocs = maxDoc - numDeletes;\n      assert reader.liveDocs != null || numDeletes == 0;\n      if (numDeletes == 0) {\n        return new NoDelDocMap(maxDoc);\n      } else if (numDeletes < numDocs) {\n        return buildDelCountDocmap(maxDoc, numDeletes, reader.liveDocs, PackedInts.COMPACT);\n      } else {\n        return buildDirectDocMap(maxDoc, numDocs, reader.liveDocs, PackedInts.COMPACT);\n      }\n    }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"c95a819869502635864dac0a788f874787e3395b":["44eb6cbb2ac3c841c523c3b23bd0abbe43935224"],"e25729298aefe258b77e1b2676ae1088c1a2c49d":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"44eb6cbb2ac3c841c523c3b23bd0abbe43935224":["e25729298aefe258b77e1b2676ae1088c1a2c49d"],"fe33227f6805edab2036cbb80645cc4e2d1fa424":["44eb6cbb2ac3c841c523c3b23bd0abbe43935224","c95a819869502635864dac0a788f874787e3395b"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["c95a819869502635864dac0a788f874787e3395b"]},"commit2Childs":{"c95a819869502635864dac0a788f874787e3395b":["fe33227f6805edab2036cbb80645cc4e2d1fa424","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"e25729298aefe258b77e1b2676ae1088c1a2c49d":["44eb6cbb2ac3c841c523c3b23bd0abbe43935224"],"44eb6cbb2ac3c841c523c3b23bd0abbe43935224":["c95a819869502635864dac0a788f874787e3395b","fe33227f6805edab2036cbb80645cc4e2d1fa424"],"fe33227f6805edab2036cbb80645cc4e2d1fa424":[],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["e25729298aefe258b77e1b2676ae1088c1a2c49d"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["fe33227f6805edab2036cbb80645cc4e2d1fa424","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}