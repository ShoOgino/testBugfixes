{"path":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","commits":[{"id":"bede0ec3497c48e70d55196c5065d97a4bc1db3d","date":1329668585,"type":0,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","pathOld":"/dev/null","sourceNew":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton(true);\n    final Builder<Long> builder = new Builder<Long>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRef scratch = new IntsRef();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.MinResult[] r = Util.shortestPaths(fst,\n                                           fst.getFirstArc(new FST.Arc<Long>()),\n                                           3);\n    assertEquals(3, r.length);\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), r[0].input);\n    assertEquals(7, r[0].output);\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), r[1].input);\n    assertEquals(17, r[1].output);\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), r[2].input);\n    assertEquals(22, r[2].output);\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":["7dc6ea5fd38ce7aa8f36b3bac8b757da77f31d50"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"2a6ee6c302710254b6c2474ccd2755f9f2323ee3","date":1330700384,"type":3,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","pathOld":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","sourceNew":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton(true);\n    final Builder<Long> builder = new Builder<Long>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRef scratch = new IntsRef();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.MinResult<Long>[] r = Util.shortestPaths(fst,\n                                           fst.getFirstArc(new FST.Arc<Long>()),\n                                           minLongComparator,\n                                           3);\n    assertEquals(3, r.length);\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), r[0].input);\n    assertEquals(7L, r[0].output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), r[1].input);\n    assertEquals(17L, r[1].output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), r[2].input);\n    assertEquals(22L, r[2].output.longValue());\n  }\n\n","sourceOld":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton(true);\n    final Builder<Long> builder = new Builder<Long>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRef scratch = new IntsRef();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.MinResult[] r = Util.shortestPaths(fst,\n                                           fst.getFirstArc(new FST.Arc<Long>()),\n                                           3);\n    assertEquals(3, r.length);\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), r[0].input);\n    assertEquals(7, r[0].output);\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), r[1].input);\n    assertEquals(17, r[1].output);\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), r[2].input);\n    assertEquals(22, r[2].output);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"9946ea6d8ddf0b8c20b2ca6a816b7168b023a6ab","date":1331075828,"type":3,"author":"Ryan McKinley","isMerge":true,"pathNew":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","pathOld":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","sourceNew":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton(true);\n    final Builder<Long> builder = new Builder<Long>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRef scratch = new IntsRef();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.MinResult<Long>[] r = Util.shortestPaths(fst,\n                                           fst.getFirstArc(new FST.Arc<Long>()),\n                                           minLongComparator,\n                                           3);\n    assertEquals(3, r.length);\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), r[0].input);\n    assertEquals(7L, r[0].output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), r[1].input);\n    assertEquals(17L, r[1].output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), r[2].input);\n    assertEquals(22L, r[2].output.longValue());\n  }\n\n","sourceOld":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton(true);\n    final Builder<Long> builder = new Builder<Long>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRef scratch = new IntsRef();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.MinResult[] r = Util.shortestPaths(fst,\n                                           fst.getFirstArc(new FST.Arc<Long>()),\n                                           3);\n    assertEquals(3, r.length);\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), r[0].input);\n    assertEquals(7, r[0].output);\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), r[1].input);\n    assertEquals(17, r[1].output);\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), r[2].input);\n    assertEquals(22, r[2].output);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"6ce825e9276493231308229152c48f755ce1a0a5","date":1348871483,"type":3,"author":"Michael McCandless","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","pathOld":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","sourceNew":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton(true);\n    final Builder<Long> builder = new Builder<Long>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRef scratch = new IntsRef();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.MinResult<Long>[] r = Util.shortestPaths(fst,\n                                                  fst.getFirstArc(new FST.Arc<Long>()),\n                                                  outputs.getNoOutput(),\n                                                  minLongComparator,\n                                                  3,\n                                                  true);\n    assertEquals(3, r.length);\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), r[0].input);\n    assertEquals(7L, r[0].output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), r[1].input);\n    assertEquals(17L, r[1].output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), r[2].input);\n    assertEquals(22L, r[2].output.longValue());\n  }\n\n","sourceOld":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton(true);\n    final Builder<Long> builder = new Builder<Long>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRef scratch = new IntsRef();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.MinResult<Long>[] r = Util.shortestPaths(fst,\n                                           fst.getFirstArc(new FST.Arc<Long>()),\n                                           minLongComparator,\n                                           3);\n    assertEquals(3, r.length);\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), r[0].input);\n    assertEquals(7L, r[0].output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), r[1].input);\n    assertEquals(17L, r[1].output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), r[2].input);\n    assertEquals(22L, r[2].output.longValue());\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"6b1e6a1c51433ebaa34dc0b76d7ab1876072be39","date":1370266419,"type":3,"author":"Michael McCandless","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","pathOld":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","sourceNew":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\n    final Builder<Long> builder = new Builder<Long>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRef scratch = new IntsRef();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.MinResult<Long>[] r = Util.shortestPaths(fst,\n                                                  fst.getFirstArc(new FST.Arc<Long>()),\n                                                  outputs.getNoOutput(),\n                                                  minLongComparator,\n                                                  3,\n                                                  true);\n    assertEquals(3, r.length);\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), r[0].input);\n    assertEquals(7L, r[0].output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), r[1].input);\n    assertEquals(17L, r[1].output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), r[2].input);\n    assertEquals(22L, r[2].output.longValue());\n  }\n\n","sourceOld":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton(true);\n    final Builder<Long> builder = new Builder<Long>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRef scratch = new IntsRef();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.MinResult<Long>[] r = Util.shortestPaths(fst,\n                                                  fst.getFirstArc(new FST.Arc<Long>()),\n                                                  outputs.getNoOutput(),\n                                                  minLongComparator,\n                                                  3,\n                                                  true);\n    assertEquals(3, r.length);\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), r[0].input);\n    assertEquals(7L, r[0].output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), r[1].input);\n    assertEquals(17L, r[1].output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), r[2].input);\n    assertEquals(22L, r[2].output.longValue());\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"634f330c54fd3f9f491d52036dc3f40b4f4d8934","date":1394635157,"type":3,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","pathOld":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","sourceNew":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\n    final Builder<Long> builder = new Builder<>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRef scratch = new IntsRef();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.MinResult<Long>[] r = Util.shortestPaths(fst,\n                                                  fst.getFirstArc(new FST.Arc<Long>()),\n                                                  outputs.getNoOutput(),\n                                                  minLongComparator,\n                                                  3,\n                                                  true);\n    assertEquals(3, r.length);\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), r[0].input);\n    assertEquals(7L, r[0].output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), r[1].input);\n    assertEquals(17L, r[1].output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), r[2].input);\n    assertEquals(22L, r[2].output.longValue());\n  }\n\n","sourceOld":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\n    final Builder<Long> builder = new Builder<Long>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRef scratch = new IntsRef();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.MinResult<Long>[] r = Util.shortestPaths(fst,\n                                                  fst.getFirstArc(new FST.Arc<Long>()),\n                                                  outputs.getNoOutput(),\n                                                  minLongComparator,\n                                                  3,\n                                                  true);\n    assertEquals(3, r.length);\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), r[0].input);\n    assertEquals(7L, r[0].output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), r[1].input);\n    assertEquals(17L, r[1].output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), r[2].input);\n    assertEquals(22L, r[2].output.longValue());\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"d245db17aaa41b338dae9da5d4edba4dd6f61612","date":1394644847,"type":3,"author":"Simon Willnauer","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","pathOld":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","sourceNew":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\n    final Builder<Long> builder = new Builder<>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRef scratch = new IntsRef();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.TopResults<Long> res = Util.shortestPaths(fst,\n                                                  fst.getFirstArc(new FST.Arc<Long>()),\n                                                  outputs.getNoOutput(),\n                                                  minLongComparator,\n                                                  3,\n                                                  true);\n    assertTrue(res.isComplete);\n    assertEquals(3, res.topN.size());\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), res.topN.get(0).input);\n    assertEquals(7L, res.topN.get(0).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), res.topN.get(1).input);\n    assertEquals(17L,res.topN.get(1).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), res.topN.get(2).input);\n    assertEquals(22L, res.topN.get(2).output.longValue());\n  }\n\n","sourceOld":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\n    final Builder<Long> builder = new Builder<>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRef scratch = new IntsRef();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.MinResult<Long>[] r = Util.shortestPaths(fst,\n                                                  fst.getFirstArc(new FST.Arc<Long>()),\n                                                  outputs.getNoOutput(),\n                                                  minLongComparator,\n                                                  3,\n                                                  true);\n    assertEquals(3, r.length);\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), r[0].input);\n    assertEquals(7L, r[0].output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), r[1].input);\n    assertEquals(17L, r[1].output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), r[2].input);\n    assertEquals(22L, r[2].output.longValue());\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"ae14298f4eec6d5faee6a149f88ba57d14a6f21a","date":1396971290,"type":3,"author":"Michael McCandless","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","pathOld":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","sourceNew":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\n    final Builder<Long> builder = new Builder<>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRef scratch = new IntsRef();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.shutdown();\n\n    Util.TopResults<Long> res = Util.shortestPaths(fst,\n                                                  fst.getFirstArc(new FST.Arc<Long>()),\n                                                  outputs.getNoOutput(),\n                                                  minLongComparator,\n                                                  3,\n                                                  true);\n    assertTrue(res.isComplete);\n    assertEquals(3, res.topN.size());\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), res.topN.get(0).input);\n    assertEquals(7L, res.topN.get(0).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), res.topN.get(1).input);\n    assertEquals(17L,res.topN.get(1).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), res.topN.get(2).input);\n    assertEquals(22L, res.topN.get(2).output.longValue());\n  }\n\n","sourceOld":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\n    final Builder<Long> builder = new Builder<>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRef scratch = new IntsRef();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.TopResults<Long> res = Util.shortestPaths(fst,\n                                                  fst.getFirstArc(new FST.Arc<Long>()),\n                                                  outputs.getNoOutput(),\n                                                  minLongComparator,\n                                                  3,\n                                                  true);\n    assertTrue(res.isComplete);\n    assertEquals(3, res.topN.size());\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), res.topN.get(0).input);\n    assertEquals(7L, res.topN.get(0).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), res.topN.get(1).input);\n    assertEquals(17L,res.topN.get(1).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), res.topN.get(2).input);\n    assertEquals(22L, res.topN.get(2).output.longValue());\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"d0ef034a4f10871667ae75181537775ddcf8ade4","date":1407610475,"type":3,"author":"Ryan Ernst","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","pathOld":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","sourceNew":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\n    final Builder<Long> builder = new Builder<>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRef scratch = new IntsRef();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.TopResults<Long> res = Util.shortestPaths(fst,\n                                                  fst.getFirstArc(new FST.Arc<Long>()),\n                                                  outputs.getNoOutput(),\n                                                  minLongComparator,\n                                                  3,\n                                                  true);\n    assertTrue(res.isComplete);\n    assertEquals(3, res.topN.size());\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), res.topN.get(0).input);\n    assertEquals(7L, res.topN.get(0).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), res.topN.get(1).input);\n    assertEquals(17L,res.topN.get(1).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), res.topN.get(2).input);\n    assertEquals(22L, res.topN.get(2).output.longValue());\n  }\n\n","sourceOld":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\n    final Builder<Long> builder = new Builder<>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRef scratch = new IntsRef();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.shutdown();\n\n    Util.TopResults<Long> res = Util.shortestPaths(fst,\n                                                  fst.getFirstArc(new FST.Arc<Long>()),\n                                                  outputs.getNoOutput(),\n                                                  minLongComparator,\n                                                  3,\n                                                  true);\n    assertTrue(res.isComplete);\n    assertEquals(3, res.topN.size());\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), res.topN.get(0).input);\n    assertEquals(7L, res.topN.get(0).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), res.topN.get(1).input);\n    assertEquals(17L,res.topN.get(1).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), res.topN.get(2).input);\n    assertEquals(22L, res.topN.get(2).output.longValue());\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"7dc6ea5fd38ce7aa8f36b3bac8b757da77f31d50","date":1407854805,"type":3,"author":"Adrien Grand","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","pathOld":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","sourceNew":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\n    final Builder<Long> builder = new Builder<>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRefBuilder scratch = new IntsRefBuilder();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.TopResults<Long> res = Util.shortestPaths(fst,\n                                                  fst.getFirstArc(new FST.Arc<Long>()),\n                                                  outputs.getNoOutput(),\n                                                  minLongComparator,\n                                                  3,\n                                                  true);\n    assertTrue(res.isComplete);\n    assertEquals(3, res.topN.size());\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), res.topN.get(0).input);\n    assertEquals(7L, res.topN.get(0).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), res.topN.get(1).input);\n    assertEquals(17L,res.topN.get(1).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), res.topN.get(2).input);\n    assertEquals(22L, res.topN.get(2).output.longValue());\n  }\n\n","sourceOld":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\n    final Builder<Long> builder = new Builder<>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRef scratch = new IntsRef();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.TopResults<Long> res = Util.shortestPaths(fst,\n                                                  fst.getFirstArc(new FST.Arc<Long>()),\n                                                  outputs.getNoOutput(),\n                                                  minLongComparator,\n                                                  3,\n                                                  true);\n    assertTrue(res.isComplete);\n    assertEquals(3, res.topN.size());\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), res.topN.get(0).input);\n    assertEquals(7L, res.topN.get(0).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), res.topN.get(1).input);\n    assertEquals(17L,res.topN.get(1).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), res.topN.get(2).input);\n    assertEquals(22L, res.topN.get(2).output.longValue());\n  }\n\n","bugFix":["bede0ec3497c48e70d55196c5065d97a4bc1db3d"],"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"0f5661e6a04d3172e262ad741b717924f2f1b6a5","date":1576244274,"type":3,"author":"Bruno Roustant","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","pathOld":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","sourceNew":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\n    final FSTCompiler<Long> fstCompiler = new FSTCompiler<>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRefBuilder scratch = new IntsRefBuilder();\n    fstCompiler.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    fstCompiler.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    fstCompiler.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = fstCompiler.compile();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.TopResults<Long> res = Util.shortestPaths(fst,\n                                                  fst.getFirstArc(new FST.Arc<Long>()),\n                                                  outputs.getNoOutput(),\n                                                  minLongComparator,\n                                                  3,\n                                                  true);\n    assertTrue(res.isComplete);\n    assertEquals(3, res.topN.size());\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), res.topN.get(0).input);\n    assertEquals(7L, res.topN.get(0).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), res.topN.get(1).input);\n    assertEquals(17L,res.topN.get(1).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), res.topN.get(2).input);\n    assertEquals(22L, res.topN.get(2).output.longValue());\n  }\n\n","sourceOld":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\n    final Builder<Long> builder = new Builder<>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRefBuilder scratch = new IntsRefBuilder();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.TopResults<Long> res = Util.shortestPaths(fst,\n                                                  fst.getFirstArc(new FST.Arc<Long>()),\n                                                  outputs.getNoOutput(),\n                                                  minLongComparator,\n                                                  3,\n                                                  true);\n    assertTrue(res.isComplete);\n    assertEquals(3, res.topN.size());\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), res.topN.get(0).input);\n    assertEquals(7L, res.topN.get(0).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), res.topN.get(1).input);\n    assertEquals(17L,res.topN.get(1).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), res.topN.get(2).input);\n    assertEquals(22L, res.topN.get(2).output.longValue());\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"c5db9bff3aeb942c848a2ab8fa4b8b0737377deb","date":1576247714,"type":3,"author":"Dawid Weiss","isMerge":true,"pathNew":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","pathOld":"lucene/core/src/test/org/apache/lucene/util/fst/TestFSTs#testShortestPaths().mjava","sourceNew":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\n    final FSTCompiler<Long> fstCompiler = new FSTCompiler<>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRefBuilder scratch = new IntsRefBuilder();\n    fstCompiler.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    fstCompiler.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    fstCompiler.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = fstCompiler.compile();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.TopResults<Long> res = Util.shortestPaths(fst,\n                                                  fst.getFirstArc(new FST.Arc<Long>()),\n                                                  outputs.getNoOutput(),\n                                                  minLongComparator,\n                                                  3,\n                                                  true);\n    assertTrue(res.isComplete);\n    assertEquals(3, res.topN.size());\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), res.topN.get(0).input);\n    assertEquals(7L, res.topN.get(0).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), res.topN.get(1).input);\n    assertEquals(17L,res.topN.get(1).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), res.topN.get(2).input);\n    assertEquals(22L, res.topN.get(2).output.longValue());\n  }\n\n","sourceOld":"  public void testShortestPaths() throws Exception {\n    final PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\n    final Builder<Long> builder = new Builder<>(FST.INPUT_TYPE.BYTE1, outputs);\n\n    final IntsRefBuilder scratch = new IntsRefBuilder();\n    builder.add(Util.toIntsRef(new BytesRef(\"aab\"), scratch), 22L);\n    builder.add(Util.toIntsRef(new BytesRef(\"aac\"), scratch), 7L);\n    builder.add(Util.toIntsRef(new BytesRef(\"ax\"), scratch), 17L);\n    final FST<Long> fst = builder.finish();\n    //Writer w = new OutputStreamWriter(new FileOutputStream(\"out.dot\"));\n    //Util.toDot(fst, w, false, false);\n    //w.close();\n\n    Util.TopResults<Long> res = Util.shortestPaths(fst,\n                                                  fst.getFirstArc(new FST.Arc<Long>()),\n                                                  outputs.getNoOutput(),\n                                                  minLongComparator,\n                                                  3,\n                                                  true);\n    assertTrue(res.isComplete);\n    assertEquals(3, res.topN.size());\n    assertEquals(Util.toIntsRef(new BytesRef(\"aac\"), scratch), res.topN.get(0).input);\n    assertEquals(7L, res.topN.get(0).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"ax\"), scratch), res.topN.get(1).input);\n    assertEquals(17L,res.topN.get(1).output.longValue());\n\n    assertEquals(Util.toIntsRef(new BytesRef(\"aab\"), scratch), res.topN.get(2).input);\n    assertEquals(22L, res.topN.get(2).output.longValue());\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"634f330c54fd3f9f491d52036dc3f40b4f4d8934":["6b1e6a1c51433ebaa34dc0b76d7ab1876072be39"],"d245db17aaa41b338dae9da5d4edba4dd6f61612":["634f330c54fd3f9f491d52036dc3f40b4f4d8934"],"9946ea6d8ddf0b8c20b2ca6a816b7168b023a6ab":["bede0ec3497c48e70d55196c5065d97a4bc1db3d","2a6ee6c302710254b6c2474ccd2755f9f2323ee3"],"7dc6ea5fd38ce7aa8f36b3bac8b757da77f31d50":["d0ef034a4f10871667ae75181537775ddcf8ade4"],"2a6ee6c302710254b6c2474ccd2755f9f2323ee3":["bede0ec3497c48e70d55196c5065d97a4bc1db3d"],"6b1e6a1c51433ebaa34dc0b76d7ab1876072be39":["6ce825e9276493231308229152c48f755ce1a0a5"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"d0ef034a4f10871667ae75181537775ddcf8ade4":["ae14298f4eec6d5faee6a149f88ba57d14a6f21a"],"6ce825e9276493231308229152c48f755ce1a0a5":["2a6ee6c302710254b6c2474ccd2755f9f2323ee3"],"ae14298f4eec6d5faee6a149f88ba57d14a6f21a":["d245db17aaa41b338dae9da5d4edba4dd6f61612"],"c5db9bff3aeb942c848a2ab8fa4b8b0737377deb":["7dc6ea5fd38ce7aa8f36b3bac8b757da77f31d50","0f5661e6a04d3172e262ad741b717924f2f1b6a5"],"0f5661e6a04d3172e262ad741b717924f2f1b6a5":["7dc6ea5fd38ce7aa8f36b3bac8b757da77f31d50"],"bede0ec3497c48e70d55196c5065d97a4bc1db3d":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["0f5661e6a04d3172e262ad741b717924f2f1b6a5"]},"commit2Childs":{"634f330c54fd3f9f491d52036dc3f40b4f4d8934":["d245db17aaa41b338dae9da5d4edba4dd6f61612"],"d245db17aaa41b338dae9da5d4edba4dd6f61612":["ae14298f4eec6d5faee6a149f88ba57d14a6f21a"],"9946ea6d8ddf0b8c20b2ca6a816b7168b023a6ab":[],"7dc6ea5fd38ce7aa8f36b3bac8b757da77f31d50":["c5db9bff3aeb942c848a2ab8fa4b8b0737377deb","0f5661e6a04d3172e262ad741b717924f2f1b6a5"],"2a6ee6c302710254b6c2474ccd2755f9f2323ee3":["9946ea6d8ddf0b8c20b2ca6a816b7168b023a6ab","6ce825e9276493231308229152c48f755ce1a0a5"],"6b1e6a1c51433ebaa34dc0b76d7ab1876072be39":["634f330c54fd3f9f491d52036dc3f40b4f4d8934"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["bede0ec3497c48e70d55196c5065d97a4bc1db3d"],"d0ef034a4f10871667ae75181537775ddcf8ade4":["7dc6ea5fd38ce7aa8f36b3bac8b757da77f31d50"],"6ce825e9276493231308229152c48f755ce1a0a5":["6b1e6a1c51433ebaa34dc0b76d7ab1876072be39"],"ae14298f4eec6d5faee6a149f88ba57d14a6f21a":["d0ef034a4f10871667ae75181537775ddcf8ade4"],"c5db9bff3aeb942c848a2ab8fa4b8b0737377deb":[],"0f5661e6a04d3172e262ad741b717924f2f1b6a5":["c5db9bff3aeb942c848a2ab8fa4b8b0737377deb","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"bede0ec3497c48e70d55196c5065d97a4bc1db3d":["9946ea6d8ddf0b8c20b2ca6a816b7168b023a6ab","2a6ee6c302710254b6c2474ccd2755f9f2323ee3"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["9946ea6d8ddf0b8c20b2ca6a816b7168b023a6ab","c5db9bff3aeb942c848a2ab8fa4b8b0737377deb","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}