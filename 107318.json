{"path":"lucene/core/src/java/org/apache/lucene/index/DocumentsWriterDeleteQueue#DocumentsWriterDeleteQueue(InfoStream,long,long,LongSupplier).mjava","commits":[{"id":"b07024a7318c25225dc4d070cf6d047315b73aaf","date":1586885963,"type":1,"author":"Simon Willnauer","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/index/DocumentsWriterDeleteQueue#DocumentsWriterDeleteQueue(InfoStream,long,long,LongSupplier).mjava","pathOld":"lucene/core/src/java/org/apache/lucene/index/DocumentsWriterDeleteQueue#DocumentsWriterDeleteQueue(InfoStream,BufferedUpdates,long,long).mjava","sourceNew":"  private DocumentsWriterDeleteQueue(InfoStream infoStream, long generation, long startSeqNo, LongSupplier previousMaxSeqId) {\n    this.infoStream = infoStream;\n    this.globalBufferedUpdates = new BufferedUpdates(\"global\");\n    this.generation = generation;\n    this.nextSeqNo = new AtomicLong(startSeqNo);\n    this.startSeqNo = startSeqNo;\n    this.previousMaxSeqId = previousMaxSeqId;\n    long value = previousMaxSeqId.getAsLong();\n    assert value <= startSeqNo : \"illegal max sequence ID: \" + value + \" start was: \" + startSeqNo;\n    /*\n     * we use a sentinel instance as our initial tail. No slice will ever try to\n     * apply this tail since the head is always omitted.\n     */\n    tail = new Node<>(null); // sentinel\n    globalSlice = new DeleteSlice(tail);\n  }\n\n","sourceOld":"  DocumentsWriterDeleteQueue(InfoStream infoStream, BufferedUpdates globalBufferedUpdates, long generation, long startSeqNo) {\n    this.infoStream = infoStream;\n    this.globalBufferedUpdates = globalBufferedUpdates;\n    this.generation = generation;\n    this.nextSeqNo = new AtomicLong(startSeqNo);\n    /*\n     * we use a sentinel instance as our initial tail. No slice will ever try to\n     * apply this tail since the head is always omitted.\n     */\n    tail = new Node<>(null); // sentinel\n    globalSlice = new DeleteSlice(tail);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"b07024a7318c25225dc4d070cf6d047315b73aaf":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["b07024a7318c25225dc4d070cf6d047315b73aaf"]},"commit2Childs":{"b07024a7318c25225dc4d070cf6d047315b73aaf":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["b07024a7318c25225dc4d070cf6d047315b73aaf"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}