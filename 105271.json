{"path":"solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState#collectionFromObjects(String,Map[String,Object]).mjava","commits":[{"id":"c5a558d54519c651068ddb202f03befefb1514a7","date":1354382006,"type":0,"author":"Yonik Seeley","isMerge":false,"pathNew":"solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState#collectionFromObjects(String,Map[String,Object]).mjava","pathOld":"/dev/null","sourceNew":"  private static DocCollection collectionFromObjects(String name, Map<String,Object> objs) {\n    Map<String,Object> props = (Map<String,Object>)objs.get(DocCollection.PROPERTIES);\n    if (props == null) props = Collections.emptyMap();\n    DocRouter router = getRouter(props.get(DocCollection.DOC_ROUTER));\n    Map<String,Slice> slices = makeSlices(objs);\n    return new DocCollection(name, slices, props, router);\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"89f828d954597b98a28942874636f35c719b8a5d","date":1354471211,"type":3,"author":"Yonik Seeley","isMerge":false,"pathNew":"solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState#collectionFromObjects(String,Map[String,Object]).mjava","pathOld":"solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState#collectionFromObjects(String,Map[String,Object]).mjava","sourceNew":"  private static DocCollection collectionFromObjects(String name, Map<String,Object> objs) {\n    Map<String,Object> props = (Map<String,Object>)objs.get(DocCollection.PROPERTIES);\n    if (props == null) props = Collections.emptyMap();\n    DocRouter router = DocRouter.getDocRouter(props.get(DocCollection.DOC_ROUTER));\n    Map<String,Slice> slices = makeSlices(objs);\n    return new DocCollection(name, slices, props, router);\n  }\n\n","sourceOld":"  private static DocCollection collectionFromObjects(String name, Map<String,Object> objs) {\n    Map<String,Object> props = (Map<String,Object>)objs.get(DocCollection.PROPERTIES);\n    if (props == null) props = Collections.emptyMap();\n    DocRouter router = getRouter(props.get(DocCollection.DOC_ROUTER));\n    Map<String,Slice> slices = makeSlices(objs);\n    return new DocCollection(name, slices, props, router);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"407687e67faf6e1f02a211ca078d8e3eed631027","date":1355157407,"type":0,"author":"Robert Muir","isMerge":true,"pathNew":"solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState#collectionFromObjects(String,Map[String,Object]).mjava","pathOld":"/dev/null","sourceNew":"  private static DocCollection collectionFromObjects(String name, Map<String,Object> objs) {\n    Map<String,Object> props = (Map<String,Object>)objs.get(DocCollection.PROPERTIES);\n    if (props == null) props = Collections.emptyMap();\n    DocRouter router = DocRouter.getDocRouter(props.get(DocCollection.DOC_ROUTER));\n    Map<String,Slice> slices = makeSlices(objs);\n    return new DocCollection(name, slices, props, router);\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"dc4e6d2476fe40f282c0c25e20e629a6f37580cf","date":1355430839,"type":3,"author":"Yonik Seeley","isMerge":false,"pathNew":"solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState#collectionFromObjects(String,Map[String,Object]).mjava","pathOld":"solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState#collectionFromObjects(String,Map[String,Object]).mjava","sourceNew":"  private static DocCollection collectionFromObjects(String name, Map<String,Object> objs) {\n    Map<String,Object> props;\n    Map<String,Slice> slices;\n\n    Map<String,Object> sliceObjs = (Map<String,Object>)objs.get(DocCollection.SHARDS);\n    if (sliceObjs == null) {\n      // legacy format from 4.0... there was no separate \"shards\" level to contain the collection shards.\n      slices = makeSlices(objs);\n      props = Collections.emptyMap();\n    } else {\n      slices = makeSlices(sliceObjs);\n      props = new HashMap<String, Object>(objs);\n      objs.remove(DocCollection.SHARDS);\n    }\n\n    DocRouter router = DocRouter.getDocRouter(props.get(DocCollection.DOC_ROUTER));\n    return new DocCollection(name, slices, props, router);\n  }\n\n","sourceOld":"  private static DocCollection collectionFromObjects(String name, Map<String,Object> objs) {\n    Map<String,Object> props = (Map<String,Object>)objs.get(DocCollection.PROPERTIES);\n    if (props == null) props = Collections.emptyMap();\n    DocRouter router = DocRouter.getDocRouter(props.get(DocCollection.DOC_ROUTER));\n    Map<String,Slice> slices = makeSlices(objs);\n    return new DocCollection(name, slices, props, router);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"d3fcb70cf561547c7bb1506e0cf32ca7b1287064","date":1357616416,"type":3,"author":"Robert Muir","isMerge":true,"pathNew":"solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState#collectionFromObjects(String,Map[String,Object]).mjava","pathOld":"solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState#collectionFromObjects(String,Map[String,Object]).mjava","sourceNew":"  private static DocCollection collectionFromObjects(String name, Map<String,Object> objs) {\n    Map<String,Object> props;\n    Map<String,Slice> slices;\n\n    Map<String,Object> sliceObjs = (Map<String,Object>)objs.get(DocCollection.SHARDS);\n    if (sliceObjs == null) {\n      // legacy format from 4.0... there was no separate \"shards\" level to contain the collection shards.\n      slices = makeSlices(objs);\n      props = Collections.emptyMap();\n    } else {\n      slices = makeSlices(sliceObjs);\n      props = new HashMap<String, Object>(objs);\n      objs.remove(DocCollection.SHARDS);\n    }\n\n    DocRouter router = DocRouter.getDocRouter(props.get(DocCollection.DOC_ROUTER));\n    return new DocCollection(name, slices, props, router);\n  }\n\n","sourceOld":"  private static DocCollection collectionFromObjects(String name, Map<String,Object> objs) {\n    Map<String,Object> props = (Map<String,Object>)objs.get(DocCollection.PROPERTIES);\n    if (props == null) props = Collections.emptyMap();\n    DocRouter router = DocRouter.getDocRouter(props.get(DocCollection.DOC_ROUTER));\n    Map<String,Slice> slices = makeSlices(objs);\n    return new DocCollection(name, slices, props, router);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"e187a371a1d09379bb452c2c13a7b9221525dff8","date":1379517004,"type":3,"author":"Noble Paul","isMerge":false,"pathNew":"solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState#collectionFromObjects(String,Map[String,Object]).mjava","pathOld":"solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState#collectionFromObjects(String,Map[String,Object]).mjava","sourceNew":"  private static DocCollection collectionFromObjects(String name, Map<String,Object> objs) {\n    Map<String,Object> props;\n    Map<String,Slice> slices;\n\n    Map<String,Object> sliceObjs = (Map<String,Object>)objs.get(DocCollection.SHARDS);\n    if (sliceObjs == null) {\n      // legacy format from 4.0... there was no separate \"shards\" level to contain the collection shards.\n      slices = makeSlices(objs);\n      props = Collections.emptyMap();\n    } else {\n      slices = makeSlices(sliceObjs);\n      props = new HashMap<String, Object>(objs);\n      objs.remove(DocCollection.SHARDS);\n    }\n\n    Map map = (Map) props.get(DocCollection.DOC_ROUTER);\n    DocRouter router = map == null ? DocRouter.DEFAULT : DocRouter.getDocRouter(map.get(\"name\"));\n    return new DocCollection(name, slices, props, router);\n  }\n\n","sourceOld":"  private static DocCollection collectionFromObjects(String name, Map<String,Object> objs) {\n    Map<String,Object> props;\n    Map<String,Slice> slices;\n\n    Map<String,Object> sliceObjs = (Map<String,Object>)objs.get(DocCollection.SHARDS);\n    if (sliceObjs == null) {\n      // legacy format from 4.0... there was no separate \"shards\" level to contain the collection shards.\n      slices = makeSlices(objs);\n      props = Collections.emptyMap();\n    } else {\n      slices = makeSlices(sliceObjs);\n      props = new HashMap<String, Object>(objs);\n      objs.remove(DocCollection.SHARDS);\n    }\n\n    DocRouter router = DocRouter.getDocRouter(props.get(DocCollection.DOC_ROUTER));\n    return new DocCollection(name, slices, props, router);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"8ce74fbb2af4ab7e70d5a0971b7a0264021d59a0","date":1380055194,"type":3,"author":"Yonik Seeley","isMerge":false,"pathNew":"solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState#collectionFromObjects(String,Map[String,Object]).mjava","pathOld":"solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState#collectionFromObjects(String,Map[String,Object]).mjava","sourceNew":"  private static DocCollection collectionFromObjects(String name, Map<String,Object> objs) {\n    Map<String,Object> props;\n    Map<String,Slice> slices;\n\n    Map<String,Object> sliceObjs = (Map<String,Object>)objs.get(DocCollection.SHARDS);\n    if (sliceObjs == null) {\n      // legacy format from 4.0... there was no separate \"shards\" level to contain the collection shards.\n      slices = makeSlices(objs);\n      props = Collections.emptyMap();\n    } else {\n      slices = makeSlices(sliceObjs);\n      props = new HashMap<String, Object>(objs);\n      objs.remove(DocCollection.SHARDS);\n    }\n\n    Object routerObj = props.get(DocCollection.DOC_ROUTER);\n    DocRouter router;\n    if (routerObj == null) {\n      router = DocRouter.DEFAULT;\n    } else if (routerObj instanceof String) {\n      // back compat with Solr4.4\n      router = DocRouter.getDocRouter((String)routerObj);\n    } else {\n      Map routerProps = (Map)routerObj;\n      router = DocRouter.getDocRouter(routerProps.get(\"name\"));\n    }\n\n    return new DocCollection(name, slices, props, router);\n  }\n\n","sourceOld":"  private static DocCollection collectionFromObjects(String name, Map<String,Object> objs) {\n    Map<String,Object> props;\n    Map<String,Slice> slices;\n\n    Map<String,Object> sliceObjs = (Map<String,Object>)objs.get(DocCollection.SHARDS);\n    if (sliceObjs == null) {\n      // legacy format from 4.0... there was no separate \"shards\" level to contain the collection shards.\n      slices = makeSlices(objs);\n      props = Collections.emptyMap();\n    } else {\n      slices = makeSlices(sliceObjs);\n      props = new HashMap<String, Object>(objs);\n      objs.remove(DocCollection.SHARDS);\n    }\n\n    Map map = (Map) props.get(DocCollection.DOC_ROUTER);\n    DocRouter router = map == null ? DocRouter.DEFAULT : DocRouter.getDocRouter(map.get(\"name\"));\n    return new DocCollection(name, slices, props, router);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"634f330c54fd3f9f491d52036dc3f40b4f4d8934","date":1394635157,"type":3,"author":"Robert Muir","isMerge":false,"pathNew":"solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState#collectionFromObjects(String,Map[String,Object]).mjava","pathOld":"solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState#collectionFromObjects(String,Map[String,Object]).mjava","sourceNew":"  private static DocCollection collectionFromObjects(String name, Map<String,Object> objs) {\n    Map<String,Object> props;\n    Map<String,Slice> slices;\n\n    Map<String,Object> sliceObjs = (Map<String,Object>)objs.get(DocCollection.SHARDS);\n    if (sliceObjs == null) {\n      // legacy format from 4.0... there was no separate \"shards\" level to contain the collection shards.\n      slices = makeSlices(objs);\n      props = Collections.emptyMap();\n    } else {\n      slices = makeSlices(sliceObjs);\n      props = new HashMap<>(objs);\n      objs.remove(DocCollection.SHARDS);\n    }\n\n    Object routerObj = props.get(DocCollection.DOC_ROUTER);\n    DocRouter router;\n    if (routerObj == null) {\n      router = DocRouter.DEFAULT;\n    } else if (routerObj instanceof String) {\n      // back compat with Solr4.4\n      router = DocRouter.getDocRouter((String)routerObj);\n    } else {\n      Map routerProps = (Map)routerObj;\n      router = DocRouter.getDocRouter(routerProps.get(\"name\"));\n    }\n\n    return new DocCollection(name, slices, props, router);\n  }\n\n","sourceOld":"  private static DocCollection collectionFromObjects(String name, Map<String,Object> objs) {\n    Map<String,Object> props;\n    Map<String,Slice> slices;\n\n    Map<String,Object> sliceObjs = (Map<String,Object>)objs.get(DocCollection.SHARDS);\n    if (sliceObjs == null) {\n      // legacy format from 4.0... there was no separate \"shards\" level to contain the collection shards.\n      slices = makeSlices(objs);\n      props = Collections.emptyMap();\n    } else {\n      slices = makeSlices(sliceObjs);\n      props = new HashMap<String, Object>(objs);\n      objs.remove(DocCollection.SHARDS);\n    }\n\n    Object routerObj = props.get(DocCollection.DOC_ROUTER);\n    DocRouter router;\n    if (routerObj == null) {\n      router = DocRouter.DEFAULT;\n    } else if (routerObj instanceof String) {\n      // back compat with Solr4.4\n      router = DocRouter.getDocRouter((String)routerObj);\n    } else {\n      Map routerProps = (Map)routerObj;\n      router = DocRouter.getDocRouter(routerProps.get(\"name\"));\n    }\n\n    return new DocCollection(name, slices, props, router);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"0622fbd990643ae4cacb693db6a0c82cf8916ae2","date":1397637446,"type":5,"author":"Noble Paul","isMerge":false,"pathNew":"solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState#collectionFromObjects(String,Map[String,Object],Integer).mjava","pathOld":"solr/solrj/src/java/org/apache/solr/common/cloud/ClusterState#collectionFromObjects(String,Map[String,Object]).mjava","sourceNew":"  private static DocCollection collectionFromObjects(String name, Map<String, Object> objs, Integer version) {\n    Map<String,Object> props;\n    Map<String,Slice> slices;\n\n    Map<String,Object> sliceObjs = (Map<String,Object>)objs.get(DocCollection.SHARDS);\n    if (sliceObjs == null) {\n      // legacy format from 4.0... there was no separate \"shards\" level to contain the collection shards.\n      slices = makeSlices(objs);\n      props = Collections.emptyMap();\n    } else {\n      slices = makeSlices(sliceObjs);\n      props = new HashMap<>(objs);\n      objs.remove(DocCollection.SHARDS);\n    }\n\n    Object routerObj = props.get(DocCollection.DOC_ROUTER);\n    DocRouter router;\n    if (routerObj == null) {\n      router = DocRouter.DEFAULT;\n    } else if (routerObj instanceof String) {\n      // back compat with Solr4.4\n      router = DocRouter.getDocRouter((String)routerObj);\n    } else {\n      Map routerProps = (Map)routerObj;\n      router = DocRouter.getDocRouter(routerProps.get(\"name\"));\n    }\n\n    return new DocCollection(name, slices, props, router, version);\n  }\n\n","sourceOld":"  private static DocCollection collectionFromObjects(String name, Map<String,Object> objs) {\n    Map<String,Object> props;\n    Map<String,Slice> slices;\n\n    Map<String,Object> sliceObjs = (Map<String,Object>)objs.get(DocCollection.SHARDS);\n    if (sliceObjs == null) {\n      // legacy format from 4.0... there was no separate \"shards\" level to contain the collection shards.\n      slices = makeSlices(objs);\n      props = Collections.emptyMap();\n    } else {\n      slices = makeSlices(sliceObjs);\n      props = new HashMap<>(objs);\n      objs.remove(DocCollection.SHARDS);\n    }\n\n    Object routerObj = props.get(DocCollection.DOC_ROUTER);\n    DocRouter router;\n    if (routerObj == null) {\n      router = DocRouter.DEFAULT;\n    } else if (routerObj instanceof String) {\n      // back compat with Solr4.4\n      router = DocRouter.getDocRouter((String)routerObj);\n    } else {\n      Map routerProps = (Map)routerObj;\n      router = DocRouter.getDocRouter(routerProps.get(\"name\"));\n    }\n\n    return new DocCollection(name, slices, props, router);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"dc4e6d2476fe40f282c0c25e20e629a6f37580cf":["89f828d954597b98a28942874636f35c719b8a5d"],"d3fcb70cf561547c7bb1506e0cf32ca7b1287064":["407687e67faf6e1f02a211ca078d8e3eed631027","dc4e6d2476fe40f282c0c25e20e629a6f37580cf"],"634f330c54fd3f9f491d52036dc3f40b4f4d8934":["8ce74fbb2af4ab7e70d5a0971b7a0264021d59a0"],"89f828d954597b98a28942874636f35c719b8a5d":["c5a558d54519c651068ddb202f03befefb1514a7"],"c5a558d54519c651068ddb202f03befefb1514a7":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"407687e67faf6e1f02a211ca078d8e3eed631027":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","89f828d954597b98a28942874636f35c719b8a5d"],"8ce74fbb2af4ab7e70d5a0971b7a0264021d59a0":["e187a371a1d09379bb452c2c13a7b9221525dff8"],"e187a371a1d09379bb452c2c13a7b9221525dff8":["dc4e6d2476fe40f282c0c25e20e629a6f37580cf"],"0622fbd990643ae4cacb693db6a0c82cf8916ae2":["634f330c54fd3f9f491d52036dc3f40b4f4d8934"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["0622fbd990643ae4cacb693db6a0c82cf8916ae2"]},"commit2Childs":{"dc4e6d2476fe40f282c0c25e20e629a6f37580cf":["d3fcb70cf561547c7bb1506e0cf32ca7b1287064","e187a371a1d09379bb452c2c13a7b9221525dff8"],"d3fcb70cf561547c7bb1506e0cf32ca7b1287064":[],"634f330c54fd3f9f491d52036dc3f40b4f4d8934":["0622fbd990643ae4cacb693db6a0c82cf8916ae2"],"89f828d954597b98a28942874636f35c719b8a5d":["dc4e6d2476fe40f282c0c25e20e629a6f37580cf","407687e67faf6e1f02a211ca078d8e3eed631027"],"407687e67faf6e1f02a211ca078d8e3eed631027":["d3fcb70cf561547c7bb1506e0cf32ca7b1287064"],"c5a558d54519c651068ddb202f03befefb1514a7":["89f828d954597b98a28942874636f35c719b8a5d"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["c5a558d54519c651068ddb202f03befefb1514a7","407687e67faf6e1f02a211ca078d8e3eed631027"],"8ce74fbb2af4ab7e70d5a0971b7a0264021d59a0":["634f330c54fd3f9f491d52036dc3f40b4f4d8934"],"e187a371a1d09379bb452c2c13a7b9221525dff8":["8ce74fbb2af4ab7e70d5a0971b7a0264021d59a0"],"0622fbd990643ae4cacb693db6a0c82cf8916ae2":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["d3fcb70cf561547c7bb1506e0cf32ca7b1287064","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}