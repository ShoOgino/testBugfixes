{"path":"lucene/highlighter/src/test/org/apache/lucene/search/highlight/HighlighterTest#testCustomScoreQueryHighlight().mjava","commits":[{"id":"a4388b311bcdd7863e5e3c63404688e60d8e14fe","date":1434124772,"type":0,"author":"Michael McCandless","isMerge":false,"pathNew":"lucene/highlighter/src/test/org/apache/lucene/search/highlight/HighlighterTest#testCustomScoreQueryHighlight().mjava","pathOld":"/dev/null","sourceNew":"  public void testCustomScoreQueryHighlight() throws Exception{\n    TermQuery termQuery = new TermQuery(new Term(FIELD_NAME, \"very\"));\n    CustomScoreQuery query = new CustomScoreQuery(termQuery);\n\n    searcher = newSearcher(reader);\n    TopDocs hits = searcher.search(query, 10);\n    assertEquals(2, hits.totalHits);\n    QueryScorer scorer = new QueryScorer(query, FIELD_NAME);\n    Highlighter highlighter = new Highlighter(scorer);\n\n    final int docId0 = hits.scoreDocs[0].doc;\n    StoredDocument doc = searcher.doc(docId0);\n    String storedField = doc.get(FIELD_NAME);\n\n    TokenStream stream = getAnyTokenStream(FIELD_NAME, docId0);\n    Fragmenter fragmenter = new SimpleSpanFragmenter(scorer);\n    highlighter.setTextFragmenter(fragmenter);\n    String fragment = highlighter.getBestFragment(stream, storedField);\n    assertEquals(\"Hello this is a piece of text that is <B>very</B> long and contains too much preamble and the meat is really here which says kennedy has been shot\", fragment);\n\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"6654c5f3ec2e4a84ef867c82d4eec872c2372c8c","date":1453060490,"type":3,"author":"Michael McCandless","isMerge":false,"pathNew":"lucene/highlighter/src/test/org/apache/lucene/search/highlight/HighlighterTest#testCustomScoreQueryHighlight().mjava","pathOld":"lucene/highlighter/src/test/org/apache/lucene/search/highlight/HighlighterTest#testCustomScoreQueryHighlight().mjava","sourceNew":"  public void testCustomScoreQueryHighlight() throws Exception{\n    TermQuery termQuery = new TermQuery(new Term(FIELD_NAME, \"very\"));\n    CustomScoreQuery query = new CustomScoreQuery(termQuery);\n\n    searcher = newSearcher(reader);\n    TopDocs hits = searcher.search(query, 10);\n    assertEquals(2, hits.totalHits);\n    QueryScorer scorer = new QueryScorer(query, FIELD_NAME);\n    Highlighter highlighter = new Highlighter(scorer);\n\n    final int docId0 = hits.scoreDocs[0].doc;\n    Document doc = searcher.doc(docId0);\n    String storedField = doc.get(FIELD_NAME);\n\n    TokenStream stream = getAnyTokenStream(FIELD_NAME, docId0);\n    Fragmenter fragmenter = new SimpleSpanFragmenter(scorer);\n    highlighter.setTextFragmenter(fragmenter);\n    String fragment = highlighter.getBestFragment(stream, storedField);\n    assertEquals(\"Hello this is a piece of text that is <B>very</B> long and contains too much preamble and the meat is really here which says kennedy has been shot\", fragment);\n\n  }\n\n","sourceOld":"  public void testCustomScoreQueryHighlight() throws Exception{\n    TermQuery termQuery = new TermQuery(new Term(FIELD_NAME, \"very\"));\n    CustomScoreQuery query = new CustomScoreQuery(termQuery);\n\n    searcher = newSearcher(reader);\n    TopDocs hits = searcher.search(query, 10);\n    assertEquals(2, hits.totalHits);\n    QueryScorer scorer = new QueryScorer(query, FIELD_NAME);\n    Highlighter highlighter = new Highlighter(scorer);\n\n    final int docId0 = hits.scoreDocs[0].doc;\n    StoredDocument doc = searcher.doc(docId0);\n    String storedField = doc.get(FIELD_NAME);\n\n    TokenStream stream = getAnyTokenStream(FIELD_NAME, docId0);\n    Fragmenter fragmenter = new SimpleSpanFragmenter(scorer);\n    highlighter.setTextFragmenter(fragmenter);\n    String fragment = highlighter.getBestFragment(stream, storedField);\n    assertEquals(\"Hello this is a piece of text that is <B>very</B> long and contains too much preamble and the meat is really here which says kennedy has been shot\", fragment);\n\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"615370d2b876c3435773b5174df2e2242ad7981a","date":1495117651,"type":3,"author":"Adrien Grand","isMerge":false,"pathNew":"lucene/highlighter/src/test/org/apache/lucene/search/highlight/HighlighterTest#testCustomScoreQueryHighlight().mjava","pathOld":"lucene/highlighter/src/test/org/apache/lucene/search/highlight/HighlighterTest#testCustomScoreQueryHighlight().mjava","sourceNew":"  public void testCustomScoreQueryHighlight() throws Exception{\n    TermQuery termQuery = new TermQuery(new Term(FIELD_NAME, \"very\"));\n    CustomScoreQuery query = new CustomScoreQuery(termQuery);\n\n    searcher = newSearcher(reader);\n    TopDocs hits = searcher.search(query, 10, new Sort(SortField.FIELD_DOC, SortField.FIELD_SCORE));\n    assertEquals(2, hits.totalHits);\n    QueryScorer scorer = new QueryScorer(query, FIELD_NAME);\n    Highlighter highlighter = new Highlighter(scorer);\n\n    final int docId0 = hits.scoreDocs[0].doc;\n    Document doc = searcher.doc(docId0);\n    String storedField = doc.get(FIELD_NAME);\n\n    TokenStream stream = getAnyTokenStream(FIELD_NAME, docId0);\n    Fragmenter fragmenter = new SimpleSpanFragmenter(scorer);\n    highlighter.setTextFragmenter(fragmenter);\n    String fragment = highlighter.getBestFragment(stream, storedField);\n    assertEquals(\"Hello this is a piece of text that is <B>very</B> long and contains too much preamble and the meat is really here which says kennedy has been shot\", fragment);\n\n  }\n\n","sourceOld":"  public void testCustomScoreQueryHighlight() throws Exception{\n    TermQuery termQuery = new TermQuery(new Term(FIELD_NAME, \"very\"));\n    CustomScoreQuery query = new CustomScoreQuery(termQuery);\n\n    searcher = newSearcher(reader);\n    TopDocs hits = searcher.search(query, 10);\n    assertEquals(2, hits.totalHits);\n    QueryScorer scorer = new QueryScorer(query, FIELD_NAME);\n    Highlighter highlighter = new Highlighter(scorer);\n\n    final int docId0 = hits.scoreDocs[0].doc;\n    Document doc = searcher.doc(docId0);\n    String storedField = doc.get(FIELD_NAME);\n\n    TokenStream stream = getAnyTokenStream(FIELD_NAME, docId0);\n    Fragmenter fragmenter = new SimpleSpanFragmenter(scorer);\n    highlighter.setTextFragmenter(fragmenter);\n    String fragment = highlighter.getBestFragment(stream, storedField);\n    assertEquals(\"Hello this is a piece of text that is <B>very</B> long and contains too much preamble and the meat is really here which says kennedy has been shot\", fragment);\n\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"e9017cf144952056066919f1ebc7897ff9bd71b1","date":1496757600,"type":3,"author":"Shalin Shekhar Mangar","isMerge":true,"pathNew":"lucene/highlighter/src/test/org/apache/lucene/search/highlight/HighlighterTest#testCustomScoreQueryHighlight().mjava","pathOld":"lucene/highlighter/src/test/org/apache/lucene/search/highlight/HighlighterTest#testCustomScoreQueryHighlight().mjava","sourceNew":"  public void testCustomScoreQueryHighlight() throws Exception{\n    TermQuery termQuery = new TermQuery(new Term(FIELD_NAME, \"very\"));\n    CustomScoreQuery query = new CustomScoreQuery(termQuery);\n\n    searcher = newSearcher(reader);\n    TopDocs hits = searcher.search(query, 10, new Sort(SortField.FIELD_DOC, SortField.FIELD_SCORE));\n    assertEquals(2, hits.totalHits);\n    QueryScorer scorer = new QueryScorer(query, FIELD_NAME);\n    Highlighter highlighter = new Highlighter(scorer);\n\n    final int docId0 = hits.scoreDocs[0].doc;\n    Document doc = searcher.doc(docId0);\n    String storedField = doc.get(FIELD_NAME);\n\n    TokenStream stream = getAnyTokenStream(FIELD_NAME, docId0);\n    Fragmenter fragmenter = new SimpleSpanFragmenter(scorer);\n    highlighter.setTextFragmenter(fragmenter);\n    String fragment = highlighter.getBestFragment(stream, storedField);\n    assertEquals(\"Hello this is a piece of text that is <B>very</B> long and contains too much preamble and the meat is really here which says kennedy has been shot\", fragment);\n\n  }\n\n","sourceOld":"  public void testCustomScoreQueryHighlight() throws Exception{\n    TermQuery termQuery = new TermQuery(new Term(FIELD_NAME, \"very\"));\n    CustomScoreQuery query = new CustomScoreQuery(termQuery);\n\n    searcher = newSearcher(reader);\n    TopDocs hits = searcher.search(query, 10);\n    assertEquals(2, hits.totalHits);\n    QueryScorer scorer = new QueryScorer(query, FIELD_NAME);\n    Highlighter highlighter = new Highlighter(scorer);\n\n    final int docId0 = hits.scoreDocs[0].doc;\n    Document doc = searcher.doc(docId0);\n    String storedField = doc.get(FIELD_NAME);\n\n    TokenStream stream = getAnyTokenStream(FIELD_NAME, docId0);\n    Fragmenter fragmenter = new SimpleSpanFragmenter(scorer);\n    highlighter.setTextFragmenter(fragmenter);\n    String fragment = highlighter.getBestFragment(stream, storedField);\n    assertEquals(\"Hello this is a piece of text that is <B>very</B> long and contains too much preamble and the meat is really here which says kennedy has been shot\", fragment);\n\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"a82662cae660e76ded4de1e9b451633e523d83e1","date":1513619223,"type":4,"author":"Alan Woodward","isMerge":false,"pathNew":"/dev/null","pathOld":"lucene/highlighter/src/test/org/apache/lucene/search/highlight/HighlighterTest#testCustomScoreQueryHighlight().mjava","sourceNew":null,"sourceOld":"  public void testCustomScoreQueryHighlight() throws Exception{\n    TermQuery termQuery = new TermQuery(new Term(FIELD_NAME, \"very\"));\n    CustomScoreQuery query = new CustomScoreQuery(termQuery);\n\n    searcher = newSearcher(reader);\n    TopDocs hits = searcher.search(query, 10, new Sort(SortField.FIELD_DOC, SortField.FIELD_SCORE));\n    assertEquals(2, hits.totalHits);\n    QueryScorer scorer = new QueryScorer(query, FIELD_NAME);\n    Highlighter highlighter = new Highlighter(scorer);\n\n    final int docId0 = hits.scoreDocs[0].doc;\n    Document doc = searcher.doc(docId0);\n    String storedField = doc.get(FIELD_NAME);\n\n    TokenStream stream = getAnyTokenStream(FIELD_NAME, docId0);\n    Fragmenter fragmenter = new SimpleSpanFragmenter(scorer);\n    highlighter.setTextFragmenter(fragmenter);\n    String fragment = highlighter.getBestFragment(stream, storedField);\n    assertEquals(\"Hello this is a piece of text that is <B>very</B> long and contains too much preamble and the meat is really here which says kennedy has been shot\", fragment);\n\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"e9017cf144952056066919f1ebc7897ff9bd71b1":["6654c5f3ec2e4a84ef867c82d4eec872c2372c8c","615370d2b876c3435773b5174df2e2242ad7981a"],"615370d2b876c3435773b5174df2e2242ad7981a":["6654c5f3ec2e4a84ef867c82d4eec872c2372c8c"],"a82662cae660e76ded4de1e9b451633e523d83e1":["615370d2b876c3435773b5174df2e2242ad7981a"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"a4388b311bcdd7863e5e3c63404688e60d8e14fe":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["a82662cae660e76ded4de1e9b451633e523d83e1"],"6654c5f3ec2e4a84ef867c82d4eec872c2372c8c":["a4388b311bcdd7863e5e3c63404688e60d8e14fe"]},"commit2Childs":{"e9017cf144952056066919f1ebc7897ff9bd71b1":[],"615370d2b876c3435773b5174df2e2242ad7981a":["e9017cf144952056066919f1ebc7897ff9bd71b1","a82662cae660e76ded4de1e9b451633e523d83e1"],"a82662cae660e76ded4de1e9b451633e523d83e1":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["a4388b311bcdd7863e5e3c63404688e60d8e14fe"],"a4388b311bcdd7863e5e3c63404688e60d8e14fe":["6654c5f3ec2e4a84ef867c82d4eec872c2372c8c"],"6654c5f3ec2e4a84ef867c82d4eec872c2372c8c":["e9017cf144952056066919f1ebc7897ff9bd71b1","615370d2b876c3435773b5174df2e2242ad7981a"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["e9017cf144952056066919f1ebc7897ff9bd71b1","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}