{"path":"solr/solrj/src/test/org/apache/solr/client/solrj/SolrExampleTests#testExpandComponent().mjava","commits":[{"id":"84bc0ab6faa849a8e6667f3bce45874b858d44c9","date":1427871306,"type":0,"author":"Varun Thacker","isMerge":false,"pathNew":"solr/solrj/src/test/org/apache/solr/client/solrj/SolrExampleTests#testExpandComponent().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testExpandComponent() throws IOException, SolrServerException {\n    SolrClient server = getSolrClient();\n    server.deleteByQuery(\"*:*\");\n\n    ArrayList<SolrInputDocument> docs = new ArrayList<>();\n    docs.add( makeTestDoc(\"id\",\"1\", \"term_s\", \"YYYY\", \"group_s\", \"group1\", \"test_ti\", \"5\", \"test_tl\", \"10\", \"test_tf\", \"2000\", \"type_s\", \"parent\"));\n    docs.add( makeTestDoc(\"id\",\"2\", \"term_s\",\"YYYY\", \"group_s\", \"group1\", \"test_ti\", \"50\", \"test_tl\", \"100\", \"test_tf\", \"200\", \"type_s\", \"child\"));\n    docs.add( makeTestDoc(\"id\",\"3\", \"term_s\", \"YYYY\", \"test_ti\", \"5000\", \"test_tl\", \"100\", \"test_tf\", \"200\"));\n    docs.add( makeTestDoc(\"id\",\"4\", \"term_s\", \"YYYY\", \"test_ti\", \"500\", \"test_tl\", \"1000\", \"test_tf\", \"2000\"));\n    docs.add( makeTestDoc(\"id\",\"5\", \"term_s\", \"YYYY\", \"group_s\", \"group2\", \"test_ti\", \"4\", \"test_tl\", \"10\", \"test_tf\", \"2000\", \"type_s\", \"parent\"));\n    docs.add( makeTestDoc(\"id\",\"6\", \"term_s\",\"YYYY\", \"group_s\", \"group2\", \"test_ti\", \"10\", \"test_tl\", \"100\", \"test_tf\", \"200\", \"type_s\", \"child\"));\n    docs.add( makeTestDoc(\"id\",\"7\", \"term_s\", \"YYYY\", \"group_s\", \"group1\", \"test_ti\", \"1\", \"test_tl\", \"100000\", \"test_tf\", \"2000\", \"type_s\", \"child\"));\n    docs.add( makeTestDoc(\"id\",\"8\", \"term_s\",\"YYYY\", \"group_s\", \"group2\", \"test_ti\", \"2\", \"test_tl\", \"100000\", \"test_tf\", \"200\", \"type_s\", \"child\"));\n\n    server.add(docs);\n    server.commit();\n\n    ModifiableSolrParams msParams = new ModifiableSolrParams();\n    msParams.add(\"q\", \"*:*\");\n    msParams.add(\"fq\", \"{!collapse field=group_s}\");\n    msParams.add(\"defType\", \"edismax\");\n    msParams.add(\"bf\", \"field(test_ti)\");\n    msParams.add(\"expand\", \"true\");\n    QueryResponse resp = server.query(msParams);\n\n    Map<String, SolrDocumentList> expanded = resp.getExpandedResults();\n    assertEquals(2, expanded.size());\n    assertEquals(\"1\", expanded.get(\"group1\").get(0).get(\"id\"));\n    assertEquals(\"7\", expanded.get(\"group1\").get(1).get(\"id\"));\n    assertEquals(\"5\", expanded.get(\"group2\").get(0).get(\"id\"));\n    assertEquals(\"8\", expanded.get(\"group2\").get(1).get(\"id\"));\n\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"0c924d4069ef5a5bc479a493befe0121aada6896","date":1427901860,"type":0,"author":"Robert Muir","isMerge":true,"pathNew":"solr/solrj/src/test/org/apache/solr/client/solrj/SolrExampleTests#testExpandComponent().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testExpandComponent() throws IOException, SolrServerException {\n    SolrClient server = getSolrClient();\n    server.deleteByQuery(\"*:*\");\n\n    ArrayList<SolrInputDocument> docs = new ArrayList<>();\n    docs.add( makeTestDoc(\"id\",\"1\", \"term_s\", \"YYYY\", \"group_s\", \"group1\", \"test_ti\", \"5\", \"test_tl\", \"10\", \"test_tf\", \"2000\", \"type_s\", \"parent\"));\n    docs.add( makeTestDoc(\"id\",\"2\", \"term_s\",\"YYYY\", \"group_s\", \"group1\", \"test_ti\", \"50\", \"test_tl\", \"100\", \"test_tf\", \"200\", \"type_s\", \"child\"));\n    docs.add( makeTestDoc(\"id\",\"3\", \"term_s\", \"YYYY\", \"test_ti\", \"5000\", \"test_tl\", \"100\", \"test_tf\", \"200\"));\n    docs.add( makeTestDoc(\"id\",\"4\", \"term_s\", \"YYYY\", \"test_ti\", \"500\", \"test_tl\", \"1000\", \"test_tf\", \"2000\"));\n    docs.add( makeTestDoc(\"id\",\"5\", \"term_s\", \"YYYY\", \"group_s\", \"group2\", \"test_ti\", \"4\", \"test_tl\", \"10\", \"test_tf\", \"2000\", \"type_s\", \"parent\"));\n    docs.add( makeTestDoc(\"id\",\"6\", \"term_s\",\"YYYY\", \"group_s\", \"group2\", \"test_ti\", \"10\", \"test_tl\", \"100\", \"test_tf\", \"200\", \"type_s\", \"child\"));\n    docs.add( makeTestDoc(\"id\",\"7\", \"term_s\", \"YYYY\", \"group_s\", \"group1\", \"test_ti\", \"1\", \"test_tl\", \"100000\", \"test_tf\", \"2000\", \"type_s\", \"child\"));\n    docs.add( makeTestDoc(\"id\",\"8\", \"term_s\",\"YYYY\", \"group_s\", \"group2\", \"test_ti\", \"2\", \"test_tl\", \"100000\", \"test_tf\", \"200\", \"type_s\", \"child\"));\n\n    server.add(docs);\n    server.commit();\n\n    ModifiableSolrParams msParams = new ModifiableSolrParams();\n    msParams.add(\"q\", \"*:*\");\n    msParams.add(\"fq\", \"{!collapse field=group_s}\");\n    msParams.add(\"defType\", \"edismax\");\n    msParams.add(\"bf\", \"field(test_ti)\");\n    msParams.add(\"expand\", \"true\");\n    QueryResponse resp = server.query(msParams);\n\n    Map<String, SolrDocumentList> expanded = resp.getExpandedResults();\n    assertEquals(2, expanded.size());\n    assertEquals(\"1\", expanded.get(\"group1\").get(0).get(\"id\"));\n    assertEquals(\"7\", expanded.get(\"group1\").get(1).get(\"id\"));\n    assertEquals(\"5\", expanded.get(\"group2\").get(0).get(\"id\"));\n    assertEquals(\"8\", expanded.get(\"group2\").get(1).get(\"id\"));\n\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"1b91e97078e3f16849905e6185c71bddb6292e8f","date":1501107874,"type":3,"author":"Steve Rowe","isMerge":false,"pathNew":"solr/solrj/src/test/org/apache/solr/client/solrj/SolrExampleTests#testExpandComponent().mjava","pathOld":"solr/solrj/src/test/org/apache/solr/client/solrj/SolrExampleTests#testExpandComponent().mjava","sourceNew":"  @Test\n  public void testExpandComponent() throws IOException, SolrServerException {\n    SolrClient server = getSolrClient();\n    server.deleteByQuery(\"*:*\");\n\n    ArrayList<SolrInputDocument> docs = new ArrayList<>();\n    docs.add( makeTestDoc(\"id\",\"1\", \"term_s\", \"YYYY\", \"group_s\", \"group1\", \"test_i\", \"5\", \"test_l\", \"10\", \"test_f\", \"2000\", \"type_s\", \"parent\"));\n    docs.add( makeTestDoc(\"id\",\"2\", \"term_s\",\"YYYY\", \"group_s\", \"group1\", \"test_i\", \"50\", \"test_l\", \"100\", \"test_f\", \"200\", \"type_s\", \"child\"));\n    docs.add( makeTestDoc(\"id\",\"3\", \"term_s\", \"YYYY\", \"test_i\", \"5000\", \"test_l\", \"100\", \"test_f\", \"200\"));\n    docs.add( makeTestDoc(\"id\",\"4\", \"term_s\", \"YYYY\", \"test_i\", \"500\", \"test_l\", \"1000\", \"test_f\", \"2000\"));\n    docs.add( makeTestDoc(\"id\",\"5\", \"term_s\", \"YYYY\", \"group_s\", \"group2\", \"test_i\", \"4\", \"test_l\", \"10\", \"test_f\", \"2000\", \"type_s\", \"parent\"));\n    docs.add( makeTestDoc(\"id\",\"6\", \"term_s\",\"YYYY\", \"group_s\", \"group2\", \"test_i\", \"10\", \"test_l\", \"100\", \"test_f\", \"200\", \"type_s\", \"child\"));\n    docs.add( makeTestDoc(\"id\",\"7\", \"term_s\", \"YYYY\", \"group_s\", \"group1\", \"test_i\", \"1\", \"test_l\", \"100000\", \"test_f\", \"2000\", \"type_s\", \"child\"));\n    docs.add( makeTestDoc(\"id\",\"8\", \"term_s\",\"YYYY\", \"group_s\", \"group2\", \"test_i\", \"2\", \"test_l\", \"100000\", \"test_f\", \"200\", \"type_s\", \"child\"));\n\n    server.add(docs);\n    server.commit();\n\n    ModifiableSolrParams msParams = new ModifiableSolrParams();\n    msParams.add(\"q\", \"*:*\");\n    msParams.add(\"fq\", \"{!collapse field=group_s}\");\n    msParams.add(\"defType\", \"edismax\");\n    msParams.add(\"bf\", \"field(test_i)\");\n    msParams.add(\"expand\", \"true\");\n    QueryResponse resp = server.query(msParams);\n\n    Map<String, SolrDocumentList> expanded = resp.getExpandedResults();\n    assertEquals(2, expanded.size());\n    assertEquals(\"1\", expanded.get(\"group1\").get(0).get(\"id\"));\n    assertEquals(\"7\", expanded.get(\"group1\").get(1).get(\"id\"));\n    assertEquals(\"5\", expanded.get(\"group2\").get(0).get(\"id\"));\n    assertEquals(\"8\", expanded.get(\"group2\").get(1).get(\"id\"));\n\n  }\n\n","sourceOld":"  @Test\n  public void testExpandComponent() throws IOException, SolrServerException {\n    SolrClient server = getSolrClient();\n    server.deleteByQuery(\"*:*\");\n\n    ArrayList<SolrInputDocument> docs = new ArrayList<>();\n    docs.add( makeTestDoc(\"id\",\"1\", \"term_s\", \"YYYY\", \"group_s\", \"group1\", \"test_ti\", \"5\", \"test_tl\", \"10\", \"test_tf\", \"2000\", \"type_s\", \"parent\"));\n    docs.add( makeTestDoc(\"id\",\"2\", \"term_s\",\"YYYY\", \"group_s\", \"group1\", \"test_ti\", \"50\", \"test_tl\", \"100\", \"test_tf\", \"200\", \"type_s\", \"child\"));\n    docs.add( makeTestDoc(\"id\",\"3\", \"term_s\", \"YYYY\", \"test_ti\", \"5000\", \"test_tl\", \"100\", \"test_tf\", \"200\"));\n    docs.add( makeTestDoc(\"id\",\"4\", \"term_s\", \"YYYY\", \"test_ti\", \"500\", \"test_tl\", \"1000\", \"test_tf\", \"2000\"));\n    docs.add( makeTestDoc(\"id\",\"5\", \"term_s\", \"YYYY\", \"group_s\", \"group2\", \"test_ti\", \"4\", \"test_tl\", \"10\", \"test_tf\", \"2000\", \"type_s\", \"parent\"));\n    docs.add( makeTestDoc(\"id\",\"6\", \"term_s\",\"YYYY\", \"group_s\", \"group2\", \"test_ti\", \"10\", \"test_tl\", \"100\", \"test_tf\", \"200\", \"type_s\", \"child\"));\n    docs.add( makeTestDoc(\"id\",\"7\", \"term_s\", \"YYYY\", \"group_s\", \"group1\", \"test_ti\", \"1\", \"test_tl\", \"100000\", \"test_tf\", \"2000\", \"type_s\", \"child\"));\n    docs.add( makeTestDoc(\"id\",\"8\", \"term_s\",\"YYYY\", \"group_s\", \"group2\", \"test_ti\", \"2\", \"test_tl\", \"100000\", \"test_tf\", \"200\", \"type_s\", \"child\"));\n\n    server.add(docs);\n    server.commit();\n\n    ModifiableSolrParams msParams = new ModifiableSolrParams();\n    msParams.add(\"q\", \"*:*\");\n    msParams.add(\"fq\", \"{!collapse field=group_s}\");\n    msParams.add(\"defType\", \"edismax\");\n    msParams.add(\"bf\", \"field(test_ti)\");\n    msParams.add(\"expand\", \"true\");\n    QueryResponse resp = server.query(msParams);\n\n    Map<String, SolrDocumentList> expanded = resp.getExpandedResults();\n    assertEquals(2, expanded.size());\n    assertEquals(\"1\", expanded.get(\"group1\").get(0).get(\"id\"));\n    assertEquals(\"7\", expanded.get(\"group1\").get(1).get(\"id\"));\n    assertEquals(\"5\", expanded.get(\"group2\").get(0).get(\"id\"));\n    assertEquals(\"8\", expanded.get(\"group2\").get(1).get(\"id\"));\n\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"7a23cf16c8fa265dc0a564adcabb55e3f054e0ac","date":1502192746,"type":3,"author":"Shalin Shekhar Mangar","isMerge":true,"pathNew":"solr/solrj/src/test/org/apache/solr/client/solrj/SolrExampleTests#testExpandComponent().mjava","pathOld":"solr/solrj/src/test/org/apache/solr/client/solrj/SolrExampleTests#testExpandComponent().mjava","sourceNew":"  @Test\n  public void testExpandComponent() throws IOException, SolrServerException {\n    SolrClient server = getSolrClient();\n    server.deleteByQuery(\"*:*\");\n\n    ArrayList<SolrInputDocument> docs = new ArrayList<>();\n    docs.add( makeTestDoc(\"id\",\"1\", \"term_s\", \"YYYY\", \"group_s\", \"group1\", \"test_i\", \"5\", \"test_l\", \"10\", \"test_f\", \"2000\", \"type_s\", \"parent\"));\n    docs.add( makeTestDoc(\"id\",\"2\", \"term_s\",\"YYYY\", \"group_s\", \"group1\", \"test_i\", \"50\", \"test_l\", \"100\", \"test_f\", \"200\", \"type_s\", \"child\"));\n    docs.add( makeTestDoc(\"id\",\"3\", \"term_s\", \"YYYY\", \"test_i\", \"5000\", \"test_l\", \"100\", \"test_f\", \"200\"));\n    docs.add( makeTestDoc(\"id\",\"4\", \"term_s\", \"YYYY\", \"test_i\", \"500\", \"test_l\", \"1000\", \"test_f\", \"2000\"));\n    docs.add( makeTestDoc(\"id\",\"5\", \"term_s\", \"YYYY\", \"group_s\", \"group2\", \"test_i\", \"4\", \"test_l\", \"10\", \"test_f\", \"2000\", \"type_s\", \"parent\"));\n    docs.add( makeTestDoc(\"id\",\"6\", \"term_s\",\"YYYY\", \"group_s\", \"group2\", \"test_i\", \"10\", \"test_l\", \"100\", \"test_f\", \"200\", \"type_s\", \"child\"));\n    docs.add( makeTestDoc(\"id\",\"7\", \"term_s\", \"YYYY\", \"group_s\", \"group1\", \"test_i\", \"1\", \"test_l\", \"100000\", \"test_f\", \"2000\", \"type_s\", \"child\"));\n    docs.add( makeTestDoc(\"id\",\"8\", \"term_s\",\"YYYY\", \"group_s\", \"group2\", \"test_i\", \"2\", \"test_l\", \"100000\", \"test_f\", \"200\", \"type_s\", \"child\"));\n\n    server.add(docs);\n    server.commit();\n\n    ModifiableSolrParams msParams = new ModifiableSolrParams();\n    msParams.add(\"q\", \"*:*\");\n    msParams.add(\"fq\", \"{!collapse field=group_s}\");\n    msParams.add(\"defType\", \"edismax\");\n    msParams.add(\"bf\", \"field(test_i)\");\n    msParams.add(\"expand\", \"true\");\n    QueryResponse resp = server.query(msParams);\n\n    Map<String, SolrDocumentList> expanded = resp.getExpandedResults();\n    assertEquals(2, expanded.size());\n    assertEquals(\"1\", expanded.get(\"group1\").get(0).get(\"id\"));\n    assertEquals(\"7\", expanded.get(\"group1\").get(1).get(\"id\"));\n    assertEquals(\"5\", expanded.get(\"group2\").get(0).get(\"id\"));\n    assertEquals(\"8\", expanded.get(\"group2\").get(1).get(\"id\"));\n\n  }\n\n","sourceOld":"  @Test\n  public void testExpandComponent() throws IOException, SolrServerException {\n    SolrClient server = getSolrClient();\n    server.deleteByQuery(\"*:*\");\n\n    ArrayList<SolrInputDocument> docs = new ArrayList<>();\n    docs.add( makeTestDoc(\"id\",\"1\", \"term_s\", \"YYYY\", \"group_s\", \"group1\", \"test_ti\", \"5\", \"test_tl\", \"10\", \"test_tf\", \"2000\", \"type_s\", \"parent\"));\n    docs.add( makeTestDoc(\"id\",\"2\", \"term_s\",\"YYYY\", \"group_s\", \"group1\", \"test_ti\", \"50\", \"test_tl\", \"100\", \"test_tf\", \"200\", \"type_s\", \"child\"));\n    docs.add( makeTestDoc(\"id\",\"3\", \"term_s\", \"YYYY\", \"test_ti\", \"5000\", \"test_tl\", \"100\", \"test_tf\", \"200\"));\n    docs.add( makeTestDoc(\"id\",\"4\", \"term_s\", \"YYYY\", \"test_ti\", \"500\", \"test_tl\", \"1000\", \"test_tf\", \"2000\"));\n    docs.add( makeTestDoc(\"id\",\"5\", \"term_s\", \"YYYY\", \"group_s\", \"group2\", \"test_ti\", \"4\", \"test_tl\", \"10\", \"test_tf\", \"2000\", \"type_s\", \"parent\"));\n    docs.add( makeTestDoc(\"id\",\"6\", \"term_s\",\"YYYY\", \"group_s\", \"group2\", \"test_ti\", \"10\", \"test_tl\", \"100\", \"test_tf\", \"200\", \"type_s\", \"child\"));\n    docs.add( makeTestDoc(\"id\",\"7\", \"term_s\", \"YYYY\", \"group_s\", \"group1\", \"test_ti\", \"1\", \"test_tl\", \"100000\", \"test_tf\", \"2000\", \"type_s\", \"child\"));\n    docs.add( makeTestDoc(\"id\",\"8\", \"term_s\",\"YYYY\", \"group_s\", \"group2\", \"test_ti\", \"2\", \"test_tl\", \"100000\", \"test_tf\", \"200\", \"type_s\", \"child\"));\n\n    server.add(docs);\n    server.commit();\n\n    ModifiableSolrParams msParams = new ModifiableSolrParams();\n    msParams.add(\"q\", \"*:*\");\n    msParams.add(\"fq\", \"{!collapse field=group_s}\");\n    msParams.add(\"defType\", \"edismax\");\n    msParams.add(\"bf\", \"field(test_ti)\");\n    msParams.add(\"expand\", \"true\");\n    QueryResponse resp = server.query(msParams);\n\n    Map<String, SolrDocumentList> expanded = resp.getExpandedResults();\n    assertEquals(2, expanded.size());\n    assertEquals(\"1\", expanded.get(\"group1\").get(0).get(\"id\"));\n    assertEquals(\"7\", expanded.get(\"group1\").get(1).get(\"id\"));\n    assertEquals(\"5\", expanded.get(\"group2\").get(0).get(\"id\"));\n    assertEquals(\"8\", expanded.get(\"group2\").get(1).get(\"id\"));\n\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"84bc0ab6faa849a8e6667f3bce45874b858d44c9":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"7a23cf16c8fa265dc0a564adcabb55e3f054e0ac":["84bc0ab6faa849a8e6667f3bce45874b858d44c9","1b91e97078e3f16849905e6185c71bddb6292e8f"],"1b91e97078e3f16849905e6185c71bddb6292e8f":["84bc0ab6faa849a8e6667f3bce45874b858d44c9"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["1b91e97078e3f16849905e6185c71bddb6292e8f"],"0c924d4069ef5a5bc479a493befe0121aada6896":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","84bc0ab6faa849a8e6667f3bce45874b858d44c9"]},"commit2Childs":{"84bc0ab6faa849a8e6667f3bce45874b858d44c9":["7a23cf16c8fa265dc0a564adcabb55e3f054e0ac","1b91e97078e3f16849905e6185c71bddb6292e8f","0c924d4069ef5a5bc479a493befe0121aada6896"],"7a23cf16c8fa265dc0a564adcabb55e3f054e0ac":[],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["84bc0ab6faa849a8e6667f3bce45874b858d44c9","0c924d4069ef5a5bc479a493befe0121aada6896"],"1b91e97078e3f16849905e6185c71bddb6292e8f":["7a23cf16c8fa265dc0a564adcabb55e3f054e0ac","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[],"0c924d4069ef5a5bc479a493befe0121aada6896":[]},"heads":["7a23cf16c8fa265dc0a564adcabb55e3f054e0ac","cd5edd1f2b162a5cfa08efd17851a07373a96817","0c924d4069ef5a5bc479a493befe0121aada6896"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}