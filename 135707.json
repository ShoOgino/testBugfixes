{"path":"solr/solrj/src/java/org/apache/solr/client/solrj/io/sql/DriverImpl#connect(String).mjava","commits":[{"id":"6209d9025a3f5ce74a8295606b15060efd4d7542","date":1442585859,"type":0,"author":"Joel Bernstein","isMerge":false,"pathNew":"solr/solrj/src/java/org/apache/solr/client/solrj/io/sql/DriverImpl#connect(String).mjava","pathOld":"/dev/null","sourceNew":"  public Connection connect(String url) throws SQLException {\n\n    if(!acceptsURL(url)) {\n      return null;\n    }\n\n    String[] parts = url.split(\"://\", 0);\n\n    if(parts.length < 2) {\n      throw new SQLException(\"The zkHost must start with ://\");\n    }\n\n    String zkUrl  = parts[1];\n    String[] zkUrlParts = zkUrl.split(\"\\\\?\");\n\n    if(zkUrlParts.length < 2) {\n      throw new SQLException(\"The connection url has no connection properties. At a mininum the collection must be specified.\");\n    }\n\n    String connectionProps = zkUrlParts[1];\n    String zkHost = zkUrlParts[0];\n    Properties props = new Properties();\n    loadParams(connectionProps, props);\n    String collection = (String)props.remove(\"collection\");\n\n    if(!props.containsKey(\"aggregationMode\")) {\n      props.setProperty(\"aggregationMode\",\"facet\");\n    }\n\n    return new ConnectionImpl(zkHost, collection, props);\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":["546740f8d88c7cb2343ec9a84ad18f24c66f1d82"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"546740f8d88c7cb2343ec9a84ad18f24c66f1d82","date":1448382444,"type":3,"author":"Joel Bernstein","isMerge":false,"pathNew":"solr/solrj/src/java/org/apache/solr/client/solrj/io/sql/DriverImpl#connect(String).mjava","pathOld":"solr/solrj/src/java/org/apache/solr/client/solrj/io/sql/DriverImpl#connect(String).mjava","sourceNew":"  public Connection connect(String url) throws SQLException {\n    return connect(url, new Properties());\n  }\n\n","sourceOld":"  public Connection connect(String url) throws SQLException {\n\n    if(!acceptsURL(url)) {\n      return null;\n    }\n\n    String[] parts = url.split(\"://\", 0);\n\n    if(parts.length < 2) {\n      throw new SQLException(\"The zkHost must start with ://\");\n    }\n\n    String zkUrl  = parts[1];\n    String[] zkUrlParts = zkUrl.split(\"\\\\?\");\n\n    if(zkUrlParts.length < 2) {\n      throw new SQLException(\"The connection url has no connection properties. At a mininum the collection must be specified.\");\n    }\n\n    String connectionProps = zkUrlParts[1];\n    String zkHost = zkUrlParts[0];\n    Properties props = new Properties();\n    loadParams(connectionProps, props);\n    String collection = (String)props.remove(\"collection\");\n\n    if(!props.containsKey(\"aggregationMode\")) {\n      props.setProperty(\"aggregationMode\",\"facet\");\n    }\n\n    return new ConnectionImpl(zkHost, collection, props);\n  }\n\n","bugFix":["6209d9025a3f5ce74a8295606b15060efd4d7542"],"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"546740f8d88c7cb2343ec9a84ad18f24c66f1d82":["6209d9025a3f5ce74a8295606b15060efd4d7542"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"6209d9025a3f5ce74a8295606b15060efd4d7542":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["546740f8d88c7cb2343ec9a84ad18f24c66f1d82"]},"commit2Childs":{"546740f8d88c7cb2343ec9a84ad18f24c66f1d82":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["6209d9025a3f5ce74a8295606b15060efd4d7542"],"6209d9025a3f5ce74a8295606b15060efd4d7542":["546740f8d88c7cb2343ec9a84ad18f24c66f1d82"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}