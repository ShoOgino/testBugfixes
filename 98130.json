{"path":"lucene/core/src/java/org/apache/lucene/index/IndexWriter#commitInternal().mjava","commits":[{"id":"b47e1512544568a22b82c96169d466fae8a4b79e","date":1354519309,"type":1,"author":"Shai Erera","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/index/IndexWriter#commitInternal().mjava","pathOld":"lucene/core/src/java/org/apache/lucene/index/IndexWriter#commitInternal(Map[String,String]).mjava","sourceNew":"  private final void commitInternal() throws IOException {\n\n    if (infoStream.isEnabled(\"IW\")) {\n      infoStream.message(\"IW\", \"commit: start\");\n    }\n\n    synchronized(commitLock) {\n      ensureOpen(false);\n\n      if (infoStream.isEnabled(\"IW\")) {\n        infoStream.message(\"IW\", \"commit: enter lock\");\n      }\n\n      if (pendingCommit == null) {\n        if (infoStream.isEnabled(\"IW\")) {\n          infoStream.message(\"IW\", \"commit: now prepare\");\n        }\n        prepareCommitInternal();\n      } else {\n        if (infoStream.isEnabled(\"IW\")) {\n          infoStream.message(\"IW\", \"commit: already prepared\");\n        }\n      }\n\n      finishCommit();\n    }\n  }\n\n","sourceOld":"  private final void commitInternal(Map<String,String> commitUserData) throws IOException {\n\n    if (infoStream.isEnabled(\"IW\")) {\n      infoStream.message(\"IW\", \"commit: start\");\n    }\n\n    synchronized(commitLock) {\n      ensureOpen(false);\n\n      if (infoStream.isEnabled(\"IW\")) {\n        infoStream.message(\"IW\", \"commit: enter lock\");\n      }\n\n      if (pendingCommit == null) {\n        if (infoStream.isEnabled(\"IW\")) {\n          infoStream.message(\"IW\", \"commit: now prepare\");\n        }\n        prepareCommit(commitUserData);\n      } else {\n        if (infoStream.isEnabled(\"IW\")) {\n          infoStream.message(\"IW\", \"commit: already prepared\");\n        }\n      }\n\n      finishCommit();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"407687e67faf6e1f02a211ca078d8e3eed631027","date":1355157407,"type":0,"author":"Robert Muir","isMerge":true,"pathNew":"lucene/core/src/java/org/apache/lucene/index/IndexWriter#commitInternal().mjava","pathOld":"/dev/null","sourceNew":"  private final void commitInternal() throws IOException {\n\n    if (infoStream.isEnabled(\"IW\")) {\n      infoStream.message(\"IW\", \"commit: start\");\n    }\n\n    synchronized(commitLock) {\n      ensureOpen(false);\n\n      if (infoStream.isEnabled(\"IW\")) {\n        infoStream.message(\"IW\", \"commit: enter lock\");\n      }\n\n      if (pendingCommit == null) {\n        if (infoStream.isEnabled(\"IW\")) {\n          infoStream.message(\"IW\", \"commit: now prepare\");\n        }\n        prepareCommitInternal();\n      } else {\n        if (infoStream.isEnabled(\"IW\")) {\n          infoStream.message(\"IW\", \"commit: already prepared\");\n        }\n      }\n\n      finishCommit();\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"ee59f646cf24586a449cad77391a60a3ac8d8959","date":1408015131,"type":5,"author":"Shai Erera","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/index/IndexWriter#commitInternal(MergePolicy).mjava","pathOld":"lucene/core/src/java/org/apache/lucene/index/IndexWriter#commitInternal().mjava","sourceNew":"  private final void commitInternal(MergePolicy mergePolicy) throws IOException {\n\n    if (infoStream.isEnabled(\"IW\")) {\n      infoStream.message(\"IW\", \"commit: start\");\n    }\n\n    synchronized(commitLock) {\n      ensureOpen(false);\n\n      if (infoStream.isEnabled(\"IW\")) {\n        infoStream.message(\"IW\", \"commit: enter lock\");\n      }\n\n      if (pendingCommit == null) {\n        if (infoStream.isEnabled(\"IW\")) {\n          infoStream.message(\"IW\", \"commit: now prepare\");\n        }\n        prepareCommitInternal(mergePolicy);\n      } else {\n        if (infoStream.isEnabled(\"IW\")) {\n          infoStream.message(\"IW\", \"commit: already prepared\");\n        }\n      }\n\n      finishCommit();\n    }\n  }\n\n","sourceOld":"  private final void commitInternal() throws IOException {\n\n    if (infoStream.isEnabled(\"IW\")) {\n      infoStream.message(\"IW\", \"commit: start\");\n    }\n\n    synchronized(commitLock) {\n      ensureOpen(false);\n\n      if (infoStream.isEnabled(\"IW\")) {\n        infoStream.message(\"IW\", \"commit: enter lock\");\n      }\n\n      if (pendingCommit == null) {\n        if (infoStream.isEnabled(\"IW\")) {\n          infoStream.message(\"IW\", \"commit: now prepare\");\n        }\n        prepareCommitInternal();\n      } else {\n        if (infoStream.isEnabled(\"IW\")) {\n          infoStream.message(\"IW\", \"commit: already prepared\");\n        }\n      }\n\n      finishCommit();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"ee59f646cf24586a449cad77391a60a3ac8d8959":["b47e1512544568a22b82c96169d466fae8a4b79e"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"407687e67faf6e1f02a211ca078d8e3eed631027":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","b47e1512544568a22b82c96169d466fae8a4b79e"],"b47e1512544568a22b82c96169d466fae8a4b79e":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["ee59f646cf24586a449cad77391a60a3ac8d8959"]},"commit2Childs":{"ee59f646cf24586a449cad77391a60a3ac8d8959":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["407687e67faf6e1f02a211ca078d8e3eed631027","b47e1512544568a22b82c96169d466fae8a4b79e"],"407687e67faf6e1f02a211ca078d8e3eed631027":[],"b47e1512544568a22b82c96169d466fae8a4b79e":["ee59f646cf24586a449cad77391a60a3ac8d8959","407687e67faf6e1f02a211ca078d8e3eed631027"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["407687e67faf6e1f02a211ca078d8e3eed631027","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}