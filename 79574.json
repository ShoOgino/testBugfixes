{"path":"solr/core/src/test/org/apache/solr/cloud/AliasIntegrationTest#waitForAliasesUpdate(int,ZkStateReader).mjava","commits":[{"id":"fc21266829f9cffb210032f5808ce3a630780ab3","date":1560248034,"type":0,"author":"Andrzej Bialecki","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/cloud/AliasIntegrationTest#waitForAliasesUpdate(int,ZkStateReader).mjava","pathOld":"/dev/null","sourceNew":"  private int waitForAliasesUpdate(int lastVersion, ZkStateReader zkStateReader) throws Exception {\n    TimeOut timeOut = new TimeOut(30, TimeUnit.SECONDS, TimeSource.NANO_TIME);\n    while (!timeOut.hasTimedOut()) {\n      zkStateReader.aliasesManager.update();\n      Aliases aliases = zkStateReader.getAliases();\n      if (aliases.getZNodeVersion() > lastVersion) {\n        return aliases.getZNodeVersion();\n      } else if (aliases.getZNodeVersion() < lastVersion) {\n        fail(\"unexpected znode version, expected  greater than \" + lastVersion + \" but was \" + aliases.getZNodeVersion());\n      }\n      timeOut.sleep(1000);\n    }\n    if (timeOut.hasTimedOut()) {\n      fail(\"timed out waiting for aliases to update\");\n    }\n    return -1;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"fc21266829f9cffb210032f5808ce3a630780ab3":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["fc21266829f9cffb210032f5808ce3a630780ab3"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["fc21266829f9cffb210032f5808ce3a630780ab3"],"fc21266829f9cffb210032f5808ce3a630780ab3":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}