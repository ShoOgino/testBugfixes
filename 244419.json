{"path":"solr/core/src/java/org/apache/solr/handler/component/FacetComponent.FacetContext#initContext(ResponseBuilder).mjava","commits":[{"id":"22d0a81a05eba47d5e18976f17d88306b218cc22","date":1436341569,"type":0,"author":"Shalin Shekhar Mangar","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/handler/component/FacetComponent.FacetContext#initContext(ResponseBuilder).mjava","pathOld":"/dev/null","sourceNew":"    /**\n     * Initializes FacetContext using request parameters and saves it in the request\n     * context which can be retrieved via {@link #getFacetContext(SolrQueryRequest)}\n     *\n     * @param rb the ResponseBuilder object from which the request parameters are read\n     *           and to which the FacetContext object is saved.\n     */\n    public static void initContext(ResponseBuilder rb)  {\n      // Parse facet queries and ranges and put them in the request\n      // context so that they can be hung under pivots if needed without re-parsing\n      List<RangeFacetRequest> facetRanges = null;\n      List<FacetBase> facetQueries = null;\n\n      String[] ranges = rb.req.getParams().getParams(FacetParams.FACET_RANGE);\n      if (ranges != null) {\n        facetRanges = new ArrayList<>(ranges.length);\n        for (String range : ranges) {\n          RangeFacetRequest rangeFacetRequest = new RangeFacetRequest(rb, range);\n          facetRanges.add(rangeFacetRequest);\n        }\n      }\n\n      String[] queries = rb.req.getParams().getParams(FacetParams.FACET_QUERY);\n      if (queries != null)  {\n        facetQueries = new ArrayList<>();\n        for (String query : queries) {\n          facetQueries.add(new FacetBase(rb, FacetParams.FACET_QUERY, query));\n        }\n      }\n\n      rb.req.getContext().put(FACET_CONTEXT_KEY, new FacetContext(facetRanges, facetQueries));\n    }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"22d0a81a05eba47d5e18976f17d88306b218cc22":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["22d0a81a05eba47d5e18976f17d88306b218cc22"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["22d0a81a05eba47d5e18976f17d88306b218cc22"],"22d0a81a05eba47d5e18976f17d88306b218cc22":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}