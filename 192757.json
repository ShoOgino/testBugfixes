{"path":"solr/core/src/test/org/apache/solr/request/TestFaceting#testListedTermCounts().mjava","commits":[{"id":"aab508a3cd5a554096365ed514f5eba621b30279","date":1548678429,"type":0,"author":"Mikhail Khludnev","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/request/TestFaceting#testListedTermCounts().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testListedTermCounts() throws Exception {\n    assertU(adoc(\"id\", \"1\", \"title_ws\", \"Book1\"));\n    assertU(adoc(\"id\", \"2\", \"title_ws\", \"Book2\"));\n    assertU(adoc(\"id\", \"3\", \"title_ws\", \"Book3\"));\n    assertU(adoc(\"id\", \"4\", \"title_ws\", \"Book2\"));\n    assertU(adoc(\"id\", \"5\", \"title_ws\", \"Book1\"));\n    assertU(adoc(\"id\", \"6\", \"title_ws\", \"Book2\"));\n    assertU(commit());\n\n    // order is the same as in facet.field, when no facet.sort specified\n    assertQ(req(\"q\", \"*:*\", FacetParams.FACET, \"true\", FacetParams.FACET_FIELD, \"{!terms=Book3,Book2,Book1}title_ws\"),\n        \"//lst[@name='facet_fields']/lst[@name='title_ws']/int[1][@name='Book3']\",\n        \"//lst[@name='facet_fields']/lst[@name='title_ws']/int[2][@name='Book2']\",\n        \"//lst[@name='facet_fields']/lst[@name='title_ws']/int[3][@name='Book1']\");\n\n    // order is by counts, when facet.sort by count specified\n    assertQ(req(\"q\", \"*:*\", FacetParams.FACET, \"true\", FacetParams.FACET_FIELD, \"{!terms=Book3,Book2,Book1}title_ws\",\n            \"facet.sort\", FacetParams.FACET_SORT_COUNT),\n        \"//lst[@name='facet_fields']/lst[@name='title_ws']/int[1][@name='Book2']\",\n        \"//lst[@name='facet_fields']/lst[@name='title_ws']/int[2][@name='Book1']\",\n        \"//lst[@name='facet_fields']/lst[@name='title_ws']/int[3][@name='Book3']\");\n\n    // order is by index, when facet.sort by index specified\n    assertQ(req(\"q\", \"*:*\", FacetParams.FACET, \"true\", FacetParams.FACET_FIELD, \"{!terms=Book3,Book2,Book1}title_ws\",\n            \"facet.sort\", FacetParams.FACET_SORT_INDEX),\n        \"//lst[@name='facet_fields']/lst[@name='title_ws']/int[1][@name='Book1']\",\n        \"//lst[@name='facet_fields']/lst[@name='title_ws']/int[2][@name='Book2']\",\n        \"//lst[@name='facet_fields']/lst[@name='title_ws']/int[3][@name='Book3']\");\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"aab508a3cd5a554096365ed514f5eba621b30279":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["aab508a3cd5a554096365ed514f5eba621b30279"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["aab508a3cd5a554096365ed514f5eba621b30279"],"aab508a3cd5a554096365ed514f5eba621b30279":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}