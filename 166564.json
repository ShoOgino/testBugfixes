{"path":"solr/core/src/java/org/apache/solr/request/IntervalFacets#getSortedIntervals(String[]).mjava","commits":[{"id":"84b24f47dd3dfa4e2396cd6f819a35445b0a53fd","date":1406137403,"type":0,"author":"Erick Erickson","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/request/IntervalFacets#getSortedIntervals(String[]).mjava","pathOld":"/dev/null","sourceNew":"  private FacetInterval[] getSortedIntervals(String[] intervals) throws SyntaxError {\n    FacetInterval[] sortedIntervals = new FacetInterval[intervals.length];\n    int idx = 0;\n    for (String intervalStr : intervals) {\n      sortedIntervals[idx++] = new FacetInterval(schemaField, intervalStr);\n    }\n    \n    /*\n     * This comparator sorts the intervals by start value from lower to greater\n     */\n    Arrays.sort(sortedIntervals, new Comparator<FacetInterval>() {\n\n      @Override\n      public int compare(FacetInterval o1, FacetInterval o2) {\n        assert o1 != null;\n        assert o2 != null;\n        return compareStart(o1, o2);\n      }\n\n      private int compareStart(FacetInterval o1, FacetInterval o2) {\n        if (o1.start == null) {\n          if (o2.start == null) {\n            return 0;\n          }\n          return -1;\n        }\n        if (o2.start == null) {\n          return 1;\n        }\n        return o1.start.compareTo(o2.start);\n      }\n    });\n    return sortedIntervals;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"a0e3055974cda209e4f95efadcd904f0ebf03ada","date":1406238198,"type":5,"author":"Erick Erickson","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/request/IntervalFacets#getSortedIntervals(String[],SolrParams).mjava","pathOld":"solr/core/src/java/org/apache/solr/request/IntervalFacets#getSortedIntervals(String[]).mjava","sourceNew":"  private FacetInterval[] getSortedIntervals(String[] intervals, SolrParams params) throws SyntaxError {\n    FacetInterval[] sortedIntervals = new FacetInterval[intervals.length];\n    int idx = 0;\n    for (String intervalStr : intervals) {\n      sortedIntervals[idx++] = new FacetInterval(schemaField, intervalStr, params);\n    }\n    \n    /*\n     * This comparator sorts the intervals by start value from lower to greater\n     */\n    Arrays.sort(sortedIntervals, new Comparator<FacetInterval>() {\n\n      @Override\n      public int compare(FacetInterval o1, FacetInterval o2) {\n        assert o1 != null;\n        assert o2 != null;\n        return compareStart(o1, o2);\n      }\n\n      private int compareStart(FacetInterval o1, FacetInterval o2) {\n        if (o1.start == null) {\n          if (o2.start == null) {\n            return 0;\n          }\n          return -1;\n        }\n        if (o2.start == null) {\n          return 1;\n        }\n        return o1.start.compareTo(o2.start);\n      }\n    });\n    return sortedIntervals;\n  }\n\n","sourceOld":"  private FacetInterval[] getSortedIntervals(String[] intervals) throws SyntaxError {\n    FacetInterval[] sortedIntervals = new FacetInterval[intervals.length];\n    int idx = 0;\n    for (String intervalStr : intervals) {\n      sortedIntervals[idx++] = new FacetInterval(schemaField, intervalStr);\n    }\n    \n    /*\n     * This comparator sorts the intervals by start value from lower to greater\n     */\n    Arrays.sort(sortedIntervals, new Comparator<FacetInterval>() {\n\n      @Override\n      public int compare(FacetInterval o1, FacetInterval o2) {\n        assert o1 != null;\n        assert o2 != null;\n        return compareStart(o1, o2);\n      }\n\n      private int compareStart(FacetInterval o1, FacetInterval o2) {\n        if (o1.start == null) {\n          if (o2.start == null) {\n            return 0;\n          }\n          return -1;\n        }\n        if (o2.start == null) {\n          return 1;\n        }\n        return o1.start.compareTo(o2.start);\n      }\n    });\n    return sortedIntervals;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"84b24f47dd3dfa4e2396cd6f819a35445b0a53fd":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e3055974cda209e4f95efadcd904f0ebf03ada":["84b24f47dd3dfa4e2396cd6f819a35445b0a53fd"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["a0e3055974cda209e4f95efadcd904f0ebf03ada"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["84b24f47dd3dfa4e2396cd6f819a35445b0a53fd"],"84b24f47dd3dfa4e2396cd6f819a35445b0a53fd":["a0e3055974cda209e4f95efadcd904f0ebf03ada"],"a0e3055974cda209e4f95efadcd904f0ebf03ada":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}