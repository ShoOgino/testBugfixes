{"path":"solr/contrib/ltr/src/test/org/apache/solr/ltr/model/TestNeuralNetworkModel#testExplain().mjava","commits":[{"id":"ef667cf0740be872811ddbabc4952c3a21c1fa2e","date":1520015275,"type":0,"author":"Christine Poerschke","isMerge":false,"pathNew":"solr/contrib/ltr/src/test/org/apache/solr/ltr/model/TestNeuralNetworkModel#testExplain().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testExplain() throws Exception {\n\n    final LTRScoringModel model = createModelFromFiles(\"neuralnetworkmodel_explainable.json\",\n        \"neuralnetworkmodel_features.json\");\n\n    final float[] featureValues = { 1.2f, 3.4f, 5.6f, 7.8f };\n\n    final List<Explanation> explanations = new ArrayList<Explanation>();\n    for (int ii=0; ii<featureValues.length; ++ii)\n    {\n      explanations.add(Explanation.match(featureValues[ii], \"\"));\n    }\n\n    final float finalScore = model.score(featureValues);\n    final Explanation explanation = model.explain(null, 0, finalScore, explanations);\n    assertEquals(finalScore+\" = (name=neuralnetworkmodel_explainable\"+\n        \",featureValues=[constantOne=1.2,constantTwo=3.4,constantThree=5.6,constantFour=7.8]\"+\n        \",layers=[(matrix=2x4,activation=relu),(matrix=1x2,activation=identity)]\"+\n        \")\\n\",\n        explanation.toString());\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"ef667cf0740be872811ddbabc4952c3a21c1fa2e":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["ef667cf0740be872811ddbabc4952c3a21c1fa2e"]},"commit2Childs":{"ef667cf0740be872811ddbabc4952c3a21c1fa2e":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["ef667cf0740be872811ddbabc4952c3a21c1fa2e"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}