{"path":"contrib/spatial/src/java/org/apache/lucene/spatial/geohash/GeoHashUtils#decode_exactly(String).mjava","commits":[{"id":"0584ee2be458044f19041ac184df00c69c632b4d","date":1231348258,"type":0,"author":"Ryan McKinley","isMerge":false,"pathNew":"contrib/spatial/src/java/org/apache/lucene/spatial/geohash/GeoHashUtils#decode_exactly(String).mjava","pathOld":"/dev/null","sourceNew":"\tpublic static double[] decode_exactly (String geohash){\n\t\tdouble[] lat_interval = {-90.0 , 90.0};\n\t\tdouble[] lon_interval = {-180.0, 180.0};\n\t\t\n\t\tdouble lat_err =  90.0;\n\t\tdouble lon_err = 180.0;\n\t\tboolean is_even = true;\n\t\tint sz = geohash.length();\n\t\tint bsz = bits.length;\n\t\tdouble latitude, longitude;\n\t\tfor (int i = 0; i < sz; i++){\n\t\t\t\n\t\t\tint cd = _decodemap.get(geohash.charAt(i));\n\t\t\t\n\t\t\tfor (int z = 0; z< bsz; z++){\n\t\t\t\tint mask = bits[z];\n\t\t\t\tif (is_even){\n\t\t\t\t\tlon_err /= 2;\n\t\t\t\t\tif ((cd & mask) != 0){\n\t\t\t\t\t\tlon_interval[0] = (lon_interval[0]+lon_interval[1])/2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlon_interval[1] = (lon_interval[0]+lon_interval[1])/2;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tlat_err /=2;\n\t\t\t\t\n\t\t\t\t\tif ( (cd & mask) != 0){\n\t\t\t\t\t\tlat_interval[0] = (lat_interval[0]+lat_interval[1])/2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlat_interval[1] = (lat_interval[0]+lat_interval[1])/2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tis_even = is_even ? false : true;\n\t\t\t}\n\t\t\n\t\t}\n\t\tlatitude  = (lat_interval[0] + lat_interval[1]) / 2;\n\t\tlongitude = (lon_interval[0] + lon_interval[1]) / 2;\n\n\t\treturn new double []{latitude, longitude, lat_err, lon_err};\n\t}\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"0ffa9f5c51e7bbe3489bc384c0397cf904787438","date":1262729028,"type":4,"author":"Simon Willnauer","isMerge":false,"pathNew":"/dev/null","pathOld":"contrib/spatial/src/java/org/apache/lucene/spatial/geohash/GeoHashUtils#decode_exactly(String).mjava","sourceNew":null,"sourceOld":"\tpublic static double[] decode_exactly (String geohash){\n\t\tdouble[] lat_interval = {-90.0 , 90.0};\n\t\tdouble[] lon_interval = {-180.0, 180.0};\n\t\t\n\t\tdouble lat_err =  90.0;\n\t\tdouble lon_err = 180.0;\n\t\tboolean is_even = true;\n\t\tint sz = geohash.length();\n\t\tint bsz = bits.length;\n\t\tdouble latitude, longitude;\n\t\tfor (int i = 0; i < sz; i++){\n\t\t\t\n\t\t\tint cd = _decodemap.get(geohash.charAt(i));\n\t\t\t\n\t\t\tfor (int z = 0; z< bsz; z++){\n\t\t\t\tint mask = bits[z];\n\t\t\t\tif (is_even){\n\t\t\t\t\tlon_err /= 2;\n\t\t\t\t\tif ((cd & mask) != 0){\n\t\t\t\t\t\tlon_interval[0] = (lon_interval[0]+lon_interval[1])/2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlon_interval[1] = (lon_interval[0]+lon_interval[1])/2;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tlat_err /=2;\n\t\t\t\t\n\t\t\t\t\tif ( (cd & mask) != 0){\n\t\t\t\t\t\tlat_interval[0] = (lat_interval[0]+lat_interval[1])/2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlat_interval[1] = (lat_interval[0]+lat_interval[1])/2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tis_even = is_even ? false : true;\n\t\t\t}\n\t\t\n\t\t}\n\t\tlatitude  = (lat_interval[0] + lat_interval[1]) / 2;\n\t\tlongitude = (lon_interval[0] + lon_interval[1]) / 2;\n\n\t\treturn new double []{latitude, longitude, lat_err, lon_err};\n\t}\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"0ffa9f5c51e7bbe3489bc384c0397cf904787438":["0584ee2be458044f19041ac184df00c69c632b4d"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["0ffa9f5c51e7bbe3489bc384c0397cf904787438"],"0584ee2be458044f19041ac184df00c69c632b4d":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"0ffa9f5c51e7bbe3489bc384c0397cf904787438":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["0584ee2be458044f19041ac184df00c69c632b4d"],"0584ee2be458044f19041ac184df00c69c632b4d":["0ffa9f5c51e7bbe3489bc384c0397cf904787438"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}