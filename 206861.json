{"path":"solr/test-framework/src/java/org/apache/solr/cloud/ZkTestServer.ZKServerMain.WatchLimit#updateForWatch(String,Watcher).mjava","commits":[{"id":"144b39b0b004b766b7f785a03b6898512514c0c3","date":1411141724,"type":0,"author":"Timothy Potter","isMerge":false,"pathNew":"solr/test-framework/src/java/org/apache/solr/cloud/ZkTestServer.ZKServerMain.WatchLimit#updateForWatch(String,Watcher).mjava","pathOld":"/dev/null","sourceNew":"      public void updateForWatch(String key, Watcher watcher) {\n        if (watcher != null) {\n          log.debug(\"Watch added: {}: {}\", desc, key);\n          long count = counters.incrementAndGet(key);\n          Long lastCount = maxCounters.get(key);\n          if (lastCount == null || count > lastCount) {\n            maxCounters.put(key, count);\n          }\n          if (count > limit && action != LimitViolationAction.IGNORE) {\n            String msg = \"Number of watches created in parallel for data: \" + key +\n                \", type: \" + desc + \" exceeds limit (\" + count + \" > \" + limit + \")\";\n            log.warn(\"{}\", msg);\n            if (action == LimitViolationAction.FAIL) throw new AssertionError(msg);\n          }\n        }\n      }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"144b39b0b004b766b7f785a03b6898512514c0c3":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["144b39b0b004b766b7f785a03b6898512514c0c3"]},"commit2Childs":{"144b39b0b004b766b7f785a03b6898512514c0c3":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["144b39b0b004b766b7f785a03b6898512514c0c3"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}