{"path":"lucene/src/java/org/apache/lucene/util/CodecUtil#checkHeader(DataInput,String,int,int).mjava","commits":[{"id":"5a26f154aa4ead03cc4cb89ee0e9e4f9b79443f0","date":1301994806,"type":1,"author":"Dawid Weiss","isMerge":false,"pathNew":"lucene/src/java/org/apache/lucene/util/CodecUtil#checkHeader(DataInput,String,int,int).mjava","pathOld":"lucene/src/java/org/apache/lucene/util/CodecUtil#checkHeader(IndexInput,String,int,int).mjava","sourceNew":"  public static int checkHeader(DataInput in, String codec, int minVersion, int maxVersion)\n    throws IOException {\n\n    // Safety to guard against reading a bogus string:\n    final int actualHeader = in.readInt();\n    if (actualHeader != CODEC_MAGIC) {\n      throw new CorruptIndexException(\"codec header mismatch: actual header=\" + actualHeader + \" vs expected header=\" + CODEC_MAGIC);\n    }\n\n    final String actualCodec = in.readString();\n    if (!actualCodec.equals(codec)) {\n      throw new CorruptIndexException(\"codec mismatch: actual codec=\" + actualCodec + \" vs expected codec=\" + codec);\n    }\n\n    final int actualVersion = in.readInt();\n    if (actualVersion < minVersion) {\n      throw new IndexFormatTooOldException(null, actualVersion, minVersion, maxVersion);\n    }\n    if (actualVersion > maxVersion) {\n      throw new IndexFormatTooNewException(null, actualVersion, minVersion, maxVersion);\n    }\n\n    return actualVersion;\n  }\n\n","sourceOld":"  public static int checkHeader(IndexInput in, String codec, int minVersion, int maxVersion)\n    throws IOException {\n\n    // Safety to guard against reading a bogus string:\n    final int actualHeader = in.readInt();\n    if (actualHeader != CODEC_MAGIC) {\n      throw new CorruptIndexException(\"codec header mismatch: actual header=\" + actualHeader + \" vs expected header=\" + CODEC_MAGIC);\n    }\n\n    final String actualCodec = in.readString();\n    if (!actualCodec.equals(codec)) {\n      throw new CorruptIndexException(\"codec mismatch: actual codec=\" + actualCodec + \" vs expected codec=\" + codec);\n    }\n\n    final int actualVersion = in.readInt();\n    if (actualVersion < minVersion) {\n      throw new IndexFormatTooOldException(null, actualVersion, minVersion, maxVersion);\n    }\n    if (actualVersion > maxVersion) {\n      throw new IndexFormatTooNewException(null, actualVersion, minVersion, maxVersion);\n    }\n\n    return actualVersion;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"962d04139994fce5193143ef35615499a9a96d78","date":1302693744,"type":1,"author":"Simon Willnauer","isMerge":true,"pathNew":"lucene/src/java/org/apache/lucene/util/CodecUtil#checkHeader(DataInput,String,int,int).mjava","pathOld":"lucene/src/java/org/apache/lucene/util/CodecUtil#checkHeader(IndexInput,String,int,int).mjava","sourceNew":"  public static int checkHeader(DataInput in, String codec, int minVersion, int maxVersion)\n    throws IOException {\n\n    // Safety to guard against reading a bogus string:\n    final int actualHeader = in.readInt();\n    if (actualHeader != CODEC_MAGIC) {\n      throw new CorruptIndexException(\"codec header mismatch: actual header=\" + actualHeader + \" vs expected header=\" + CODEC_MAGIC);\n    }\n\n    final String actualCodec = in.readString();\n    if (!actualCodec.equals(codec)) {\n      throw new CorruptIndexException(\"codec mismatch: actual codec=\" + actualCodec + \" vs expected codec=\" + codec);\n    }\n\n    final int actualVersion = in.readInt();\n    if (actualVersion < minVersion) {\n      throw new IndexFormatTooOldException(null, actualVersion, minVersion, maxVersion);\n    }\n    if (actualVersion > maxVersion) {\n      throw new IndexFormatTooNewException(null, actualVersion, minVersion, maxVersion);\n    }\n\n    return actualVersion;\n  }\n\n","sourceOld":"  public static int checkHeader(IndexInput in, String codec, int minVersion, int maxVersion)\n    throws IOException {\n\n    // Safety to guard against reading a bogus string:\n    final int actualHeader = in.readInt();\n    if (actualHeader != CODEC_MAGIC) {\n      throw new CorruptIndexException(\"codec header mismatch: actual header=\" + actualHeader + \" vs expected header=\" + CODEC_MAGIC);\n    }\n\n    final String actualCodec = in.readString();\n    if (!actualCodec.equals(codec)) {\n      throw new CorruptIndexException(\"codec mismatch: actual codec=\" + actualCodec + \" vs expected codec=\" + codec);\n    }\n\n    final int actualVersion = in.readInt();\n    if (actualVersion < minVersion) {\n      throw new IndexFormatTooOldException(null, actualVersion, minVersion, maxVersion);\n    }\n    if (actualVersion > maxVersion) {\n      throw new IndexFormatTooNewException(null, actualVersion, minVersion, maxVersion);\n    }\n\n    return actualVersion;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"135621f3a0670a9394eb563224a3b76cc4dddc0f","date":1304344257,"type":0,"author":"Simon Willnauer","isMerge":true,"pathNew":"lucene/src/java/org/apache/lucene/util/CodecUtil#checkHeader(DataInput,String,int,int).mjava","pathOld":"/dev/null","sourceNew":"  public static int checkHeader(DataInput in, String codec, int minVersion, int maxVersion)\n    throws IOException {\n\n    // Safety to guard against reading a bogus string:\n    final int actualHeader = in.readInt();\n    if (actualHeader != CODEC_MAGIC) {\n      throw new CorruptIndexException(\"codec header mismatch: actual header=\" + actualHeader + \" vs expected header=\" + CODEC_MAGIC);\n    }\n\n    final String actualCodec = in.readString();\n    if (!actualCodec.equals(codec)) {\n      throw new CorruptIndexException(\"codec mismatch: actual codec=\" + actualCodec + \" vs expected codec=\" + codec);\n    }\n\n    final int actualVersion = in.readInt();\n    if (actualVersion < minVersion) {\n      throw new IndexFormatTooOldException(null, actualVersion, minVersion, maxVersion);\n    }\n    if (actualVersion > maxVersion) {\n      throw new IndexFormatTooNewException(null, actualVersion, minVersion, maxVersion);\n    }\n\n    return actualVersion;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"a3776dccca01c11e7046323cfad46a3b4a471233","date":1306100719,"type":0,"author":"Steven Rowe","isMerge":true,"pathNew":"lucene/src/java/org/apache/lucene/util/CodecUtil#checkHeader(DataInput,String,int,int).mjava","pathOld":"/dev/null","sourceNew":"  public static int checkHeader(DataInput in, String codec, int minVersion, int maxVersion)\n    throws IOException {\n\n    // Safety to guard against reading a bogus string:\n    final int actualHeader = in.readInt();\n    if (actualHeader != CODEC_MAGIC) {\n      throw new CorruptIndexException(\"codec header mismatch: actual header=\" + actualHeader + \" vs expected header=\" + CODEC_MAGIC);\n    }\n\n    final String actualCodec = in.readString();\n    if (!actualCodec.equals(codec)) {\n      throw new CorruptIndexException(\"codec mismatch: actual codec=\" + actualCodec + \" vs expected codec=\" + codec);\n    }\n\n    final int actualVersion = in.readInt();\n    if (actualVersion < minVersion) {\n      throw new IndexFormatTooOldException(null, actualVersion, minVersion, maxVersion);\n    }\n    if (actualVersion > maxVersion) {\n      throw new IndexFormatTooNewException(null, actualVersion, minVersion, maxVersion);\n    }\n\n    return actualVersion;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"f1efe3edca215dd9891cb42af283fed96f792ca0","date":1320428891,"type":3,"author":"Michael McCandless","isMerge":false,"pathNew":"lucene/src/java/org/apache/lucene/util/CodecUtil#checkHeader(DataInput,String,int,int).mjava","pathOld":"lucene/src/java/org/apache/lucene/util/CodecUtil#checkHeader(DataInput,String,int,int).mjava","sourceNew":"  public static int checkHeader(DataInput in, String codec, int minVersion, int maxVersion)\n    throws IOException {\n\n    // Safety to guard against reading a bogus string:\n    final int actualHeader = in.readInt();\n    if (actualHeader != CODEC_MAGIC) {\n      throw new CorruptIndexException(\"codec header mismatch: actual header=\" + actualHeader + \" vs expected header=\" + CODEC_MAGIC + \" (resource: \" + in + \")\");\n    }\n\n    final String actualCodec = in.readString();\n    if (!actualCodec.equals(codec)) {\n      throw new CorruptIndexException(\"codec mismatch: actual codec=\" + actualCodec + \" vs expected codec=\" + codec + \" (resource: \" + in + \")\");\n    }\n\n    final int actualVersion = in.readInt();\n    if (actualVersion < minVersion) {\n      throw new IndexFormatTooOldException(in, actualVersion, minVersion, maxVersion);\n    }\n    if (actualVersion > maxVersion) {\n      throw new IndexFormatTooNewException(in, actualVersion, minVersion, maxVersion);\n    }\n\n    return actualVersion;\n  }\n\n","sourceOld":"  public static int checkHeader(DataInput in, String codec, int minVersion, int maxVersion)\n    throws IOException {\n\n    // Safety to guard against reading a bogus string:\n    final int actualHeader = in.readInt();\n    if (actualHeader != CODEC_MAGIC) {\n      throw new CorruptIndexException(\"codec header mismatch: actual header=\" + actualHeader + \" vs expected header=\" + CODEC_MAGIC);\n    }\n\n    final String actualCodec = in.readString();\n    if (!actualCodec.equals(codec)) {\n      throw new CorruptIndexException(\"codec mismatch: actual codec=\" + actualCodec + \" vs expected codec=\" + codec);\n    }\n\n    final int actualVersion = in.readInt();\n    if (actualVersion < minVersion) {\n      throw new IndexFormatTooOldException(null, actualVersion, minVersion, maxVersion);\n    }\n    if (actualVersion > maxVersion) {\n      throw new IndexFormatTooNewException(null, actualVersion, minVersion, maxVersion);\n    }\n\n    return actualVersion;\n  }\n\n","bugFix":null,"bugIntro":["9a70ce9bddc6f985feb8e5e182aebe20872328d4","9a70ce9bddc6f985feb8e5e182aebe20872328d4"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"3a119bbc8703c10faa329ec201c654b3a35a1e3e","date":1328644745,"type":5,"author":"Steven Rowe","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/util/CodecUtil#checkHeader(DataInput,String,int,int).mjava","pathOld":"lucene/src/java/org/apache/lucene/util/CodecUtil#checkHeader(DataInput,String,int,int).mjava","sourceNew":"  public static int checkHeader(DataInput in, String codec, int minVersion, int maxVersion)\n    throws IOException {\n\n    // Safety to guard against reading a bogus string:\n    final int actualHeader = in.readInt();\n    if (actualHeader != CODEC_MAGIC) {\n      throw new CorruptIndexException(\"codec header mismatch: actual header=\" + actualHeader + \" vs expected header=\" + CODEC_MAGIC + \" (resource: \" + in + \")\");\n    }\n\n    final String actualCodec = in.readString();\n    if (!actualCodec.equals(codec)) {\n      throw new CorruptIndexException(\"codec mismatch: actual codec=\" + actualCodec + \" vs expected codec=\" + codec + \" (resource: \" + in + \")\");\n    }\n\n    final int actualVersion = in.readInt();\n    if (actualVersion < minVersion) {\n      throw new IndexFormatTooOldException(in, actualVersion, minVersion, maxVersion);\n    }\n    if (actualVersion > maxVersion) {\n      throw new IndexFormatTooNewException(in, actualVersion, minVersion, maxVersion);\n    }\n\n    return actualVersion;\n  }\n\n","sourceOld":"  public static int checkHeader(DataInput in, String codec, int minVersion, int maxVersion)\n    throws IOException {\n\n    // Safety to guard against reading a bogus string:\n    final int actualHeader = in.readInt();\n    if (actualHeader != CODEC_MAGIC) {\n      throw new CorruptIndexException(\"codec header mismatch: actual header=\" + actualHeader + \" vs expected header=\" + CODEC_MAGIC + \" (resource: \" + in + \")\");\n    }\n\n    final String actualCodec = in.readString();\n    if (!actualCodec.equals(codec)) {\n      throw new CorruptIndexException(\"codec mismatch: actual codec=\" + actualCodec + \" vs expected codec=\" + codec + \" (resource: \" + in + \")\");\n    }\n\n    final int actualVersion = in.readInt();\n    if (actualVersion < minVersion) {\n      throw new IndexFormatTooOldException(in, actualVersion, minVersion, maxVersion);\n    }\n    if (actualVersion > maxVersion) {\n      throw new IndexFormatTooNewException(in, actualVersion, minVersion, maxVersion);\n    }\n\n    return actualVersion;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null}],"commit2Parents":{"3a119bbc8703c10faa329ec201c654b3a35a1e3e":["f1efe3edca215dd9891cb42af283fed96f792ca0"],"f1efe3edca215dd9891cb42af283fed96f792ca0":["5a26f154aa4ead03cc4cb89ee0e9e4f9b79443f0"],"a3776dccca01c11e7046323cfad46a3b4a471233":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","5a26f154aa4ead03cc4cb89ee0e9e4f9b79443f0"],"5a26f154aa4ead03cc4cb89ee0e9e4f9b79443f0":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"135621f3a0670a9394eb563224a3b76cc4dddc0f":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","5a26f154aa4ead03cc4cb89ee0e9e4f9b79443f0"],"962d04139994fce5193143ef35615499a9a96d78":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","5a26f154aa4ead03cc4cb89ee0e9e4f9b79443f0"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["3a119bbc8703c10faa329ec201c654b3a35a1e3e"]},"commit2Childs":{"3a119bbc8703c10faa329ec201c654b3a35a1e3e":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"f1efe3edca215dd9891cb42af283fed96f792ca0":["3a119bbc8703c10faa329ec201c654b3a35a1e3e"],"a3776dccca01c11e7046323cfad46a3b4a471233":[],"5a26f154aa4ead03cc4cb89ee0e9e4f9b79443f0":["f1efe3edca215dd9891cb42af283fed96f792ca0","a3776dccca01c11e7046323cfad46a3b4a471233","135621f3a0670a9394eb563224a3b76cc4dddc0f","962d04139994fce5193143ef35615499a9a96d78"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["a3776dccca01c11e7046323cfad46a3b4a471233","5a26f154aa4ead03cc4cb89ee0e9e4f9b79443f0","135621f3a0670a9394eb563224a3b76cc4dddc0f","962d04139994fce5193143ef35615499a9a96d78"],"135621f3a0670a9394eb563224a3b76cc4dddc0f":[],"962d04139994fce5193143ef35615499a9a96d78":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["a3776dccca01c11e7046323cfad46a3b4a471233","135621f3a0670a9394eb563224a3b76cc4dddc0f","962d04139994fce5193143ef35615499a9a96d78","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}