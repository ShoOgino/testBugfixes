{"path":"solr/core/src/test/org/apache/solr/search/QueryEqualityTest#testReRankQuery().mjava","commits":[{"id":"a667f95e8b4d25c8e45a6bb9ba8ce9654e7858d7","date":1401992910,"type":0,"author":"Joel Bernstein","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/QueryEqualityTest#testReRankQuery().mjava","pathOld":"/dev/null","sourceNew":"  public void testReRankQuery() throws Exception {\n    SolrQueryRequest req = req(\"q\", \"*:*\",\n                               \"rqq\", \"{!edismax}hello\",\n                               \"rdocs\", \"20\",\n                               \"rweight\", \"2\",\n                               \"rows\", \"10\",\n                               \"start\", \"0\");\n    try {\n      assertQueryEquals(\"rerank\", req,\n          \"{!rerank reRankQuery=$rqq reRankDocs=$rdocs reRankWeight=$rweight}\",\n          \"{!rerank reRankQuery=$rqq reRankDocs=20 reRankWeight=2}\");\n\n    } finally {\n      req.close();\n    }\n\n\n    req = req(\"qq\", \"*:*\",\n        \"rqq\", \"{!edismax}hello\",\n        \"rdocs\", \"20\",\n        \"rweight\", \"2\",\n        \"rows\", \"100\",\n        \"start\", \"50\");\n    try {\n      assertQueryEquals(\"rerank\", req,\n          \"{!rerank mainQuery=$qq reRankQuery=$rqq reRankDocs=$rdocs reRankWeight=$rweight}\",\n          \"{!rerank mainQuery=$qq reRankQuery=$rqq reRankDocs=20 reRankWeight=2}\");\n\n    } finally {\n      req.close();\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"569aade36ab5d95a5e6b8fca9676ce35657ba6b6","date":1454328039,"type":3,"author":"Christine Poerschke","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/QueryEqualityTest#testReRankQuery().mjava","pathOld":"solr/core/src/test/org/apache/solr/search/QueryEqualityTest#testReRankQuery().mjava","sourceNew":"  public void testReRankQuery() throws Exception {\n    final String defType = ReRankQParserPlugin.NAME;\n    SolrQueryRequest req = req(\"q\", \"*:*\",\n                               \"rqq\", \"{!edismax}hello\",\n                               \"rdocs\", \"20\",\n                               \"rweight\", \"2\",\n                               \"rows\", \"10\",\n                               \"start\", \"0\");\n    try {\n      assertQueryEquals(defType, req,\n          \"{!\"+defType+\" \"+ReRankQParserPlugin.RERANK_QUERY+\"=$rqq \"+ReRankQParserPlugin.RERANK_DOCS+\"=$rdocs \"+ReRankQParserPlugin.RERANK_WEIGHT+\"=$rweight}\",\n          \"{!\"+defType+\" \"+ReRankQParserPlugin.RERANK_QUERY+\"=$rqq \"+ReRankQParserPlugin.RERANK_DOCS+\"=20 \"+ReRankQParserPlugin.RERANK_WEIGHT+\"=2}\");\n\n    } finally {\n      req.close();\n    }\n\n\n    req = req(\"qq\", \"*:*\",\n        \"rqq\", \"{!edismax}hello\",\n        \"rdocs\", \"20\",\n        \"rweight\", \"2\",\n        \"rows\", \"100\",\n        \"start\", \"50\");\n    try {\n      assertQueryEquals(defType, req,\n          \"{!\"+defType+\" mainQuery=$qq \"+ReRankQParserPlugin.RERANK_QUERY+\"=$rqq \"+ReRankQParserPlugin.RERANK_DOCS+\"=$rdocs \"+ReRankQParserPlugin.RERANK_WEIGHT+\"=$rweight}\",\n          \"{!\"+defType+\" mainQuery=$qq \"+ReRankQParserPlugin.RERANK_QUERY+\"=$rqq \"+ReRankQParserPlugin.RERANK_DOCS+\"=20 \"+ReRankQParserPlugin.RERANK_WEIGHT+\"=2}\");\n\n    } finally {\n      req.close();\n    }\n  }\n\n","sourceOld":"  public void testReRankQuery() throws Exception {\n    SolrQueryRequest req = req(\"q\", \"*:*\",\n                               \"rqq\", \"{!edismax}hello\",\n                               \"rdocs\", \"20\",\n                               \"rweight\", \"2\",\n                               \"rows\", \"10\",\n                               \"start\", \"0\");\n    try {\n      assertQueryEquals(\"rerank\", req,\n          \"{!rerank reRankQuery=$rqq reRankDocs=$rdocs reRankWeight=$rweight}\",\n          \"{!rerank reRankQuery=$rqq reRankDocs=20 reRankWeight=2}\");\n\n    } finally {\n      req.close();\n    }\n\n\n    req = req(\"qq\", \"*:*\",\n        \"rqq\", \"{!edismax}hello\",\n        \"rdocs\", \"20\",\n        \"rweight\", \"2\",\n        \"rows\", \"100\",\n        \"start\", \"50\");\n    try {\n      assertQueryEquals(\"rerank\", req,\n          \"{!rerank mainQuery=$qq reRankQuery=$rqq reRankDocs=$rdocs reRankWeight=$rweight}\",\n          \"{!rerank mainQuery=$qq reRankQuery=$rqq reRankDocs=20 reRankWeight=2}\");\n\n    } finally {\n      req.close();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"1e6acbaae7af722f17204ceccf0f7db5753eccf3","date":1454775255,"type":3,"author":"Mike McCandless","isMerge":true,"pathNew":"solr/core/src/test/org/apache/solr/search/QueryEqualityTest#testReRankQuery().mjava","pathOld":"solr/core/src/test/org/apache/solr/search/QueryEqualityTest#testReRankQuery().mjava","sourceNew":"  public void testReRankQuery() throws Exception {\n    final String defType = ReRankQParserPlugin.NAME;\n    SolrQueryRequest req = req(\"q\", \"*:*\",\n                               \"rqq\", \"{!edismax}hello\",\n                               \"rdocs\", \"20\",\n                               \"rweight\", \"2\",\n                               \"rows\", \"10\",\n                               \"start\", \"0\");\n    try {\n      assertQueryEquals(defType, req,\n          \"{!\"+defType+\" \"+ReRankQParserPlugin.RERANK_QUERY+\"=$rqq \"+ReRankQParserPlugin.RERANK_DOCS+\"=$rdocs \"+ReRankQParserPlugin.RERANK_WEIGHT+\"=$rweight}\",\n          \"{!\"+defType+\" \"+ReRankQParserPlugin.RERANK_QUERY+\"=$rqq \"+ReRankQParserPlugin.RERANK_DOCS+\"=20 \"+ReRankQParserPlugin.RERANK_WEIGHT+\"=2}\");\n\n    } finally {\n      req.close();\n    }\n\n\n    req = req(\"qq\", \"*:*\",\n        \"rqq\", \"{!edismax}hello\",\n        \"rdocs\", \"20\",\n        \"rweight\", \"2\",\n        \"rows\", \"100\",\n        \"start\", \"50\");\n    try {\n      assertQueryEquals(defType, req,\n          \"{!\"+defType+\" mainQuery=$qq \"+ReRankQParserPlugin.RERANK_QUERY+\"=$rqq \"+ReRankQParserPlugin.RERANK_DOCS+\"=$rdocs \"+ReRankQParserPlugin.RERANK_WEIGHT+\"=$rweight}\",\n          \"{!\"+defType+\" mainQuery=$qq \"+ReRankQParserPlugin.RERANK_QUERY+\"=$rqq \"+ReRankQParserPlugin.RERANK_DOCS+\"=20 \"+ReRankQParserPlugin.RERANK_WEIGHT+\"=2}\");\n\n    } finally {\n      req.close();\n    }\n  }\n\n","sourceOld":"  public void testReRankQuery() throws Exception {\n    SolrQueryRequest req = req(\"q\", \"*:*\",\n                               \"rqq\", \"{!edismax}hello\",\n                               \"rdocs\", \"20\",\n                               \"rweight\", \"2\",\n                               \"rows\", \"10\",\n                               \"start\", \"0\");\n    try {\n      assertQueryEquals(\"rerank\", req,\n          \"{!rerank reRankQuery=$rqq reRankDocs=$rdocs reRankWeight=$rweight}\",\n          \"{!rerank reRankQuery=$rqq reRankDocs=20 reRankWeight=2}\");\n\n    } finally {\n      req.close();\n    }\n\n\n    req = req(\"qq\", \"*:*\",\n        \"rqq\", \"{!edismax}hello\",\n        \"rdocs\", \"20\",\n        \"rweight\", \"2\",\n        \"rows\", \"100\",\n        \"start\", \"50\");\n    try {\n      assertQueryEquals(\"rerank\", req,\n          \"{!rerank mainQuery=$qq reRankQuery=$rqq reRankDocs=$rdocs reRankWeight=$rweight}\",\n          \"{!rerank mainQuery=$qq reRankQuery=$rqq reRankDocs=20 reRankWeight=2}\");\n\n    } finally {\n      req.close();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"1e6acbaae7af722f17204ceccf0f7db5753eccf3":["a667f95e8b4d25c8e45a6bb9ba8ce9654e7858d7","569aade36ab5d95a5e6b8fca9676ce35657ba6b6"],"569aade36ab5d95a5e6b8fca9676ce35657ba6b6":["a667f95e8b4d25c8e45a6bb9ba8ce9654e7858d7"],"a667f95e8b4d25c8e45a6bb9ba8ce9654e7858d7":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["569aade36ab5d95a5e6b8fca9676ce35657ba6b6"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["a667f95e8b4d25c8e45a6bb9ba8ce9654e7858d7"],"1e6acbaae7af722f17204ceccf0f7db5753eccf3":[],"569aade36ab5d95a5e6b8fca9676ce35657ba6b6":["1e6acbaae7af722f17204ceccf0f7db5753eccf3","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a667f95e8b4d25c8e45a6bb9ba8ce9654e7858d7":["1e6acbaae7af722f17204ceccf0f7db5753eccf3","569aade36ab5d95a5e6b8fca9676ce35657ba6b6"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["1e6acbaae7af722f17204ceccf0f7db5753eccf3","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}