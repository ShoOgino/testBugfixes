{"path":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","commits":[{"id":"8524650e878177081c15c0c5bccfae2c7dca772b","date":1325284910,"type":0,"author":"Yonik Seeley","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"/dev/null","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      IndexWriter writer = solrCoreState.getIndexWriter(core);\n\n      writer.prepareCommit();\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"08bcaef9e931052e4ca24133a89cc6aefaf61829","date":1342469326,"type":3,"author":"Mark Robert Miller","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      IndexWriter writer = solrCoreState.getIndexWriter(core);\n\n      writer.prepareCommit();\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","bugFix":null,"bugIntro":["d9da9f23184cb4c31ddfb7f39a1df00bfbb42cb7"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"fe33227f6805edab2036cbb80645cc4e2d1fa424","date":1342713534,"type":3,"author":"Michael McCandless","isMerge":true,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      IndexWriter writer = solrCoreState.getIndexWriter(core);\n\n      writer.prepareCommit();\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"aba371508186796cc6151d8223a5b4e16d02e26e","date":1343474871,"type":3,"author":"Uwe Schindler","isMerge":true,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      IndexWriter writer = solrCoreState.getIndexWriter(core);\n\n      writer.prepareCommit();\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"d9da9f23184cb4c31ddfb7f39a1df00bfbb42cb7","date":1351216844,"type":3,"author":"Yonik Seeley","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        final Map<String,String> commitData = new HashMap<String,String>();\n        commitData.put(SolrIndexWriter.COMMIT_TIME_MSEC_KEY,\n            String.valueOf(System.currentTimeMillis()));\n\n        iw.get().prepareCommit(commitData);\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","bugFix":["08bcaef9e931052e4ca24133a89cc6aefaf61829"],"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"f2126b84bd093fa3d921582a109a0ee578c28126","date":1351522501,"type":3,"author":"Michael McCandless","isMerge":true,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        final Map<String,String> commitData = new HashMap<String,String>();\n        commitData.put(SolrIndexWriter.COMMIT_TIME_MSEC_KEY,\n            String.valueOf(System.currentTimeMillis()));\n\n        iw.get().prepareCommit(commitData);\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"b47e1512544568a22b82c96169d466fae8a4b79e","date":1354519309,"type":3,"author":"Shai Erera","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        final Map<String,String> commitData = new HashMap<String,String>();\n        commitData.put(SolrIndexWriter.COMMIT_TIME_MSEC_KEY,\n            String.valueOf(System.currentTimeMillis()));\n        iw.get().setCommitData(commitData);\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        final Map<String,String> commitData = new HashMap<String,String>();\n        commitData.put(SolrIndexWriter.COMMIT_TIME_MSEC_KEY,\n            String.valueOf(System.currentTimeMillis()));\n\n        iw.get().prepareCommit(commitData);\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"407687e67faf6e1f02a211ca078d8e3eed631027","date":1355157407,"type":3,"author":"Robert Muir","isMerge":true,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        final Map<String,String> commitData = new HashMap<String,String>();\n        commitData.put(SolrIndexWriter.COMMIT_TIME_MSEC_KEY,\n            String.valueOf(System.currentTimeMillis()));\n        iw.get().setCommitData(commitData);\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        final Map<String,String> commitData = new HashMap<String,String>();\n        commitData.put(SolrIndexWriter.COMMIT_TIME_MSEC_KEY,\n            String.valueOf(System.currentTimeMillis()));\n\n        iw.get().prepareCommit(commitData);\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"634f330c54fd3f9f491d52036dc3f40b4f4d8934","date":1394635157,"type":3,"author":"Robert Muir","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        final Map<String,String> commitData = new HashMap<>();\n        commitData.put(SolrIndexWriter.COMMIT_TIME_MSEC_KEY,\n            String.valueOf(System.currentTimeMillis()));\n        iw.get().setCommitData(commitData);\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        final Map<String,String> commitData = new HashMap<String,String>();\n        commitData.put(SolrIndexWriter.COMMIT_TIME_MSEC_KEY,\n            String.valueOf(System.currentTimeMillis()));\n        iw.get().setCommitData(commitData);\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"bcf9886c8ff537aafde14de48ebf744f5673f08b","date":1439041198,"type":3,"author":"Ramkumar Aiyengar","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        setCommitData(iw.get());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        final Map<String,String> commitData = new HashMap<>();\n        commitData.put(SolrIndexWriter.COMMIT_TIME_MSEC_KEY,\n            String.valueOf(System.currentTimeMillis()));\n        iw.get().setCommitData(commitData);\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","bugFix":null,"bugIntro":["13734b36bfd631ed6a46b961df376f679e8a3f57"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"bc0fbfa191179ae7a0081ee1cf7da0464bcd8078","date":1469530061,"type":3,"author":"Varun Thacker","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        setCommitData(iw.get());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.increment();\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        setCommitData(iw.get());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"3b013574eedcdbac35dc7e35b0ee616ffc38895d","date":1470897818,"type":3,"author":"Noble Paul","isMerge":true,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        setCommitData(iw.get());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.increment();\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        setCommitData(iw.get());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"13734b36bfd631ed6a46b961df376f679e8a3f57","date":1473743967,"type":3,"author":"Varun Thacker","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        SolrIndexWriter.setCommitData(iw.get());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.increment();\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        setCommitData(iw.get());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.increment();\n    }\n  }\n\n","bugFix":["bcf9886c8ff537aafde14de48ebf744f5673f08b"],"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"89424def13674ea17829b41c5883c54ecc31a132","date":1473767373,"type":3,"author":"Noble Paul","isMerge":true,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        SolrIndexWriter.setCommitData(iw.get());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.increment();\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        setCommitData(iw.get());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.increment();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"17e5da53e4e5bd659e22add9bba1cfa222e7e30d","date":1475435902,"type":3,"author":"Karl Wright","isMerge":true,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        SolrIndexWriter.setCommitData(iw.get());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.increment();\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        setCommitData(iw.get());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.increment();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"4cce5816ef15a48a0bc11e5d400497ee4301dd3b","date":1476991456,"type":3,"author":"Kevin Risden","isMerge":true,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        SolrIndexWriter.setCommitData(iw.get());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.increment();\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        setCommitData(iw.get());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.incrementAndGet();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"e52c21eddb989aed5815d30ea4c8abf481ace8ad","date":1488795043,"type":3,"author":"Andrzej Bialecki","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        SolrIndexWriter.setCommitData(iw.get());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) {\n        numErrors.increment();\n        numErrorsCumulative.mark();\n      }\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        SolrIndexWriter.setCommitData(iw.get());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) numErrors.increment();\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"be320990bdc77e643388fa801e75017f19289c42","date":1489477067,"type":3,"author":"Cao Manh Dat","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        SolrIndexWriter.setCommitData(iw.get(), cmd.getVersion());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) {\n        numErrors.increment();\n        numErrorsCumulative.mark();\n      }\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        SolrIndexWriter.setCommitData(iw.get());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) {\n        numErrors.increment();\n        numErrorsCumulative.mark();\n      }\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"f996f8177b9204bdc92f7164460c6cefad9ac99a","date":1489482690,"type":3,"author":"Cao Manh Dat","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        SolrIndexWriter.setCommitData(iw.get(), cmd.getVersion());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) {\n        numErrors.increment();\n        numErrorsCumulative.mark();\n      }\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        SolrIndexWriter.setCommitData(iw.get());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) {\n        numErrors.increment();\n        numErrorsCumulative.mark();\n      }\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"ab68488225b6a6c357dda72ed11dedca9914a192","date":1490013111,"type":3,"author":"Noble Paul","isMerge":true,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        SolrIndexWriter.setCommitData(iw.get(), cmd.getVersion());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) {\n        numErrors.increment();\n        numErrorsCumulative.mark();\n      }\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        SolrIndexWriter.setCommitData(iw.get());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) {\n        numErrors.increment();\n        numErrorsCumulative.mark();\n      }\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"740d649f013f07efbeb73ca854f106c60166e7c0","date":1587431295,"type":3,"author":"Erick Erickson","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start {}\", cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        SolrIndexWriter.setCommitData(iw.get(), cmd.getVersion());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) {\n        numErrors.increment();\n        numErrorsCumulative.mark();\n      }\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start \"+cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        SolrIndexWriter.setCommitData(iw.get(), cmd.getVersion());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) {\n        numErrors.increment();\n        numErrorsCumulative.mark();\n      }\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"b0dfcb99e767e8eafdede3faac6831984ac849fc","date":1589042999,"type":3,"author":"Erick Erickson","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","pathOld":"solr/core/src/java/org/apache/solr/update/DirectUpdateHandler2#prepareCommit(CommitUpdateCommand).mjava","sourceNew":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.debug(\"start {}\", cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        SolrIndexWriter.setCommitData(iw.get(), cmd.getVersion());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.debug(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) {\n        numErrors.increment();\n        numErrorsCumulative.mark();\n      }\n    }\n  }\n\n","sourceOld":"  public void prepareCommit(CommitUpdateCommand cmd) throws IOException {\n\n    boolean error=true;\n\n    try {\n      log.info(\"start {}\", cmd);\n      RefCounted<IndexWriter> iw = solrCoreState.getIndexWriter(core);\n      try {\n        SolrIndexWriter.setCommitData(iw.get(), cmd.getVersion());\n        iw.get().prepareCommit();\n      } finally {\n        iw.decref();\n      }\n\n      log.info(\"end_prepareCommit\");\n\n      error=false;\n    }\n    finally {\n      if (error) {\n        numErrors.increment();\n        numErrorsCumulative.mark();\n      }\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"634f330c54fd3f9f491d52036dc3f40b4f4d8934":["b47e1512544568a22b82c96169d466fae8a4b79e"],"13734b36bfd631ed6a46b961df376f679e8a3f57":["bc0fbfa191179ae7a0081ee1cf7da0464bcd8078"],"b0dfcb99e767e8eafdede3faac6831984ac849fc":["740d649f013f07efbeb73ca854f106c60166e7c0"],"740d649f013f07efbeb73ca854f106c60166e7c0":["be320990bdc77e643388fa801e75017f19289c42"],"407687e67faf6e1f02a211ca078d8e3eed631027":["d9da9f23184cb4c31ddfb7f39a1df00bfbb42cb7","b47e1512544568a22b82c96169d466fae8a4b79e"],"bc0fbfa191179ae7a0081ee1cf7da0464bcd8078":["bcf9886c8ff537aafde14de48ebf744f5673f08b"],"8524650e878177081c15c0c5bccfae2c7dca772b":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"d9da9f23184cb4c31ddfb7f39a1df00bfbb42cb7":["08bcaef9e931052e4ca24133a89cc6aefaf61829"],"4cce5816ef15a48a0bc11e5d400497ee4301dd3b":["bcf9886c8ff537aafde14de48ebf744f5673f08b","17e5da53e4e5bd659e22add9bba1cfa222e7e30d"],"89424def13674ea17829b41c5883c54ecc31a132":["bc0fbfa191179ae7a0081ee1cf7da0464bcd8078","13734b36bfd631ed6a46b961df376f679e8a3f57"],"f996f8177b9204bdc92f7164460c6cefad9ac99a":["e52c21eddb989aed5815d30ea4c8abf481ace8ad"],"aba371508186796cc6151d8223a5b4e16d02e26e":["8524650e878177081c15c0c5bccfae2c7dca772b","08bcaef9e931052e4ca24133a89cc6aefaf61829"],"fe33227f6805edab2036cbb80645cc4e2d1fa424":["8524650e878177081c15c0c5bccfae2c7dca772b","08bcaef9e931052e4ca24133a89cc6aefaf61829"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"17e5da53e4e5bd659e22add9bba1cfa222e7e30d":["bc0fbfa191179ae7a0081ee1cf7da0464bcd8078","89424def13674ea17829b41c5883c54ecc31a132"],"bcf9886c8ff537aafde14de48ebf744f5673f08b":["634f330c54fd3f9f491d52036dc3f40b4f4d8934"],"b47e1512544568a22b82c96169d466fae8a4b79e":["d9da9f23184cb4c31ddfb7f39a1df00bfbb42cb7"],"e52c21eddb989aed5815d30ea4c8abf481ace8ad":["17e5da53e4e5bd659e22add9bba1cfa222e7e30d"],"08bcaef9e931052e4ca24133a89cc6aefaf61829":["8524650e878177081c15c0c5bccfae2c7dca772b"],"f2126b84bd093fa3d921582a109a0ee578c28126":["08bcaef9e931052e4ca24133a89cc6aefaf61829","d9da9f23184cb4c31ddfb7f39a1df00bfbb42cb7"],"be320990bdc77e643388fa801e75017f19289c42":["e52c21eddb989aed5815d30ea4c8abf481ace8ad"],"ab68488225b6a6c357dda72ed11dedca9914a192":["e52c21eddb989aed5815d30ea4c8abf481ace8ad","f996f8177b9204bdc92f7164460c6cefad9ac99a"],"3b013574eedcdbac35dc7e35b0ee616ffc38895d":["bcf9886c8ff537aafde14de48ebf744f5673f08b","bc0fbfa191179ae7a0081ee1cf7da0464bcd8078"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["b0dfcb99e767e8eafdede3faac6831984ac849fc"]},"commit2Childs":{"634f330c54fd3f9f491d52036dc3f40b4f4d8934":["bcf9886c8ff537aafde14de48ebf744f5673f08b"],"13734b36bfd631ed6a46b961df376f679e8a3f57":["89424def13674ea17829b41c5883c54ecc31a132"],"b0dfcb99e767e8eafdede3faac6831984ac849fc":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"740d649f013f07efbeb73ca854f106c60166e7c0":["b0dfcb99e767e8eafdede3faac6831984ac849fc"],"407687e67faf6e1f02a211ca078d8e3eed631027":[],"bc0fbfa191179ae7a0081ee1cf7da0464bcd8078":["13734b36bfd631ed6a46b961df376f679e8a3f57","89424def13674ea17829b41c5883c54ecc31a132","17e5da53e4e5bd659e22add9bba1cfa222e7e30d","3b013574eedcdbac35dc7e35b0ee616ffc38895d"],"8524650e878177081c15c0c5bccfae2c7dca772b":["aba371508186796cc6151d8223a5b4e16d02e26e","fe33227f6805edab2036cbb80645cc4e2d1fa424","08bcaef9e931052e4ca24133a89cc6aefaf61829"],"d9da9f23184cb4c31ddfb7f39a1df00bfbb42cb7":["407687e67faf6e1f02a211ca078d8e3eed631027","b47e1512544568a22b82c96169d466fae8a4b79e","f2126b84bd093fa3d921582a109a0ee578c28126"],"4cce5816ef15a48a0bc11e5d400497ee4301dd3b":[],"89424def13674ea17829b41c5883c54ecc31a132":["17e5da53e4e5bd659e22add9bba1cfa222e7e30d"],"f996f8177b9204bdc92f7164460c6cefad9ac99a":["ab68488225b6a6c357dda72ed11dedca9914a192"],"aba371508186796cc6151d8223a5b4e16d02e26e":[],"fe33227f6805edab2036cbb80645cc4e2d1fa424":[],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["8524650e878177081c15c0c5bccfae2c7dca772b"],"17e5da53e4e5bd659e22add9bba1cfa222e7e30d":["4cce5816ef15a48a0bc11e5d400497ee4301dd3b","e52c21eddb989aed5815d30ea4c8abf481ace8ad"],"b47e1512544568a22b82c96169d466fae8a4b79e":["634f330c54fd3f9f491d52036dc3f40b4f4d8934","407687e67faf6e1f02a211ca078d8e3eed631027"],"bcf9886c8ff537aafde14de48ebf744f5673f08b":["bc0fbfa191179ae7a0081ee1cf7da0464bcd8078","4cce5816ef15a48a0bc11e5d400497ee4301dd3b","3b013574eedcdbac35dc7e35b0ee616ffc38895d"],"08bcaef9e931052e4ca24133a89cc6aefaf61829":["d9da9f23184cb4c31ddfb7f39a1df00bfbb42cb7","aba371508186796cc6151d8223a5b4e16d02e26e","fe33227f6805edab2036cbb80645cc4e2d1fa424","f2126b84bd093fa3d921582a109a0ee578c28126"],"e52c21eddb989aed5815d30ea4c8abf481ace8ad":["f996f8177b9204bdc92f7164460c6cefad9ac99a","be320990bdc77e643388fa801e75017f19289c42","ab68488225b6a6c357dda72ed11dedca9914a192"],"f2126b84bd093fa3d921582a109a0ee578c28126":[],"be320990bdc77e643388fa801e75017f19289c42":["740d649f013f07efbeb73ca854f106c60166e7c0"],"ab68488225b6a6c357dda72ed11dedca9914a192":[],"3b013574eedcdbac35dc7e35b0ee616ffc38895d":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["407687e67faf6e1f02a211ca078d8e3eed631027","4cce5816ef15a48a0bc11e5d400497ee4301dd3b","aba371508186796cc6151d8223a5b4e16d02e26e","fe33227f6805edab2036cbb80645cc4e2d1fa424","f2126b84bd093fa3d921582a109a0ee578c28126","ab68488225b6a6c357dda72ed11dedca9914a192","3b013574eedcdbac35dc7e35b0ee616ffc38895d","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}