{"path":"solr/core/src/test/org/apache/solr/search/join/BlockJoinFacetSimpleTest#createIndex().mjava","commits":[{"id":"dbb4b815ac37f3938a2f7c18c2e7a5267ed50a1d","date":1450976696,"type":0,"author":"Mikhail Khludnev","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/search/join/BlockJoinFacetSimpleTest#createIndex().mjava","pathOld":"/dev/null","sourceNew":"  public static void createIndex() throws Exception {\n    \n    final String match;\n    List<String> docs = Arrays.asList(\n// match\n    match = adoc(\"id\", \"10\",\"type_s\", \"parent\",\"BRAND_s\", \"Nike\").replace(\"</doc>\", \n    \"\"+\n    doc(\"id\", \"11\",\"type_s\", \"child\",\"COLOR_s\", \"Red\",\"SIZE_s\", \"XL\")+// matches child filter \n    doc(\"id\", \"12\",\"type_s\", \"child\",\"COLOR_s\", \"Red\",\"SIZE_s\", \"XL\")+// matches child filter\n    doc(\"id\", \"13\",\"type_s\", \"child\",\"COLOR_s\", \"Blue\",\"SIZE_s\", \"XL\")+\"</doc>\"),\n// mismatch\n    adoc(\"id\", \"100\",\"type_s\", \"parent\",\"BRAND_s\", \"Reebok\").replace(\"</doc>\", \n    \"\"+doc(\"id\", \"101\",\"type_s\", \"child\",\"COLOR_s\", \"Red\",\"SIZE_s\", \"M\")+\n    doc(\"id\", \"102\",\"type_s\", \"child\",\"COLOR_s\", \"Blue\",\"SIZE_s\", \"XL\")+\n    doc(\"id\", \"104\",\"type_s\", \"child\",\"COLOR_s\", \"While\",\"SIZE_s\", \"XL\")+\n    doc(\"id\", \"105\",\"type_s\", \"child\",\"COLOR_s\", \"Green\",\"SIZE_s\", \"XXXL\")+\n    \"</doc>\"));\n    \n    Collections.shuffle(docs, random());\n    for(String d : docs){\n      assertU(d);\n    }\n    if(random().nextBoolean()){// let's have a deleted doc\n      if(random().nextBoolean()){\n        assertU(\"let's have two segs\",commit());\n      }\n      assertU(\"overriding matching doc\",match);\n    }\n    assertU(commit());\n    assertQ(req(\"q\", \"*:*\"), \"//*[@numFound='\" + 9 + \"']\");\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"00a778ad8ad6c2c04607538d2f36fee001239eef","date":1576657013,"type":4,"author":"Mikhail Khludnev","isMerge":false,"pathNew":"/dev/null","pathOld":"solr/core/src/test/org/apache/solr/search/join/BlockJoinFacetSimpleTest#createIndex().mjava","sourceNew":null,"sourceOld":"  public static void createIndex() throws Exception {\n    \n    final String match;\n    List<String> docs = Arrays.asList(\n// match\n    match = adoc(\"id\", \"10\",\"type_s\", \"parent\",\"BRAND_s\", \"Nike\").replace(\"</doc>\", \n    \"\"+\n    doc(\"id\", \"11\",\"type_s\", \"child\",\"COLOR_s\", \"Red\",\"SIZE_s\", \"XL\")+// matches child filter \n    doc(\"id\", \"12\",\"type_s\", \"child\",\"COLOR_s\", \"Red\",\"SIZE_s\", \"XL\")+// matches child filter\n    doc(\"id\", \"13\",\"type_s\", \"child\",\"COLOR_s\", \"Blue\",\"SIZE_s\", \"XL\")+\"</doc>\"),\n// mismatch\n    adoc(\"id\", \"100\",\"type_s\", \"parent\",\"BRAND_s\", \"Reebok\").replace(\"</doc>\", \n    \"\"+doc(\"id\", \"101\",\"type_s\", \"child\",\"COLOR_s\", \"Red\",\"SIZE_s\", \"M\")+\n    doc(\"id\", \"102\",\"type_s\", \"child\",\"COLOR_s\", \"Blue\",\"SIZE_s\", \"XL\")+\n    doc(\"id\", \"104\",\"type_s\", \"child\",\"COLOR_s\", \"While\",\"SIZE_s\", \"XL\")+\n    doc(\"id\", \"105\",\"type_s\", \"child\",\"COLOR_s\", \"Green\",\"SIZE_s\", \"XXXL\")+\n    \"</doc>\"));\n    \n    Collections.shuffle(docs, random());\n    for(String d : docs){\n      assertU(d);\n    }\n    if(random().nextBoolean()){// let's have a deleted doc\n      if(random().nextBoolean()){\n        assertU(\"let's have two segs\",commit());\n      }\n      assertU(\"overriding matching doc\",match);\n    }\n    assertU(commit());\n    assertQ(req(\"q\", \"*:*\"), \"//*[@numFound='\" + 9 + \"']\");\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"246314af59d76a47fccc31e9494eefee01ec9c00","date":1576657955,"type":4,"author":"Dawid Weiss","isMerge":true,"pathNew":"/dev/null","pathOld":"solr/core/src/test/org/apache/solr/search/join/BlockJoinFacetSimpleTest#createIndex().mjava","sourceNew":null,"sourceOld":"  public static void createIndex() throws Exception {\n    \n    final String match;\n    List<String> docs = Arrays.asList(\n// match\n    match = adoc(\"id\", \"10\",\"type_s\", \"parent\",\"BRAND_s\", \"Nike\").replace(\"</doc>\", \n    \"\"+\n    doc(\"id\", \"11\",\"type_s\", \"child\",\"COLOR_s\", \"Red\",\"SIZE_s\", \"XL\")+// matches child filter \n    doc(\"id\", \"12\",\"type_s\", \"child\",\"COLOR_s\", \"Red\",\"SIZE_s\", \"XL\")+// matches child filter\n    doc(\"id\", \"13\",\"type_s\", \"child\",\"COLOR_s\", \"Blue\",\"SIZE_s\", \"XL\")+\"</doc>\"),\n// mismatch\n    adoc(\"id\", \"100\",\"type_s\", \"parent\",\"BRAND_s\", \"Reebok\").replace(\"</doc>\", \n    \"\"+doc(\"id\", \"101\",\"type_s\", \"child\",\"COLOR_s\", \"Red\",\"SIZE_s\", \"M\")+\n    doc(\"id\", \"102\",\"type_s\", \"child\",\"COLOR_s\", \"Blue\",\"SIZE_s\", \"XL\")+\n    doc(\"id\", \"104\",\"type_s\", \"child\",\"COLOR_s\", \"While\",\"SIZE_s\", \"XL\")+\n    doc(\"id\", \"105\",\"type_s\", \"child\",\"COLOR_s\", \"Green\",\"SIZE_s\", \"XXXL\")+\n    \"</doc>\"));\n    \n    Collections.shuffle(docs, random());\n    for(String d : docs){\n      assertU(d);\n    }\n    if(random().nextBoolean()){// let's have a deleted doc\n      if(random().nextBoolean()){\n        assertU(\"let's have two segs\",commit());\n      }\n      assertU(\"overriding matching doc\",match);\n    }\n    assertU(commit());\n    assertQ(req(\"q\", \"*:*\"), \"//*[@numFound='\" + 9 + \"']\");\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"246314af59d76a47fccc31e9494eefee01ec9c00":["dbb4b815ac37f3938a2f7c18c2e7a5267ed50a1d","00a778ad8ad6c2c04607538d2f36fee001239eef"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"dbb4b815ac37f3938a2f7c18c2e7a5267ed50a1d":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"00a778ad8ad6c2c04607538d2f36fee001239eef":["dbb4b815ac37f3938a2f7c18c2e7a5267ed50a1d"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["00a778ad8ad6c2c04607538d2f36fee001239eef"]},"commit2Childs":{"246314af59d76a47fccc31e9494eefee01ec9c00":[],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["dbb4b815ac37f3938a2f7c18c2e7a5267ed50a1d"],"dbb4b815ac37f3938a2f7c18c2e7a5267ed50a1d":["246314af59d76a47fccc31e9494eefee01ec9c00","00a778ad8ad6c2c04607538d2f36fee001239eef"],"00a778ad8ad6c2c04607538d2f36fee001239eef":["246314af59d76a47fccc31e9494eefee01ec9c00","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["246314af59d76a47fccc31e9494eefee01ec9c00","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}