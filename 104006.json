{"path":"lucene/suggest/src/test/org/apache/lucene/search/suggest/DocumentValueSourceDictionaryTest#generateIndexDocuments(int).mjava","commits":[{"id":"11c5f879e49375db0f48ca533856f226c2db57a5","date":1390688316,"type":1,"author":"Simon Willnauer","isMerge":false,"pathNew":"lucene/suggest/src/test/org/apache/lucene/search/suggest/DocumentValueSourceDictionaryTest#generateIndexDocuments(int).mjava","pathOld":"lucene/suggest/src/test/org/apache/lucene/search/suggest/DocumentExpressionDictionaryTest#generateIndexDocuments(int).mjava","sourceNew":"  private Map<String, Document> generateIndexDocuments(int ndocs) {\n    Map<String, Document> docs = new HashMap<>();\n    for(int i = 0; i < ndocs ; i++) {\n      Field field = new TextField(FIELD_NAME, \"field_\" + i, Field.Store.YES);\n      Field payload = new StoredField(PAYLOAD_FIELD_NAME, new BytesRef(\"payload_\" + i));\n      Field weight1 = new NumericDocValuesField(WEIGHT_FIELD_NAME_1, 10 + i);\n      Field weight2 = new NumericDocValuesField(WEIGHT_FIELD_NAME_2, 20 + i);\n      Field weight3 = new NumericDocValuesField(WEIGHT_FIELD_NAME_3, 30 + i);\n      Document doc = new Document();\n      doc.add(field);\n      doc.add(payload);\n      doc.add(weight1);\n      doc.add(weight2);\n      doc.add(weight3);\n      docs.put(field.stringValue(), doc);\n    }\n    return docs;\n  }\n\n","sourceOld":"  private Map<String, Document> generateIndexDocuments(int ndocs) {\n    Map<String, Document> docs = new HashMap<>();\n    for(int i = 0; i < ndocs ; i++) {\n      Field field = new TextField(FIELD_NAME, \"field_\" + i, Field.Store.YES);\n      Field payload = new StoredField(PAYLOAD_FIELD_NAME, new BytesRef(\"payload_\" + i));\n      Field weight1 = new NumericDocValuesField(WEIGHT_FIELD_NAME_1, 10 + i);\n      Field weight2 = new NumericDocValuesField(WEIGHT_FIELD_NAME_2, 20 + i);\n      Field weight3 = new NumericDocValuesField(WEIGHT_FIELD_NAME_3, 30 + i);\n      Document doc = new Document();\n      doc.add(field);\n      doc.add(payload);\n      doc.add(weight1);\n      doc.add(weight2);\n      doc.add(weight3);\n      docs.put(field.stringValue(), doc);\n    }\n    return docs;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"58d0345a28bb6b4be59c38e6a77e2cc0e615ee4b","date":1395588343,"type":3,"author":"Michael McCandless","isMerge":false,"pathNew":"lucene/suggest/src/test/org/apache/lucene/search/suggest/DocumentValueSourceDictionaryTest#generateIndexDocuments(int).mjava","pathOld":"lucene/suggest/src/test/org/apache/lucene/search/suggest/DocumentValueSourceDictionaryTest#generateIndexDocuments(int).mjava","sourceNew":"  private Map<String, Document> generateIndexDocuments(int ndocs) {\n    Map<String, Document> docs = new HashMap<>();\n    for(int i = 0; i < ndocs ; i++) {\n      Field field = new TextField(FIELD_NAME, \"field_\" + i, Field.Store.YES);\n      Field payload = new StoredField(PAYLOAD_FIELD_NAME, new BytesRef(\"payload_\" + i));\n      Field weight1 = new NumericDocValuesField(WEIGHT_FIELD_NAME_1, 10 + i);\n      Field weight2 = new NumericDocValuesField(WEIGHT_FIELD_NAME_2, 20 + i);\n      Field weight3 = new NumericDocValuesField(WEIGHT_FIELD_NAME_3, 30 + i);\n      Field contexts = new StoredField(CONTEXTS_FIELD_NAME, new BytesRef(\"ctx_\"  + i + \"_0\"));\n      Document doc = new Document();\n      doc.add(field);\n      doc.add(payload);\n      doc.add(weight1);\n      doc.add(weight2);\n      doc.add(weight3);\n      doc.add(contexts);\n      for(int j = 1; j < atLeast(3); j++) {\n        contexts.setBytesValue(new BytesRef(\"ctx_\" + i + \"_\" + j));\n        doc.add(contexts);\n      }\n      docs.put(field.stringValue(), doc);\n    }\n    return docs;\n  }\n\n","sourceOld":"  private Map<String, Document> generateIndexDocuments(int ndocs) {\n    Map<String, Document> docs = new HashMap<>();\n    for(int i = 0; i < ndocs ; i++) {\n      Field field = new TextField(FIELD_NAME, \"field_\" + i, Field.Store.YES);\n      Field payload = new StoredField(PAYLOAD_FIELD_NAME, new BytesRef(\"payload_\" + i));\n      Field weight1 = new NumericDocValuesField(WEIGHT_FIELD_NAME_1, 10 + i);\n      Field weight2 = new NumericDocValuesField(WEIGHT_FIELD_NAME_2, 20 + i);\n      Field weight3 = new NumericDocValuesField(WEIGHT_FIELD_NAME_3, 30 + i);\n      Document doc = new Document();\n      doc.add(field);\n      doc.add(payload);\n      doc.add(weight1);\n      doc.add(weight2);\n      doc.add(weight3);\n      docs.put(field.stringValue(), doc);\n    }\n    return docs;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"ee590759ca28a3f2599ba7608ea0a50be4f540f6","date":1432142966,"type":3,"author":"Michael McCandless","isMerge":false,"pathNew":"lucene/suggest/src/test/org/apache/lucene/search/suggest/DocumentValueSourceDictionaryTest#generateIndexDocuments(int).mjava","pathOld":"lucene/suggest/src/test/org/apache/lucene/search/suggest/DocumentValueSourceDictionaryTest#generateIndexDocuments(int).mjava","sourceNew":"  private Map<String, Document> generateIndexDocuments(int ndocs) {\n    Map<String, Document> docs = new HashMap<>();\n    for(int i = 0; i < ndocs ; i++) {\n      Field field = new TextField(FIELD_NAME, \"field_\" + i, Field.Store.YES);\n      Field weight1 = new NumericDocValuesField(WEIGHT_FIELD_NAME_1, 10 + i);\n      Field weight2 = new NumericDocValuesField(WEIGHT_FIELD_NAME_2, 20 + i);\n      Field weight3 = new NumericDocValuesField(WEIGHT_FIELD_NAME_3, 30 + i);\n      Field contexts = new StoredField(CONTEXTS_FIELD_NAME, new BytesRef(\"ctx_\"  + i + \"_0\"));\n      Document doc = new Document();\n      doc.add(field);\n      // even if payload is not required usually have it\n      if (usually()) {\n        Field payload = new StoredField(PAYLOAD_FIELD_NAME, new BytesRef(\"payload_\" + i));\n        doc.add(payload);\n      }\n      doc.add(weight1);\n      doc.add(weight2);\n      doc.add(weight3);\n      doc.add(contexts);\n      for(int j = 1; j < atLeast(3); j++) {\n        contexts.setBytesValue(new BytesRef(\"ctx_\" + i + \"_\" + j));\n        doc.add(contexts);\n      }\n      docs.put(field.stringValue(), doc);\n    }\n    return docs;\n  }\n\n","sourceOld":"  private Map<String, Document> generateIndexDocuments(int ndocs) {\n    Map<String, Document> docs = new HashMap<>();\n    for(int i = 0; i < ndocs ; i++) {\n      Field field = new TextField(FIELD_NAME, \"field_\" + i, Field.Store.YES);\n      Field payload = new StoredField(PAYLOAD_FIELD_NAME, new BytesRef(\"payload_\" + i));\n      Field weight1 = new NumericDocValuesField(WEIGHT_FIELD_NAME_1, 10 + i);\n      Field weight2 = new NumericDocValuesField(WEIGHT_FIELD_NAME_2, 20 + i);\n      Field weight3 = new NumericDocValuesField(WEIGHT_FIELD_NAME_3, 30 + i);\n      Field contexts = new StoredField(CONTEXTS_FIELD_NAME, new BytesRef(\"ctx_\"  + i + \"_0\"));\n      Document doc = new Document();\n      doc.add(field);\n      doc.add(payload);\n      doc.add(weight1);\n      doc.add(weight2);\n      doc.add(weight3);\n      doc.add(contexts);\n      for(int j = 1; j < atLeast(3); j++) {\n        contexts.setBytesValue(new BytesRef(\"ctx_\" + i + \"_\" + j));\n        doc.add(contexts);\n      }\n      docs.put(field.stringValue(), doc);\n    }\n    return docs;\n  }\n\n","bugFix":["f6ff8992b4de8c3e2f3e4e363868e5f87eb19039"],"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"58d0345a28bb6b4be59c38e6a77e2cc0e615ee4b":["11c5f879e49375db0f48ca533856f226c2db57a5"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"ee590759ca28a3f2599ba7608ea0a50be4f540f6":["58d0345a28bb6b4be59c38e6a77e2cc0e615ee4b"],"11c5f879e49375db0f48ca533856f226c2db57a5":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["ee590759ca28a3f2599ba7608ea0a50be4f540f6"]},"commit2Childs":{"58d0345a28bb6b4be59c38e6a77e2cc0e615ee4b":["ee590759ca28a3f2599ba7608ea0a50be4f540f6"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["11c5f879e49375db0f48ca533856f226c2db57a5"],"ee590759ca28a3f2599ba7608ea0a50be4f540f6":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"11c5f879e49375db0f48ca533856f226c2db57a5":["58d0345a28bb6b4be59c38e6a77e2cc0e615ee4b"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}