{"path":"solr/solrj/src/java/org/apache/solr/client/solrj/impl/LBSolrClient.ServerIterator#fetchNext().mjava","commits":[{"id":"1964c059f45ae1de1877f9f0fe3ca327ea4218e8","date":1594088246,"type":0,"author":"Cao Manh Dat","isMerge":false,"pathNew":"solr/solrj/src/java/org/apache/solr/client/solrj/impl/LBSolrClient.ServerIterator#fetchNext().mjava","pathOld":"/dev/null","sourceNew":"    private void fetchNext() {\n      serverStr = null;\n      if (req.numServersToTry != null && numServersTried > req.numServersToTry) {\n        exceptionMessage = \"Time allowed to handle this request exceeded\";\n        return;\n      }\n\n      while (it.hasNext()) {\n        serverStr = it.next();\n        serverStr = normalize(serverStr);\n        // if the server is currently a zombie, just skip to the next one\n        ServerWrapper wrapper = zombieServers.get(serverStr);\n        if (wrapper != null) {\n          final int numDeadServersToTry = req.getNumDeadServersToTry();\n          if (numDeadServersToTry > 0) {\n            if (skipped == null) {\n              skipped = new ArrayList<>(numDeadServersToTry);\n              skipped.add(wrapper.getBaseUrl());\n            } else if (skipped.size() < numDeadServersToTry) {\n              skipped.add(wrapper.getBaseUrl());\n            }\n          }\n          continue;\n        }\n\n        break;\n      }\n      if (serverStr == null && skipped != null) {\n        if (skippedIt == null) {\n          skippedIt = skipped.iterator();\n        }\n        if (skippedIt.hasNext()) {\n          serverStr = skippedIt.next();\n        }\n      }\n    }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"1964c059f45ae1de1877f9f0fe3ca327ea4218e8":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["1964c059f45ae1de1877f9f0fe3ca327ea4218e8"]},"commit2Childs":{"1964c059f45ae1de1877f9f0fe3ca327ea4218e8":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["1964c059f45ae1de1877f9f0fe3ca327ea4218e8"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}