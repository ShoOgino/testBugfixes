{"path":"solr/solrj/src/test/org/apache/solr/client/solrj/SolrExampleTests#testDeleteParentDoc().mjava","commits":[{"id":"aa4f44656c8081bbc63325a83abdb025eafd5a2b","date":1543200469,"type":0,"author":"Moshe","isMerge":false,"pathNew":"solr/solrj/src/test/org/apache/solr/client/solrj/SolrExampleTests#testDeleteParentDoc().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testDeleteParentDoc() throws IOException, SolrServerException, IllegalArgumentException, IllegalAccessException, SecurityException, NoSuchFieldException {\n    SolrClient client = getSolrClient();\n    client.deleteByQuery(\"*:*\");\n\n    SolrInputDocument docToDelete = new SolrInputDocument();\n    docToDelete.addField(\"id\", \"p0\");\n    docToDelete.addField(\"title_s\", \"parent doc\");\n\n    SolrInputDocument child = new SolrInputDocument();\n    child.addField(\"id\", \"c0\");\n    child.addField(\"title_s\", \"i am a child 0\");\n    docToDelete.addChildDocument(child);\n\n    child = new SolrInputDocument();\n    child.addField(\"id\", \"c1\");\n    child.addField(\"title_s\", \"i am a child 1\");\n    docToDelete.addChildDocument(child);\n\n    child = new SolrInputDocument();\n    child.addField(\"id\", \"c2\");\n    child.addField(\"title_s\", \"i am a child 2\");\n    docToDelete.addChildDocument(child);\n\n    client.add(docToDelete);\n    client.commit();\n\n    SolrQuery q = new SolrQuery(\"*:*\");\n    SolrDocumentList results = client.query(q).getResults();\n    assertThat(results.getNumFound(), is(4L));\n\n    client.deleteById(\"p0\");\n    client.commit();\n\n    results = client.query(q).getResults();\n    assertThat(\"All the children are expected to be deleted together with parent\",\n        results.getNumFound(), is(0L));\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"aa4f44656c8081bbc63325a83abdb025eafd5a2b":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["aa4f44656c8081bbc63325a83abdb025eafd5a2b"]},"commit2Childs":{"aa4f44656c8081bbc63325a83abdb025eafd5a2b":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["aa4f44656c8081bbc63325a83abdb025eafd5a2b"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}