{"path":"lucene/core/src/test/org/apache/lucene/index/TestIndexWriterForceMerge#listFiles(Directory).mjava","commits":[{"id":"577531718b186fa4937d3aaf91050f413295c2cd","date":1427860013,"type":0,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/index/TestIndexWriterForceMerge#listFiles(Directory).mjava","pathOld":"/dev/null","sourceNew":"  // print out listing of files and sizes, but recurse into CFS to debug nested files there.\n  private String listFiles(Directory dir) throws IOException {\n    SegmentInfos infos = SegmentInfos.readLatestCommit(dir);\n    StringBuilder sb = new StringBuilder();\n    sb.append(System.lineSeparator());\n    for (SegmentCommitInfo info : infos) {\n      for (String file : info.files()) {\n        sb.append(String.format(Locale.ROOT, \"%-20s%d%n\", file, dir.fileLength(file)));\n      }\n      if (info.info.getUseCompoundFile()) {\n        try (Directory cfs = info.info.getCodec().compoundFormat().getCompoundReader(dir, info.info, IOContext.DEFAULT)) {\n          for (String file : cfs.listAll()) {\n            sb.append(String.format(Locale.ROOT, \" |- (inside compound file) %-20s%d%n\", file, cfs.fileLength(file)));\n          }\n        }\n      }\n    }\n    sb.append(System.lineSeparator());\n    return sb.toString();\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"fa2f5292dd18968c87a154a7ef217664be7f1302","date":1427860545,"type":0,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/index/TestIndexWriterForceMerge#listFiles(Directory).mjava","pathOld":"/dev/null","sourceNew":"  // print out listing of files and sizes, but recurse into CFS to debug nested files there.\n  private String listFiles(Directory dir) throws IOException {\n    SegmentInfos infos = SegmentInfos.readLatestCommit(dir);\n    StringBuilder sb = new StringBuilder();\n    sb.append(System.lineSeparator());\n    for (SegmentCommitInfo info : infos) {\n      for (String file : info.files()) {\n        sb.append(String.format(Locale.ROOT, \"%-20s%d%n\", file, dir.fileLength(file)));\n      }\n      if (info.info.getUseCompoundFile()) {\n        try (Directory cfs = info.info.getCodec().compoundFormat().getCompoundReader(dir, info.info, IOContext.DEFAULT)) {\n          for (String file : cfs.listAll()) {\n            sb.append(String.format(Locale.ROOT, \" |- (inside compound file) %-20s%d%n\", file, cfs.fileLength(file)));\n          }\n        }\n      }\n    }\n    sb.append(System.lineSeparator());\n    return sb.toString();\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"577531718b186fa4937d3aaf91050f413295c2cd":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"fa2f5292dd18968c87a154a7ef217664be7f1302":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["fa2f5292dd18968c87a154a7ef217664be7f1302"]},"commit2Childs":{"577531718b186fa4937d3aaf91050f413295c2cd":[],"fa2f5292dd18968c87a154a7ef217664be7f1302":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["577531718b186fa4937d3aaf91050f413295c2cd","fa2f5292dd18968c87a154a7ef217664be7f1302"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["577531718b186fa4937d3aaf91050f413295c2cd","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}