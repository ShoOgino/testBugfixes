{"path":"solr/core/src/test/org/apache/solr/request/TestIntervalFaceting#assertIntervalQuery(String,String,int,String...).mjava","commits":[{"id":"84b24f47dd3dfa4e2396cd6f819a35445b0a53fd","date":1406137403,"type":0,"author":"Erick Erickson","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/request/TestIntervalFaceting#assertIntervalQuery(String,String,int,String...).mjava","pathOld":"/dev/null","sourceNew":"  private void assertIntervalQuery(String field, String query, int resultCount, String... intervals) {\n    assert (intervals.length & 1) == 0;\n    int idx = 0;\n    String[] params = new String[intervals.length + 6];\n    params[idx++] = \"q\";\n    params[idx++] = query;\n    params[idx++] = \"facet\";\n    params[idx++] = \"true\";\n    params[idx++] = \"facet.interval\";\n    params[idx++] = field;\n\n    for (int i = 0; i < intervals.length; i += 2) {\n      params[idx++] = \"f.\" + field + \".facet.interval.set\";\n      params[idx++] = intervals[i];\n    }\n\n    String[] tests = new String[intervals.length / 2 + (resultCount > 0 ? 1 : 0)];\n    idx = 0;\n    for (int i = 0; i < intervals.length; i += 2) {\n      tests[idx++] = \"//lst[@name='facet_intervals']/lst[@name='\" + field + \"']/int[@name='\" + intervals[i] + \"'][.=\" + intervals[i + 1] + \"]\";\n    }\n    if (resultCount >= 0) {\n      tests[idx++] = \"//*[@numFound='\" + resultCount + \"']\";\n    }\n\n    assertQ(\"Unexpected facet iterval count. Field:\" + field + \", Intervals: \" + Arrays.toString(intervals) + \"Query: \" + query,\n        req(params), tests);\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"84b24f47dd3dfa4e2396cd6f819a35445b0a53fd":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["84b24f47dd3dfa4e2396cd6f819a35445b0a53fd"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["84b24f47dd3dfa4e2396cd6f819a35445b0a53fd"],"84b24f47dd3dfa4e2396cd6f819a35445b0a53fd":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}