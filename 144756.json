{"path":"src/java/org/apache/lucene/index/IndexWriter#finishCommit().mjava","commits":[{"id":"455aeff4fef915340c5b19d71d5e147034e83093","date":1210099270,"type":0,"author":"Michael McCandless","isMerge":false,"pathNew":"src/java/org/apache/lucene/index/IndexWriter#finishCommit().mjava","pathOld":"/dev/null","sourceNew":"  private synchronized final void finishCommit() throws CorruptIndexException, IOException {\n\n    if (pendingCommit != null) {\n      try {\n        message(\"commit: pendingCommit != null\");\n        pendingCommit.finishCommit(directory);\n        lastCommitChangeCount = pendingCommitChangeCount;\n        segmentInfos.updateGeneration(pendingCommit);\n        setRollbackSegmentInfos();\n        deleter.checkpoint(pendingCommit, true);\n      } finally {\n        deleter.decRef(pendingCommit);\n        pendingCommit = null;\n        notifyAll();\n      }\n\n    } else\n      message(\"commit: pendingCommit == null; skip\");\n\n    message(\"commit: done\");\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":["cefe924a3b76c22b7df9a075329750871699af6b","25e07bf0d9fa18cd8f0185e309d09a873c45017c","4d3e8520fd031bab31fd0e4d480e55958bc45efe","47d5b6b2c183bf4deaffb52b7cb8dec16c8dcf0f"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"2586f96f60332eb97ecd2934b0763791462568b2","date":1220116589,"type":3,"author":"Michael McCandless","isMerge":false,"pathNew":"src/java/org/apache/lucene/index/IndexWriter#finishCommit().mjava","pathOld":"src/java/org/apache/lucene/index/IndexWriter#finishCommit().mjava","sourceNew":"  private synchronized final void finishCommit() throws CorruptIndexException, IOException {\n\n    if (pendingCommit != null) {\n      try {\n        message(\"commit: pendingCommit != null\");\n        pendingCommit.finishCommit(directory);\n        lastCommitChangeCount = pendingCommitChangeCount;\n        segmentInfos.updateGeneration(pendingCommit);\n        setRollbackSegmentInfos(pendingCommit);\n        deleter.checkpoint(pendingCommit, true);\n      } finally {\n        deleter.decRef(pendingCommit);\n        pendingCommit = null;\n        notifyAll();\n      }\n\n    } else\n      message(\"commit: pendingCommit == null; skip\");\n\n    message(\"commit: done\");\n  }\n\n","sourceOld":"  private synchronized final void finishCommit() throws CorruptIndexException, IOException {\n\n    if (pendingCommit != null) {\n      try {\n        message(\"commit: pendingCommit != null\");\n        pendingCommit.finishCommit(directory);\n        lastCommitChangeCount = pendingCommitChangeCount;\n        segmentInfos.updateGeneration(pendingCommit);\n        setRollbackSegmentInfos();\n        deleter.checkpoint(pendingCommit, true);\n      } finally {\n        deleter.decRef(pendingCommit);\n        pendingCommit = null;\n        notifyAll();\n      }\n\n    } else\n      message(\"commit: pendingCommit == null; skip\");\n\n    message(\"commit: done\");\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"d99092e7a9892440b9da55d5b75d3d77206ee80e","date":1224496135,"type":3,"author":"Michael McCandless","isMerge":false,"pathNew":"src/java/org/apache/lucene/index/IndexWriter#finishCommit().mjava","pathOld":"src/java/org/apache/lucene/index/IndexWriter#finishCommit().mjava","sourceNew":"  private synchronized final void finishCommit() throws CorruptIndexException, IOException {\n\n    if (pendingCommit != null) {\n      try {\n        message(\"commit: pendingCommit != null\");\n        pendingCommit.finishCommit(directory);\n        message(\"commit: wrote segments file \\\"\" + pendingCommit.getCurrentSegmentFileName() + \"\\\"\");\n        lastCommitChangeCount = pendingCommitChangeCount;\n        segmentInfos.updateGeneration(pendingCommit);\n        setRollbackSegmentInfos(pendingCommit);\n        deleter.checkpoint(pendingCommit, true);\n      } finally {\n        deleter.decRef(pendingCommit);\n        pendingCommit = null;\n        notifyAll();\n      }\n\n    } else\n      message(\"commit: pendingCommit == null; skip\");\n\n    message(\"commit: done\");\n  }\n\n","sourceOld":"  private synchronized final void finishCommit() throws CorruptIndexException, IOException {\n\n    if (pendingCommit != null) {\n      try {\n        message(\"commit: pendingCommit != null\");\n        pendingCommit.finishCommit(directory);\n        lastCommitChangeCount = pendingCommitChangeCount;\n        segmentInfos.updateGeneration(pendingCommit);\n        setRollbackSegmentInfos(pendingCommit);\n        deleter.checkpoint(pendingCommit, true);\n      } finally {\n        deleter.decRef(pendingCommit);\n        pendingCommit = null;\n        notifyAll();\n      }\n\n    } else\n      message(\"commit: pendingCommit == null; skip\");\n\n    message(\"commit: done\");\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"4b1444275c93a8051a6fe6158639467a144ae0a4","date":1224502393,"type":3,"author":"Michael McCandless","isMerge":false,"pathNew":"src/java/org/apache/lucene/index/IndexWriter#finishCommit().mjava","pathOld":"src/java/org/apache/lucene/index/IndexWriter#finishCommit().mjava","sourceNew":"  private synchronized final void finishCommit() throws CorruptIndexException, IOException {\n\n    if (pendingCommit != null) {\n      try {\n        message(\"commit: pendingCommit != null\");\n        pendingCommit.finishCommit(directory);\n        message(\"commit: wrote segments file \\\"\" + pendingCommit.getCurrentSegmentFileName() + \"\\\"\");\n        lastCommitChangeCount = pendingCommitChangeCount;\n        segmentInfos.updateGeneration(pendingCommit);\n        segmentInfos.setUserData(pendingCommit.getUserData());\n        setRollbackSegmentInfos(pendingCommit);\n        deleter.checkpoint(pendingCommit, true);\n      } finally {\n        deleter.decRef(pendingCommit);\n        pendingCommit = null;\n        notifyAll();\n      }\n\n    } else\n      message(\"commit: pendingCommit == null; skip\");\n\n    message(\"commit: done\");\n  }\n\n","sourceOld":"  private synchronized final void finishCommit() throws CorruptIndexException, IOException {\n\n    if (pendingCommit != null) {\n      try {\n        message(\"commit: pendingCommit != null\");\n        pendingCommit.finishCommit(directory);\n        message(\"commit: wrote segments file \\\"\" + pendingCommit.getCurrentSegmentFileName() + \"\\\"\");\n        lastCommitChangeCount = pendingCommitChangeCount;\n        segmentInfos.updateGeneration(pendingCommit);\n        setRollbackSegmentInfos(pendingCommit);\n        deleter.checkpoint(pendingCommit, true);\n      } finally {\n        deleter.decRef(pendingCommit);\n        pendingCommit = null;\n        notifyAll();\n      }\n\n    } else\n      message(\"commit: pendingCommit == null; skip\");\n\n    message(\"commit: done\");\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"2993c85d947e3191bba14229ea72fd5675d048e2","date":1228593940,"type":3,"author":"Michael McCandless","isMerge":false,"pathNew":"src/java/org/apache/lucene/index/IndexWriter#finishCommit().mjava","pathOld":"src/java/org/apache/lucene/index/IndexWriter#finishCommit().mjava","sourceNew":"  private synchronized final void finishCommit() throws CorruptIndexException, IOException {\n\n    if (pendingCommit != null) {\n      try {\n        if (infoStream != null)\n    \t  message(\"commit: pendingCommit != null\");\n        pendingCommit.finishCommit(directory);\n        if (infoStream != null)\n          message(\"commit: wrote segments file \\\"\" + pendingCommit.getCurrentSegmentFileName() + \"\\\"\");\n        lastCommitChangeCount = pendingCommitChangeCount;\n        segmentInfos.updateGeneration(pendingCommit);\n        segmentInfos.setUserData(pendingCommit.getUserData());\n        setRollbackSegmentInfos(pendingCommit);\n        deleter.checkpoint(pendingCommit, true);\n      } finally {\n        deleter.decRef(pendingCommit);\n        pendingCommit = null;\n        notifyAll();\n      }\n\n    } else if (infoStream != null)\n        message(\"commit: pendingCommit == null; skip\");\n\n    if (infoStream != null)\n      message(\"commit: done\");\n  }\n\n","sourceOld":"  private synchronized final void finishCommit() throws CorruptIndexException, IOException {\n\n    if (pendingCommit != null) {\n      try {\n        message(\"commit: pendingCommit != null\");\n        pendingCommit.finishCommit(directory);\n        message(\"commit: wrote segments file \\\"\" + pendingCommit.getCurrentSegmentFileName() + \"\\\"\");\n        lastCommitChangeCount = pendingCommitChangeCount;\n        segmentInfos.updateGeneration(pendingCommit);\n        segmentInfos.setUserData(pendingCommit.getUserData());\n        setRollbackSegmentInfos(pendingCommit);\n        deleter.checkpoint(pendingCommit, true);\n      } finally {\n        deleter.decRef(pendingCommit);\n        pendingCommit = null;\n        notifyAll();\n      }\n\n    } else\n      message(\"commit: pendingCommit == null; skip\");\n\n    message(\"commit: done\");\n  }\n\n","bugFix":null,"bugIntro":["5ef87af8c7bd0f8429622b83aa74202383f2e757"],"isBuggy":true,"nexts":[],"revCommit":null},{"id":"9454a6510e2db155fb01faa5c049b06ece95fab9","date":1453508333,"type":5,"author":"Dawid Weiss","isMerge":false,"pathNew":"lucene/src/java/org/apache/lucene/index/IndexWriter#finishCommit().mjava","pathOld":"src/java/org/apache/lucene/index/IndexWriter#finishCommit().mjava","sourceNew":"  private synchronized final void finishCommit() throws CorruptIndexException, IOException {\n\n    if (pendingCommit != null) {\n      try {\n        if (infoStream != null)\n    \t  message(\"commit: pendingCommit != null\");\n        pendingCommit.finishCommit(directory);\n        if (infoStream != null)\n          message(\"commit: wrote segments file \\\"\" + pendingCommit.getCurrentSegmentFileName() + \"\\\"\");\n        lastCommitChangeCount = pendingCommitChangeCount;\n        segmentInfos.updateGeneration(pendingCommit);\n        segmentInfos.setUserData(pendingCommit.getUserData());\n        setRollbackSegmentInfos(pendingCommit);\n        deleter.checkpoint(pendingCommit, true);\n      } finally {\n        deleter.decRef(pendingCommit);\n        pendingCommit = null;\n        notifyAll();\n      }\n\n    } else if (infoStream != null)\n        message(\"commit: pendingCommit == null; skip\");\n\n    if (infoStream != null)\n      message(\"commit: done\");\n  }\n\n","sourceOld":"  private synchronized final void finishCommit() throws CorruptIndexException, IOException {\n\n    if (pendingCommit != null) {\n      try {\n        if (infoStream != null)\n    \t  message(\"commit: pendingCommit != null\");\n        pendingCommit.finishCommit(directory);\n        if (infoStream != null)\n          message(\"commit: wrote segments file \\\"\" + pendingCommit.getCurrentSegmentFileName() + \"\\\"\");\n        lastCommitChangeCount = pendingCommitChangeCount;\n        segmentInfos.updateGeneration(pendingCommit);\n        segmentInfos.setUserData(pendingCommit.getUserData());\n        setRollbackSegmentInfos(pendingCommit);\n        deleter.checkpoint(pendingCommit, true);\n      } finally {\n        deleter.decRef(pendingCommit);\n        pendingCommit = null;\n        notifyAll();\n      }\n\n    } else if (infoStream != null)\n        message(\"commit: pendingCommit == null; skip\");\n\n    if (infoStream != null)\n      message(\"commit: done\");\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":true,"nexts":[],"revCommit":null}],"commit2Parents":{"4b1444275c93a8051a6fe6158639467a144ae0a4":["d99092e7a9892440b9da55d5b75d3d77206ee80e"],"455aeff4fef915340c5b19d71d5e147034e83093":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"2586f96f60332eb97ecd2934b0763791462568b2":["455aeff4fef915340c5b19d71d5e147034e83093"],"2993c85d947e3191bba14229ea72fd5675d048e2":["4b1444275c93a8051a6fe6158639467a144ae0a4"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["9454a6510e2db155fb01faa5c049b06ece95fab9"],"9454a6510e2db155fb01faa5c049b06ece95fab9":["2993c85d947e3191bba14229ea72fd5675d048e2"],"d99092e7a9892440b9da55d5b75d3d77206ee80e":["2586f96f60332eb97ecd2934b0763791462568b2"]},"commit2Childs":{"4b1444275c93a8051a6fe6158639467a144ae0a4":["2993c85d947e3191bba14229ea72fd5675d048e2"],"455aeff4fef915340c5b19d71d5e147034e83093":["2586f96f60332eb97ecd2934b0763791462568b2"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["455aeff4fef915340c5b19d71d5e147034e83093"],"2586f96f60332eb97ecd2934b0763791462568b2":["d99092e7a9892440b9da55d5b75d3d77206ee80e"],"2993c85d947e3191bba14229ea72fd5675d048e2":["9454a6510e2db155fb01faa5c049b06ece95fab9"],"d99092e7a9892440b9da55d5b75d3d77206ee80e":["4b1444275c93a8051a6fe6158639467a144ae0a4"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[],"9454a6510e2db155fb01faa5c049b06ece95fab9":["cd5edd1f2b162a5cfa08efd17851a07373a96817"]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}