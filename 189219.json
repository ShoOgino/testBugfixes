{"path":"solr/core/src/test/org/apache/solr/cloud/autoscaling/IndexSizeTriggerTest#testInvalidSplitConfig().mjava","commits":[{"id":"a97a72dc16d01fda8ca5c9e0264b3604e30ab539","date":1565639985,"type":0,"author":"Megan Carey","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/cloud/autoscaling/IndexSizeTriggerTest#testInvalidSplitConfig().mjava","pathOld":"/dev/null","sourceNew":"  //validates that trigger configuration will fail for invalid split configs\n  @Test\n  public void testInvalidSplitConfig() throws Exception {\n    long waitForSeconds = 3 + random().nextInt(5);\n    Map<String, Object> props = createTriggerProps(waitForSeconds);\n    props.put(IndexSizeTrigger.SPLIT_BY_PREFIX, \"hello\");\n\n    try (IndexSizeTrigger trigger = new IndexSizeTrigger(\"index_size_trigger7\")) {\n      trigger.configure(loader, cloudManager, props);\n      fail(\"Trigger configuration should have failed with invalid property.\");\n    } catch (TriggerValidationException e) {\n      assertTrue(e.getDetails().containsKey(IndexSizeTrigger.SPLIT_BY_PREFIX));\n    }\n\n    props.put(IndexSizeTrigger.SPLIT_BY_PREFIX, true);\n    props.put(CommonAdminParams.SPLIT_METHOD, \"hello\");\n    try (IndexSizeTrigger trigger = new IndexSizeTrigger(\"index_size_trigger8\")) {\n      trigger.configure(loader, cloudManager, props);\n      fail(\"Trigger configuration should have failed with invalid property.\");\n    } catch (TriggerValidationException e) {\n      assertTrue(e.getDetails().containsKey(IndexSizeTrigger.SPLIT_METHOD_PROP));\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"3f504512a03d978990cbff30db0522b354e846db","date":1595247421,"type":4,"author":"Ishan Chattopadhyaya","isMerge":false,"pathNew":"/dev/null","pathOld":"solr/core/src/test/org/apache/solr/cloud/autoscaling/IndexSizeTriggerTest#testInvalidSplitConfig().mjava","sourceNew":null,"sourceOld":"  //validates that trigger configuration will fail for invalid split configs\n  @Test\n  public void testInvalidSplitConfig() throws Exception {\n    long waitForSeconds = 3 + random().nextInt(5);\n    Map<String, Object> props = createTriggerProps(waitForSeconds);\n    props.put(IndexSizeTrigger.SPLIT_BY_PREFIX, \"hello\");\n\n    try (IndexSizeTrigger trigger = new IndexSizeTrigger(\"index_size_trigger7\")) {\n      trigger.configure(loader, cloudManager, props);\n      fail(\"Trigger configuration should have failed with invalid property.\");\n    } catch (TriggerValidationException e) {\n      assertTrue(e.getDetails().containsKey(IndexSizeTrigger.SPLIT_BY_PREFIX));\n    }\n\n    props.put(IndexSizeTrigger.SPLIT_BY_PREFIX, true);\n    props.put(CommonAdminParams.SPLIT_METHOD, \"hello\");\n    try (IndexSizeTrigger trigger = new IndexSizeTrigger(\"index_size_trigger8\")) {\n      trigger.configure(loader, cloudManager, props);\n      fail(\"Trigger configuration should have failed with invalid property.\");\n    } catch (TriggerValidationException e) {\n      assertTrue(e.getDetails().containsKey(IndexSizeTrigger.SPLIT_METHOD_PROP));\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"3f504512a03d978990cbff30db0522b354e846db":["a97a72dc16d01fda8ca5c9e0264b3604e30ab539"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["3f504512a03d978990cbff30db0522b354e846db"],"a97a72dc16d01fda8ca5c9e0264b3604e30ab539":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"3f504512a03d978990cbff30db0522b354e846db":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["a97a72dc16d01fda8ca5c9e0264b3604e30ab539"],"a97a72dc16d01fda8ca5c9e0264b3604e30ab539":["3f504512a03d978990cbff30db0522b354e846db"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}