{"path":"solr/contrib/extraction/src/test/org/apache/solr/handler/extraction/ExtractingRequestHandlerTest#testLiteralDefaults().mjava","commits":[{"id":"f3d3c1549009ef49f4e37339712fbff21eebe3dc","date":1417457396,"type":0,"author":"Chris M. Hostetter","isMerge":false,"pathNew":"solr/contrib/extraction/src/test/org/apache/solr/handler/extraction/ExtractingRequestHandlerTest#testLiteralDefaults().mjava","pathOld":"/dev/null","sourceNew":"  public void testLiteralDefaults() throws Exception {\n\n    // sanity check config\n    loadLocalFromHandler(\"/update/extract/lit-def\",\n                         \"extraction/simple.html\",\n                         \"literal.id\", \"lit-def-simple\");\n    assertU(commit());\n    assertQ(req(\"q\", \"id:lit-def-simple\")\n            , \"//*[@numFound='1']\"\n            , \"count(//arr[@name='foo_s']/str)=1\"\n            , \"//arr[@name='foo_s']/str[.='x']\"\n            , \"count(//arr[@name='bar_s']/str)=1\"\n            , \"//arr[@name='bar_s']/str[.='y']\"\n            , \"count(//arr[@name='zot_s']/str)=1\"\n            , \"//arr[@name='zot_s']/str[.='z']\"\n            ); \n    \n    // override the default foo_s\n    loadLocalFromHandler(\"/update/extract/lit-def\",\n                         \"extraction/simple.html\",\n                         \"literal.foo_s\", \"1111\",\n                         \"literal.id\", \"lit-def-simple\");\n    assertU(commit());\n    assertQ(req(\"q\", \"id:lit-def-simple\")\n            , \"//*[@numFound='1']\"\n            , \"count(//arr[@name='foo_s']/str)=1\"\n            , \"//arr[@name='foo_s']/str[.='1111']\"\n            , \"count(//arr[@name='bar_s']/str)=1\"\n            , \"//arr[@name='bar_s']/str[.='y']\"\n            , \"count(//arr[@name='zot_s']/str)=1\"\n            , \"//arr[@name='zot_s']/str[.='z']\"\n            ); \n\n    // pre-pend the bar_s\n    loadLocalFromHandler(\"/update/extract/lit-def\",\n                         \"extraction/simple.html\",\n                         \"literal.bar_s\", \"2222\",\n                         \"literal.id\", \"lit-def-simple\");\n    assertU(commit());\n    assertQ(req(\"q\", \"id:lit-def-simple\")\n            , \"//*[@numFound='1']\"\n            , \"count(//arr[@name='foo_s']/str)=1\"\n            , \"//arr[@name='foo_s']/str[.='x']\"\n            , \"count(//arr[@name='bar_s']/str)=2\"\n            , \"//arr[@name='bar_s']/str[.='2222']\"\n            , \"//arr[@name='bar_s']/str[.='y']\"\n            , \"count(//arr[@name='zot_s']/str)=1\"\n            , \"//arr[@name='zot_s']/str[.='z']\"\n            ); \n\n    // invariant zot_s can not be changed\n    loadLocalFromHandler(\"/update/extract/lit-def\",\n                         \"extraction/simple.html\",\n                         \"literal.zot_s\", \"3333\",\n                         \"literal.id\", \"lit-def-simple\");\n    assertU(commit());\n    assertQ(req(\"q\", \"id:lit-def-simple\")\n            , \"//*[@numFound='1']\"\n            , \"count(//arr[@name='foo_s']/str)=1\"\n            , \"//arr[@name='foo_s']/str[.='x']\"\n            , \"count(//arr[@name='bar_s']/str)=1\"\n            , \"//arr[@name='bar_s']/str[.='y']\"\n            , \"count(//arr[@name='zot_s']/str)=1\"\n            , \"//arr[@name='zot_s']/str[.='z']\"\n            ); \n    \n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"f3d3c1549009ef49f4e37339712fbff21eebe3dc":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["f3d3c1549009ef49f4e37339712fbff21eebe3dc"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["f3d3c1549009ef49f4e37339712fbff21eebe3dc"],"f3d3c1549009ef49f4e37339712fbff21eebe3dc":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}