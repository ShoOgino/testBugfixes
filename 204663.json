{"path":"sandbox/contributions/webcrawler-LARM/src/de/lanlab/larm/parser/EntityManager#writeEntityDef(char[],int,int,Writer).mjava","commits":[{"id":"12c7634bf3bb6da687c9b32ca310e7fb8fac8e1e","date":1022957716,"type":1,"author":"cmarschner","isMerge":false,"pathNew":"sandbox/contributions/webcrawler-LARM/src/de/lanlab/larm/parser/EntityManager#writeEntityDef(char[],int,int,Writer).mjava","pathOld":"sandbox/contributions/webcrawler-LARM/src/hplb/xml/EntityManager#writeEntityDef(char[],int,int,Writer).mjava","sourceNew":"    // character references are rare enough that we don't care about\n    // creating a String object for them unnecessarily...\n    /**\n     * Description of the Method\n     *\n     * @param buf                        Description of the Parameter\n     * @param off                        Description of the Parameter\n     * @param len                        Description of the Parameter\n     * @param out                        Description of the Parameter\n     * @exception Exception              Description of the Exception\n     * @exception IOException            Description of the Exception\n     * @exception NumberFormatException  Description of the Exception\n     */\n    public void writeEntityDef(char[] buf, int off, int len, Writer out)\n        throws Exception, IOException, NumberFormatException\n    {\n        Integer ch;\n        //System.out.println(\"Entity: \" + new String(buf, off, len) +\" \"+off+\" \"+len);\n\n        if (buf[off] == '#')\n        {\n            // character reference\n            off++;\n            len--;\n            if (buf[off] == 'x' || buf[off] == 'X')\n            {\n                ch = Integer.valueOf(new String(buf, off + 1, len - 1), 16);\n            }\n            else\n            {\n                ch = Integer.valueOf(new String(buf, off, len));\n            }\n            out.write(ch.intValue());\n        }\n        else\n        {\n            String ent = new String(buf, off, len);\n            String val = (String) entities.get(ent);\n            if (val != null)\n            {\n                out.write(val);\n            }\n            else\n            {\n                out.write(\"&\" + ent + \";\");\n                //tok.warning(\"unknown entity reference: \" + ent);\n            }\n        }\n    }\n\n","sourceOld":"    // character references are rare enough that we don't care about\n    // creating a String object for them unnecessarily...\n    public void writeEntityDef(char[] buf, int off, int len, Writer out)\n        throws Exception, IOException, NumberFormatException\n    {\n        Integer ch;\n        //System.out.println(\"Entity: \" + new String(buf, off, len) +\" \"+off+\" \"+len);\n\n        if (buf[off] == '#') {  // character reference\n            off++;\n            len--;\n            if (buf[off] == 'x' || buf[off] == 'X') {\n                ch = Integer.valueOf(new String(buf, off+1, len-1), 16);\n            } else {\n                ch = Integer.valueOf(new String(buf, off, len));\n            }\n            out.write(ch.intValue());\n         } else {\n            String ent = new String(buf, off, len);\n            String val = (String) entities.get(ent);\n            if (val != null) {\n                out.write(val);\n            } else {\n                out.write(\"&\" + ent + \";\");\n                //tok.warning(\"unknown entity reference: \" + ent);\n            }\n        }\n    }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"afc16d717d9ed1a8e45371668ca6de674164d624","date":1103345442,"type":4,"author":"Otis Gospodnetic","isMerge":false,"pathNew":"/dev/null","pathOld":"sandbox/contributions/webcrawler-LARM/src/de/lanlab/larm/parser/EntityManager#writeEntityDef(char[],int,int,Writer).mjava","sourceNew":null,"sourceOld":"    // character references are rare enough that we don't care about\n    // creating a String object for them unnecessarily...\n    /**\n     * Description of the Method\n     *\n     * @param buf                        Description of the Parameter\n     * @param off                        Description of the Parameter\n     * @param len                        Description of the Parameter\n     * @param out                        Description of the Parameter\n     * @exception Exception              Description of the Exception\n     * @exception IOException            Description of the Exception\n     * @exception NumberFormatException  Description of the Exception\n     */\n    public void writeEntityDef(char[] buf, int off, int len, Writer out)\n        throws Exception, IOException, NumberFormatException\n    {\n        Integer ch;\n        //System.out.println(\"Entity: \" + new String(buf, off, len) +\" \"+off+\" \"+len);\n\n        if (buf[off] == '#')\n        {\n            // character reference\n            off++;\n            len--;\n            if (buf[off] == 'x' || buf[off] == 'X')\n            {\n                ch = Integer.valueOf(new String(buf, off + 1, len - 1), 16);\n            }\n            else\n            {\n                ch = Integer.valueOf(new String(buf, off, len));\n            }\n            out.write(ch.intValue());\n        }\n        else\n        {\n            String ent = new String(buf, off, len);\n            String val = (String) entities.get(ent);\n            if (val != null)\n            {\n                out.write(val);\n            }\n            else\n            {\n                out.write(\"&\" + ent + \";\");\n                //tok.warning(\"unknown entity reference: \" + ent);\n            }\n        }\n    }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"12c7634bf3bb6da687c9b32ca310e7fb8fac8e1e":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"afc16d717d9ed1a8e45371668ca6de674164d624":["12c7634bf3bb6da687c9b32ca310e7fb8fac8e1e"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["afc16d717d9ed1a8e45371668ca6de674164d624"]},"commit2Childs":{"12c7634bf3bb6da687c9b32ca310e7fb8fac8e1e":["afc16d717d9ed1a8e45371668ca6de674164d624"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["12c7634bf3bb6da687c9b32ca310e7fb8fac8e1e"],"afc16d717d9ed1a8e45371668ca6de674164d624":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}