{"path":"lucene/analysis/common/src/java/org/tartarus/snowball/SnowballProgram#find_among(Among[]).mjava","commits":[{"id":"09479cd2de06c67a115b7346a8e5de8af4d62e81","date":1581961081,"type":0,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/analysis/common/src/java/org/tartarus/snowball/SnowballProgram#find_among(Among[]).mjava","pathOld":"/dev/null","sourceNew":"  protected int find_among(Among v[])\n  {\n    int i = 0;\n    int j = v.length;\n\n    int c = cursor;\n    int l = limit;\n\n    int common_i = 0;\n    int common_j = 0;\n\n    boolean first_key_inspected = false;\n\n    while (true) {\n      int k = i + ((j - i) >> 1);\n      int diff = 0;\n      int common = common_i < common_j ? common_i : common_j; // smaller\n      Among w = v[k];\n      int i2;\n      for (i2 = common; i2 < w.s.length; i2++) {\n        if (c + common == l) {\n          diff = -1;\n          break;\n        }\n        diff = current[c + common] - w.s[i2];\n        if (diff != 0) break;\n        common++;\n      }\n      if (diff < 0) {\n        j = k;\n        common_j = common;\n      } else {\n        i = k;\n        common_i = common;\n      }\n      if (j - i <= 1) {\n        if (i > 0) break; // v->s has been inspected\n        if (j == i) break; // only one item in v\n\n        // - but now we need to go round once more to get\n        // v->s inspected. This looks messy, but is actually\n        // the optimal approach.\n\n        if (first_key_inspected) break;\n        first_key_inspected = true;\n      }\n    }\n    while (true) {\n      Among w = v[i];\n      if (common_i >= w.s.length) {\n        cursor = c + w.s.length;\n        if (w.method == null) return w.result;\n        boolean res = false;\n        try {\n          res = (boolean) w.method.invokeExact(this);\n        } catch (Error | RuntimeException e) {\n          throw e;\n        } catch (Throwable e) {\n          throw new UndeclaredThrowableException(e);\n        }\n        cursor = c + w.s.length;\n        if (res) return w.result;\n      }\n      i = w.substring_i;\n      if (i < 0) return 0;\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"09479cd2de06c67a115b7346a8e5de8af4d62e81":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["09479cd2de06c67a115b7346a8e5de8af4d62e81"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["09479cd2de06c67a115b7346a8e5de8af4d62e81"],"09479cd2de06c67a115b7346a8e5de8af4d62e81":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}