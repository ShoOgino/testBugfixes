{"path":"solr/contrib/analytics/src/java/org/apache/solr/analytics/ExpressionFactory#addSystemFunctions().mjava","commits":[{"id":"c495edcca4d0bc51bf62d9be3527c87bf9b44ded","date":1498673617,"type":0,"author":"Dennis Gove","isMerge":false,"pathNew":"solr/contrib/analytics/src/java/org/apache/solr/analytics/ExpressionFactory#addSystemFunctions().mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Add the natively supported functionality.\n   */\n  public void addSystemFunctions() {\n    // Mapping Functions\n    expressionCreators.put(AbsoluteValueFunction.name, AbsoluteValueFunction.creatorFunction);\n    expressionCreators.put(AndFunction.name, AndFunction.creatorFunction);\n    expressionCreators.put(AddFunction.name, AddFunction.creatorFunction);\n    expressionCreators.put(BottomFunction.name, BottomFunction.creatorFunction);\n    expressionCreators.put(CeilingFunction.name, CeilingFunction.creatorFunction);\n    expressionCreators.put(ConcatFunction.name, ConcatFunction.creatorFunction);\n    expressionCreators.put(ConcatSeparatedFunction.name, ConcatSeparatedFunction.creatorFunction);\n    expressionCreators.put(DateMathFunction.name, DateMathFunction.creatorFunction);\n    expressionCreators.put(DateParseFunction.name, DateParseFunction.creatorFunction);\n    expressionCreators.put(DivideFunction.name, DivideFunction.creatorFunction);\n    expressionCreators.put(DocCountFunction.name, DocCountFunction.creatorFunction);\n    expressionCreators.put(EqualFunction.name,EqualFunction.creatorFunction);\n    expressionCreators.put(FillMissingFunction.name, FillMissingFunction.creatorFunction);\n    expressionCreators.put(FilterFunction.name, FilterFunction.creatorFunction);\n    expressionCreators.put(FloorFunction.name, FloorFunction.creatorFunction);\n    expressionCreators.put(GTFunction.name,GTFunction.creatorFunction);\n    expressionCreators.put(GTEFunction.name,GTEFunction.creatorFunction);\n    expressionCreators.put(IfFunction.name, IfFunction.creatorFunction);\n    expressionCreators.put(JoinFunction.name, JoinFunction.creatorFunction);\n    expressionCreators.put(LogFunction.name,LogFunction.creatorFunction);\n    expressionCreators.put(LTFunction.name,LTFunction.creatorFunction);\n    expressionCreators.put(LTEFunction.name,LTEFunction.creatorFunction);\n    expressionCreators.put(MultFunction.name, MultFunction.creatorFunction);\n    expressionCreators.put(NegateFunction.name, NegateFunction.creatorFunction);\n    expressionCreators.put(OrFunction.name, OrFunction.creatorFunction);\n    expressionCreators.put(PowerFunction.name, PowerFunction.creatorFunction);\n    expressionCreators.put(ReplaceFunction.name, ReplaceFunction.creatorFunction);\n    expressionCreators.put(RemoveFunction.name, RemoveFunction.creatorFunction);\n    expressionCreators.put(RoundFunction.name, RoundFunction.creatorFunction);\n    expressionCreators.put(StringCastFunction.name, StringCastFunction.creatorFunction);\n    expressionCreators.put(SubtractFunction.name, SubtractFunction.creatorFunction);\n    expressionCreators.put(TopFunction.name, TopFunction.creatorFunction);\n    \n    // Reduction Functions\n    expressionCreators.put(CountFunction.name, CountFunction.creatorFunction);\n    expressionCreators.put(MaxFunction.name, MaxFunction.creatorFunction);\n    expressionCreators.put(MedianFunction.name, MedianFunction.creatorFunction);\n    expressionCreators.put(MinFunction.name, MinFunction.creatorFunction);\n    expressionCreators.put(MissingFunction.name, MissingFunction.creatorFunction);\n    expressionCreators.put(OrdinalFunction.name, OrdinalFunction.creatorFunction);\n    expressionCreators.put(PercentileFunction.name, PercentileFunction.creatorFunction);\n    expressionCreators.put(SumFunction.name, SumFunction.creatorFunction);\n    expressionCreators.put(UniqueFunction.name, UniqueFunction.creatorFunction);\n    \n    // Variables\n    addSystemVariableFunction(\"wmean(a,b)\",\"div(mean(prod(a,b)),sum(b))\");\n    addSystemVariableFunction(\"mean(a)\",\"div(sum(a),count(a))\");\n    addSystemVariableFunction(\"sumofsquares(a)\",\"sum(pow(a,2))\");\n    addSystemVariableFunction(\"sqrt(a)\",\"pow(a,0.5)\");\n    addSystemVariableFunction(\"variance(a)\",\"sub(mean(pow(a,2)),pow(mean(a),2))\");\n    addSystemVariableFunction(\"stddev(a)\",\"sqrt(variance(a))\");\n    addSystemVariableFunction(\"csv(a..)\",\"concatsep(',',a)\");\n    addSystemVariableFunction(\"csv_output(a..)\",\"concatsep(',',a:fillmissing(join(_,';'),''))\");\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"28288370235ed02234a64753cdbf0c6ec096304a","date":1498726817,"type":0,"author":"Karl Wright","isMerge":true,"pathNew":"solr/contrib/analytics/src/java/org/apache/solr/analytics/ExpressionFactory#addSystemFunctions().mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Add the natively supported functionality.\n   */\n  public void addSystemFunctions() {\n    // Mapping Functions\n    expressionCreators.put(AbsoluteValueFunction.name, AbsoluteValueFunction.creatorFunction);\n    expressionCreators.put(AndFunction.name, AndFunction.creatorFunction);\n    expressionCreators.put(AddFunction.name, AddFunction.creatorFunction);\n    expressionCreators.put(BottomFunction.name, BottomFunction.creatorFunction);\n    expressionCreators.put(CeilingFunction.name, CeilingFunction.creatorFunction);\n    expressionCreators.put(ConcatFunction.name, ConcatFunction.creatorFunction);\n    expressionCreators.put(ConcatSeparatedFunction.name, ConcatSeparatedFunction.creatorFunction);\n    expressionCreators.put(DateMathFunction.name, DateMathFunction.creatorFunction);\n    expressionCreators.put(DateParseFunction.name, DateParseFunction.creatorFunction);\n    expressionCreators.put(DivideFunction.name, DivideFunction.creatorFunction);\n    expressionCreators.put(DocCountFunction.name, DocCountFunction.creatorFunction);\n    expressionCreators.put(EqualFunction.name,EqualFunction.creatorFunction);\n    expressionCreators.put(FillMissingFunction.name, FillMissingFunction.creatorFunction);\n    expressionCreators.put(FilterFunction.name, FilterFunction.creatorFunction);\n    expressionCreators.put(FloorFunction.name, FloorFunction.creatorFunction);\n    expressionCreators.put(GTFunction.name,GTFunction.creatorFunction);\n    expressionCreators.put(GTEFunction.name,GTEFunction.creatorFunction);\n    expressionCreators.put(IfFunction.name, IfFunction.creatorFunction);\n    expressionCreators.put(JoinFunction.name, JoinFunction.creatorFunction);\n    expressionCreators.put(LogFunction.name,LogFunction.creatorFunction);\n    expressionCreators.put(LTFunction.name,LTFunction.creatorFunction);\n    expressionCreators.put(LTEFunction.name,LTEFunction.creatorFunction);\n    expressionCreators.put(MultFunction.name, MultFunction.creatorFunction);\n    expressionCreators.put(NegateFunction.name, NegateFunction.creatorFunction);\n    expressionCreators.put(OrFunction.name, OrFunction.creatorFunction);\n    expressionCreators.put(PowerFunction.name, PowerFunction.creatorFunction);\n    expressionCreators.put(ReplaceFunction.name, ReplaceFunction.creatorFunction);\n    expressionCreators.put(RemoveFunction.name, RemoveFunction.creatorFunction);\n    expressionCreators.put(RoundFunction.name, RoundFunction.creatorFunction);\n    expressionCreators.put(StringCastFunction.name, StringCastFunction.creatorFunction);\n    expressionCreators.put(SubtractFunction.name, SubtractFunction.creatorFunction);\n    expressionCreators.put(TopFunction.name, TopFunction.creatorFunction);\n    \n    // Reduction Functions\n    expressionCreators.put(CountFunction.name, CountFunction.creatorFunction);\n    expressionCreators.put(MaxFunction.name, MaxFunction.creatorFunction);\n    expressionCreators.put(MedianFunction.name, MedianFunction.creatorFunction);\n    expressionCreators.put(MinFunction.name, MinFunction.creatorFunction);\n    expressionCreators.put(MissingFunction.name, MissingFunction.creatorFunction);\n    expressionCreators.put(OrdinalFunction.name, OrdinalFunction.creatorFunction);\n    expressionCreators.put(PercentileFunction.name, PercentileFunction.creatorFunction);\n    expressionCreators.put(SumFunction.name, SumFunction.creatorFunction);\n    expressionCreators.put(UniqueFunction.name, UniqueFunction.creatorFunction);\n    \n    // Variables\n    addSystemVariableFunction(\"wmean(a,b)\",\"div(mean(prod(a,b)),sum(b))\");\n    addSystemVariableFunction(\"mean(a)\",\"div(sum(a),count(a))\");\n    addSystemVariableFunction(\"sumofsquares(a)\",\"sum(pow(a,2))\");\n    addSystemVariableFunction(\"sqrt(a)\",\"pow(a,0.5)\");\n    addSystemVariableFunction(\"variance(a)\",\"sub(mean(pow(a,2)),pow(mean(a),2))\");\n    addSystemVariableFunction(\"stddev(a)\",\"sqrt(variance(a))\");\n    addSystemVariableFunction(\"csv(a..)\",\"concatsep(',',a)\");\n    addSystemVariableFunction(\"csv_output(a..)\",\"concatsep(',',a:fillmissing(join(_,';'),''))\");\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"30c8e5574b55d57947e989443dfde611646530ee","date":1499131153,"type":0,"author":"Shalin Shekhar Mangar","isMerge":true,"pathNew":"solr/contrib/analytics/src/java/org/apache/solr/analytics/ExpressionFactory#addSystemFunctions().mjava","pathOld":"/dev/null","sourceNew":"  /**\n   * Add the natively supported functionality.\n   */\n  public void addSystemFunctions() {\n    // Mapping Functions\n    expressionCreators.put(AbsoluteValueFunction.name, AbsoluteValueFunction.creatorFunction);\n    expressionCreators.put(AndFunction.name, AndFunction.creatorFunction);\n    expressionCreators.put(AddFunction.name, AddFunction.creatorFunction);\n    expressionCreators.put(BottomFunction.name, BottomFunction.creatorFunction);\n    expressionCreators.put(CeilingFunction.name, CeilingFunction.creatorFunction);\n    expressionCreators.put(ConcatFunction.name, ConcatFunction.creatorFunction);\n    expressionCreators.put(ConcatSeparatedFunction.name, ConcatSeparatedFunction.creatorFunction);\n    expressionCreators.put(DateMathFunction.name, DateMathFunction.creatorFunction);\n    expressionCreators.put(DateParseFunction.name, DateParseFunction.creatorFunction);\n    expressionCreators.put(DivideFunction.name, DivideFunction.creatorFunction);\n    expressionCreators.put(DocCountFunction.name, DocCountFunction.creatorFunction);\n    expressionCreators.put(EqualFunction.name,EqualFunction.creatorFunction);\n    expressionCreators.put(FillMissingFunction.name, FillMissingFunction.creatorFunction);\n    expressionCreators.put(FilterFunction.name, FilterFunction.creatorFunction);\n    expressionCreators.put(FloorFunction.name, FloorFunction.creatorFunction);\n    expressionCreators.put(GTFunction.name,GTFunction.creatorFunction);\n    expressionCreators.put(GTEFunction.name,GTEFunction.creatorFunction);\n    expressionCreators.put(IfFunction.name, IfFunction.creatorFunction);\n    expressionCreators.put(JoinFunction.name, JoinFunction.creatorFunction);\n    expressionCreators.put(LogFunction.name,LogFunction.creatorFunction);\n    expressionCreators.put(LTFunction.name,LTFunction.creatorFunction);\n    expressionCreators.put(LTEFunction.name,LTEFunction.creatorFunction);\n    expressionCreators.put(MultFunction.name, MultFunction.creatorFunction);\n    expressionCreators.put(NegateFunction.name, NegateFunction.creatorFunction);\n    expressionCreators.put(OrFunction.name, OrFunction.creatorFunction);\n    expressionCreators.put(PowerFunction.name, PowerFunction.creatorFunction);\n    expressionCreators.put(ReplaceFunction.name, ReplaceFunction.creatorFunction);\n    expressionCreators.put(RemoveFunction.name, RemoveFunction.creatorFunction);\n    expressionCreators.put(RoundFunction.name, RoundFunction.creatorFunction);\n    expressionCreators.put(StringCastFunction.name, StringCastFunction.creatorFunction);\n    expressionCreators.put(SubtractFunction.name, SubtractFunction.creatorFunction);\n    expressionCreators.put(TopFunction.name, TopFunction.creatorFunction);\n    \n    // Reduction Functions\n    expressionCreators.put(CountFunction.name, CountFunction.creatorFunction);\n    expressionCreators.put(MaxFunction.name, MaxFunction.creatorFunction);\n    expressionCreators.put(MedianFunction.name, MedianFunction.creatorFunction);\n    expressionCreators.put(MinFunction.name, MinFunction.creatorFunction);\n    expressionCreators.put(MissingFunction.name, MissingFunction.creatorFunction);\n    expressionCreators.put(OrdinalFunction.name, OrdinalFunction.creatorFunction);\n    expressionCreators.put(PercentileFunction.name, PercentileFunction.creatorFunction);\n    expressionCreators.put(SumFunction.name, SumFunction.creatorFunction);\n    expressionCreators.put(UniqueFunction.name, UniqueFunction.creatorFunction);\n    \n    // Variables\n    addSystemVariableFunction(\"wmean(a,b)\",\"div(mean(prod(a,b)),sum(b))\");\n    addSystemVariableFunction(\"mean(a)\",\"div(sum(a),count(a))\");\n    addSystemVariableFunction(\"sumofsquares(a)\",\"sum(pow(a,2))\");\n    addSystemVariableFunction(\"sqrt(a)\",\"pow(a,0.5)\");\n    addSystemVariableFunction(\"variance(a)\",\"sub(mean(pow(a,2)),pow(mean(a),2))\");\n    addSystemVariableFunction(\"stddev(a)\",\"sqrt(variance(a))\");\n    addSystemVariableFunction(\"csv(a..)\",\"concatsep(',',a)\");\n    addSystemVariableFunction(\"csv_output(a..)\",\"concatsep(',',a:fillmissing(join(_,';'),''))\");\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"3bd4c6955956e76c96eb12dfe64108ed03522983","date":1508262722,"type":3,"author":"Houston Putman","isMerge":false,"pathNew":"solr/contrib/analytics/src/java/org/apache/solr/analytics/ExpressionFactory#addSystemFunctions().mjava","pathOld":"solr/contrib/analytics/src/java/org/apache/solr/analytics/ExpressionFactory#addSystemFunctions().mjava","sourceNew":"  /**\n   * Add the natively supported functionality.\n   */\n  public void addSystemFunctions() {\n    // Mapping Functions\n    expressionCreators.put(AbsoluteValueFunction.name, AbsoluteValueFunction.creatorFunction);\n    expressionCreators.put(AndFunction.name, AndFunction.creatorFunction);\n    expressionCreators.put(AddFunction.name, AddFunction.creatorFunction);\n    expressionCreators.put(BottomFunction.name, BottomFunction.creatorFunction);\n    expressionCreators.put(CeilingFunction.name, CeilingFunction.creatorFunction);\n    expressionCreators.put(ConcatFunction.name, ConcatFunction.creatorFunction);\n    expressionCreators.put(SeparatedConcatFunction.name, SeparatedConcatFunction.creatorFunction);\n    expressionCreators.put(DateMathFunction.name, DateMathFunction.creatorFunction);\n    expressionCreators.put(DateParseFunction.name, DateParseFunction.creatorFunction);\n    expressionCreators.put(DivideFunction.name, DivideFunction.creatorFunction);\n    expressionCreators.put(EqualFunction.name,EqualFunction.creatorFunction);\n    expressionCreators.put(ExistsFunction.name,ExistsFunction.creatorFunction);\n    expressionCreators.put(FillMissingFunction.name, FillMissingFunction.creatorFunction);\n    expressionCreators.put(FilterFunction.name, FilterFunction.creatorFunction);\n    expressionCreators.put(FloorFunction.name, FloorFunction.creatorFunction);\n    expressionCreators.put(GTFunction.name,GTFunction.creatorFunction);\n    expressionCreators.put(GTEFunction.name,GTEFunction.creatorFunction);\n    expressionCreators.put(IfFunction.name, IfFunction.creatorFunction);\n    expressionCreators.put(LogFunction.name,LogFunction.creatorFunction);\n    expressionCreators.put(LTFunction.name,LTFunction.creatorFunction);\n    expressionCreators.put(LTEFunction.name,LTEFunction.creatorFunction);\n    expressionCreators.put(MultFunction.name, MultFunction.creatorFunction);\n    expressionCreators.put(NegateFunction.name, NegateFunction.creatorFunction);\n    expressionCreators.put(OrFunction.name, OrFunction.creatorFunction);\n    expressionCreators.put(PowerFunction.name, PowerFunction.creatorFunction);\n    expressionCreators.put(ReplaceFunction.name, ReplaceFunction.creatorFunction);\n    expressionCreators.put(RemoveFunction.name, RemoveFunction.creatorFunction);\n    expressionCreators.put(RoundFunction.name, RoundFunction.creatorFunction);\n    expressionCreators.put(StringCastFunction.name, StringCastFunction.creatorFunction);\n    expressionCreators.put(SubtractFunction.name, SubtractFunction.creatorFunction);\n    expressionCreators.put(TopFunction.name, TopFunction.creatorFunction);\n    \n    // Reduction Functions\n    expressionCreators.put(CountFunction.name, CountFunction.creatorFunction);\n    expressionCreators.put(DocCountFunction.name, DocCountFunction.creatorFunction);\n    expressionCreators.put(MaxFunction.name, MaxFunction.creatorFunction);\n    expressionCreators.put(MeanFunction.name, MeanFunction.creatorFunction);\n    expressionCreators.put(MedianFunction.name, MedianFunction.creatorFunction);\n    expressionCreators.put(MinFunction.name, MinFunction.creatorFunction);\n    expressionCreators.put(MissingFunction.name, MissingFunction.creatorFunction);\n    expressionCreators.put(OrdinalFunction.name, OrdinalFunction.creatorFunction);\n    expressionCreators.put(PercentileFunction.name, PercentileFunction.creatorFunction);\n    expressionCreators.put(SumFunction.name, SumFunction.creatorFunction);\n    expressionCreators.put(UniqueFunction.name, UniqueFunction.creatorFunction);\n    \n    // Variables\n    addSystemVariableFunction(WeightedMeanVariableFunction.name, WeightedMeanVariableFunction.params, WeightedMeanVariableFunction.function);\n    addSystemVariableFunction(SumOfSquaresVariableFunction.name, SumOfSquaresVariableFunction.params, SumOfSquaresVariableFunction.function);\n    addSystemVariableFunction(SquareRootVariableFunction.name, SquareRootVariableFunction.params, SquareRootVariableFunction.function);\n    addSystemVariableFunction(VarianceVariableFunction.name, VarianceVariableFunction.params, VarianceVariableFunction.function);\n    addSystemVariableFunction(SandardDeviationVariableFunction.name, SandardDeviationVariableFunction.params, SandardDeviationVariableFunction.function);\n    addSystemVariableFunction(CSVVariableFunction.name, CSVVariableFunction.params, CSVVariableFunction.function);\n    addSystemVariableFunction(CSVOutputVariableFunction.name, CSVOutputVariableFunction.params, CSVOutputVariableFunction.function);\n  }\n\n","sourceOld":"  /**\n   * Add the natively supported functionality.\n   */\n  public void addSystemFunctions() {\n    // Mapping Functions\n    expressionCreators.put(AbsoluteValueFunction.name, AbsoluteValueFunction.creatorFunction);\n    expressionCreators.put(AndFunction.name, AndFunction.creatorFunction);\n    expressionCreators.put(AddFunction.name, AddFunction.creatorFunction);\n    expressionCreators.put(BottomFunction.name, BottomFunction.creatorFunction);\n    expressionCreators.put(CeilingFunction.name, CeilingFunction.creatorFunction);\n    expressionCreators.put(ConcatFunction.name, ConcatFunction.creatorFunction);\n    expressionCreators.put(ConcatSeparatedFunction.name, ConcatSeparatedFunction.creatorFunction);\n    expressionCreators.put(DateMathFunction.name, DateMathFunction.creatorFunction);\n    expressionCreators.put(DateParseFunction.name, DateParseFunction.creatorFunction);\n    expressionCreators.put(DivideFunction.name, DivideFunction.creatorFunction);\n    expressionCreators.put(DocCountFunction.name, DocCountFunction.creatorFunction);\n    expressionCreators.put(EqualFunction.name,EqualFunction.creatorFunction);\n    expressionCreators.put(FillMissingFunction.name, FillMissingFunction.creatorFunction);\n    expressionCreators.put(FilterFunction.name, FilterFunction.creatorFunction);\n    expressionCreators.put(FloorFunction.name, FloorFunction.creatorFunction);\n    expressionCreators.put(GTFunction.name,GTFunction.creatorFunction);\n    expressionCreators.put(GTEFunction.name,GTEFunction.creatorFunction);\n    expressionCreators.put(IfFunction.name, IfFunction.creatorFunction);\n    expressionCreators.put(JoinFunction.name, JoinFunction.creatorFunction);\n    expressionCreators.put(LogFunction.name,LogFunction.creatorFunction);\n    expressionCreators.put(LTFunction.name,LTFunction.creatorFunction);\n    expressionCreators.put(LTEFunction.name,LTEFunction.creatorFunction);\n    expressionCreators.put(MultFunction.name, MultFunction.creatorFunction);\n    expressionCreators.put(NegateFunction.name, NegateFunction.creatorFunction);\n    expressionCreators.put(OrFunction.name, OrFunction.creatorFunction);\n    expressionCreators.put(PowerFunction.name, PowerFunction.creatorFunction);\n    expressionCreators.put(ReplaceFunction.name, ReplaceFunction.creatorFunction);\n    expressionCreators.put(RemoveFunction.name, RemoveFunction.creatorFunction);\n    expressionCreators.put(RoundFunction.name, RoundFunction.creatorFunction);\n    expressionCreators.put(StringCastFunction.name, StringCastFunction.creatorFunction);\n    expressionCreators.put(SubtractFunction.name, SubtractFunction.creatorFunction);\n    expressionCreators.put(TopFunction.name, TopFunction.creatorFunction);\n    \n    // Reduction Functions\n    expressionCreators.put(CountFunction.name, CountFunction.creatorFunction);\n    expressionCreators.put(MaxFunction.name, MaxFunction.creatorFunction);\n    expressionCreators.put(MedianFunction.name, MedianFunction.creatorFunction);\n    expressionCreators.put(MinFunction.name, MinFunction.creatorFunction);\n    expressionCreators.put(MissingFunction.name, MissingFunction.creatorFunction);\n    expressionCreators.put(OrdinalFunction.name, OrdinalFunction.creatorFunction);\n    expressionCreators.put(PercentileFunction.name, PercentileFunction.creatorFunction);\n    expressionCreators.put(SumFunction.name, SumFunction.creatorFunction);\n    expressionCreators.put(UniqueFunction.name, UniqueFunction.creatorFunction);\n    \n    // Variables\n    addSystemVariableFunction(\"wmean(a,b)\",\"div(mean(prod(a,b)),sum(b))\");\n    addSystemVariableFunction(\"mean(a)\",\"div(sum(a),count(a))\");\n    addSystemVariableFunction(\"sumofsquares(a)\",\"sum(pow(a,2))\");\n    addSystemVariableFunction(\"sqrt(a)\",\"pow(a,0.5)\");\n    addSystemVariableFunction(\"variance(a)\",\"sub(mean(pow(a,2)),pow(mean(a),2))\");\n    addSystemVariableFunction(\"stddev(a)\",\"sqrt(variance(a))\");\n    addSystemVariableFunction(\"csv(a..)\",\"concatsep(',',a)\");\n    addSystemVariableFunction(\"csv_output(a..)\",\"concatsep(',',a:fillmissing(join(_,';'),''))\");\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"1e4e64b7199d2f2a17be7f3926c7532553910dce","date":1564342581,"type":3,"author":"Jason Gerlowski","isMerge":false,"pathNew":"solr/contrib/analytics/src/java/org/apache/solr/analytics/ExpressionFactory#addSystemFunctions().mjava","pathOld":"solr/contrib/analytics/src/java/org/apache/solr/analytics/ExpressionFactory#addSystemFunctions().mjava","sourceNew":"  /**\n   * Add the natively supported functionality.\n   */\n  public void addSystemFunctions() {\n    // Mapping Functions\n    expressionCreators.put(AbsoluteValueFunction.name, AbsoluteValueFunction.creatorFunction);\n    expressionCreators.put(AndFunction.name, AndFunction.creatorFunction);\n    expressionCreators.put(AddFunction.name, AddFunction.creatorFunction);\n    expressionCreators.put(BottomFunction.name, BottomFunction.creatorFunction);\n    expressionCreators.put(CeilingFunction.name, CeilingFunction.creatorFunction);\n    expressionCreators.put(ConcatFunction.name, ConcatFunction.creatorFunction);\n    expressionCreators.put(SeparatedConcatFunction.name, SeparatedConcatFunction.creatorFunction);\n    expressionCreators.put(DateMathFunction.name, DateMathFunction.creatorFunction);\n    expressionCreators.put(DateParseFunction.name, DateParseFunction.creatorFunction);\n    expressionCreators.put(DivideFunction.name, DivideFunction.creatorFunction);\n    expressionCreators.put(EqualFunction.name,EqualFunction.creatorFunction);\n    expressionCreators.put(ExistsFunction.name,ExistsFunction.creatorFunction);\n    expressionCreators.put(FillMissingFunction.name, FillMissingFunction.creatorFunction);\n    expressionCreators.put(FilterFunction.name, FilterFunction.creatorFunction);\n    expressionCreators.put(FloorFunction.name, FloorFunction.creatorFunction);\n    expressionCreators.put(GTFunction.name,GTFunction.creatorFunction);\n    expressionCreators.put(GTEFunction.name,GTEFunction.creatorFunction);\n    expressionCreators.put(IfFunction.name, IfFunction.creatorFunction);\n    expressionCreators.put(LogFunction.name,LogFunction.creatorFunction);\n    expressionCreators.put(LTFunction.name,LTFunction.creatorFunction);\n    expressionCreators.put(LTEFunction.name,LTEFunction.creatorFunction);\n    expressionCreators.put(MultFunction.name, MultFunction.creatorFunction);\n    expressionCreators.put(NegateFunction.name, NegateFunction.creatorFunction);\n    expressionCreators.put(OrFunction.name, OrFunction.creatorFunction);\n    expressionCreators.put(PowerFunction.name, PowerFunction.creatorFunction);\n    expressionCreators.put(ReplaceFunction.name, ReplaceFunction.creatorFunction);\n    expressionCreators.put(RemoveFunction.name, RemoveFunction.creatorFunction);\n    expressionCreators.put(RoundFunction.name, RoundFunction.creatorFunction);\n    expressionCreators.put(StringCastFunction.name, StringCastFunction.creatorFunction);\n    expressionCreators.put(SubtractFunction.name, SubtractFunction.creatorFunction);\n    expressionCreators.put(TopFunction.name, TopFunction.creatorFunction);\n\n    // Reduction Functions\n    expressionCreators.put(CountFunction.name, CountFunction.creatorFunction);\n    expressionCreators.put(DocCountFunction.name, DocCountFunction.creatorFunction);\n    expressionCreators.put(MaxFunction.name, MaxFunction.creatorFunction);\n    expressionCreators.put(MeanFunction.name, MeanFunction.creatorFunction);\n    expressionCreators.put(MedianFunction.name, MedianFunction.creatorFunction);\n    expressionCreators.put(MinFunction.name, MinFunction.creatorFunction);\n    expressionCreators.put(MissingFunction.name, MissingFunction.creatorFunction);\n    expressionCreators.put(OrdinalFunction.name, OrdinalFunction.creatorFunction);\n    expressionCreators.put(PercentileFunction.name, PercentileFunction.creatorFunction);\n    expressionCreators.put(SumFunction.name, SumFunction.creatorFunction);\n    expressionCreators.put(UniqueFunction.name, UniqueFunction.creatorFunction);\n\n    // Variables\n    addSystemVariableFunction(WeightedMeanVariableFunction.name, WeightedMeanVariableFunction.params, WeightedMeanVariableFunction.function);\n    addSystemVariableFunction(SumOfSquaresVariableFunction.name, SumOfSquaresVariableFunction.params, SumOfSquaresVariableFunction.function);\n    addSystemVariableFunction(SquareRootVariableFunction.name, SquareRootVariableFunction.params, SquareRootVariableFunction.function);\n    addSystemVariableFunction(VarianceVariableFunction.name, VarianceVariableFunction.params, VarianceVariableFunction.function);\n    addSystemVariableFunction(SandardDeviationVariableFunction.name, SandardDeviationVariableFunction.params, SandardDeviationVariableFunction.function);\n    addSystemVariableFunction(CSVVariableFunction.name, CSVVariableFunction.params, CSVVariableFunction.function);\n    addSystemVariableFunction(CSVOutputVariableFunction.name, CSVOutputVariableFunction.params, CSVOutputVariableFunction.function);\n  }\n\n","sourceOld":"  /**\n   * Add the natively supported functionality.\n   */\n  public void addSystemFunctions() {\n    // Mapping Functions\n    expressionCreators.put(AbsoluteValueFunction.name, AbsoluteValueFunction.creatorFunction);\n    expressionCreators.put(AndFunction.name, AndFunction.creatorFunction);\n    expressionCreators.put(AddFunction.name, AddFunction.creatorFunction);\n    expressionCreators.put(BottomFunction.name, BottomFunction.creatorFunction);\n    expressionCreators.put(CeilingFunction.name, CeilingFunction.creatorFunction);\n    expressionCreators.put(ConcatFunction.name, ConcatFunction.creatorFunction);\n    expressionCreators.put(SeparatedConcatFunction.name, SeparatedConcatFunction.creatorFunction);\n    expressionCreators.put(DateMathFunction.name, DateMathFunction.creatorFunction);\n    expressionCreators.put(DateParseFunction.name, DateParseFunction.creatorFunction);\n    expressionCreators.put(DivideFunction.name, DivideFunction.creatorFunction);\n    expressionCreators.put(EqualFunction.name,EqualFunction.creatorFunction);\n    expressionCreators.put(ExistsFunction.name,ExistsFunction.creatorFunction);\n    expressionCreators.put(FillMissingFunction.name, FillMissingFunction.creatorFunction);\n    expressionCreators.put(FilterFunction.name, FilterFunction.creatorFunction);\n    expressionCreators.put(FloorFunction.name, FloorFunction.creatorFunction);\n    expressionCreators.put(GTFunction.name,GTFunction.creatorFunction);\n    expressionCreators.put(GTEFunction.name,GTEFunction.creatorFunction);\n    expressionCreators.put(IfFunction.name, IfFunction.creatorFunction);\n    expressionCreators.put(LogFunction.name,LogFunction.creatorFunction);\n    expressionCreators.put(LTFunction.name,LTFunction.creatorFunction);\n    expressionCreators.put(LTEFunction.name,LTEFunction.creatorFunction);\n    expressionCreators.put(MultFunction.name, MultFunction.creatorFunction);\n    expressionCreators.put(NegateFunction.name, NegateFunction.creatorFunction);\n    expressionCreators.put(OrFunction.name, OrFunction.creatorFunction);\n    expressionCreators.put(PowerFunction.name, PowerFunction.creatorFunction);\n    expressionCreators.put(ReplaceFunction.name, ReplaceFunction.creatorFunction);\n    expressionCreators.put(RemoveFunction.name, RemoveFunction.creatorFunction);\n    expressionCreators.put(RoundFunction.name, RoundFunction.creatorFunction);\n    expressionCreators.put(StringCastFunction.name, StringCastFunction.creatorFunction);\n    expressionCreators.put(SubtractFunction.name, SubtractFunction.creatorFunction);\n    expressionCreators.put(TopFunction.name, TopFunction.creatorFunction);\n    \n    // Reduction Functions\n    expressionCreators.put(CountFunction.name, CountFunction.creatorFunction);\n    expressionCreators.put(DocCountFunction.name, DocCountFunction.creatorFunction);\n    expressionCreators.put(MaxFunction.name, MaxFunction.creatorFunction);\n    expressionCreators.put(MeanFunction.name, MeanFunction.creatorFunction);\n    expressionCreators.put(MedianFunction.name, MedianFunction.creatorFunction);\n    expressionCreators.put(MinFunction.name, MinFunction.creatorFunction);\n    expressionCreators.put(MissingFunction.name, MissingFunction.creatorFunction);\n    expressionCreators.put(OrdinalFunction.name, OrdinalFunction.creatorFunction);\n    expressionCreators.put(PercentileFunction.name, PercentileFunction.creatorFunction);\n    expressionCreators.put(SumFunction.name, SumFunction.creatorFunction);\n    expressionCreators.put(UniqueFunction.name, UniqueFunction.creatorFunction);\n    \n    // Variables\n    addSystemVariableFunction(WeightedMeanVariableFunction.name, WeightedMeanVariableFunction.params, WeightedMeanVariableFunction.function);\n    addSystemVariableFunction(SumOfSquaresVariableFunction.name, SumOfSquaresVariableFunction.params, SumOfSquaresVariableFunction.function);\n    addSystemVariableFunction(SquareRootVariableFunction.name, SquareRootVariableFunction.params, SquareRootVariableFunction.function);\n    addSystemVariableFunction(VarianceVariableFunction.name, VarianceVariableFunction.params, VarianceVariableFunction.function);\n    addSystemVariableFunction(SandardDeviationVariableFunction.name, SandardDeviationVariableFunction.params, SandardDeviationVariableFunction.function);\n    addSystemVariableFunction(CSVVariableFunction.name, CSVVariableFunction.params, CSVVariableFunction.function);\n    addSystemVariableFunction(CSVOutputVariableFunction.name, CSVOutputVariableFunction.params, CSVOutputVariableFunction.function);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"f8061ddd97f3352007d927dae445884a6f3d857b","date":1564988276,"type":3,"author":"Atri Sharma","isMerge":true,"pathNew":"solr/contrib/analytics/src/java/org/apache/solr/analytics/ExpressionFactory#addSystemFunctions().mjava","pathOld":"solr/contrib/analytics/src/java/org/apache/solr/analytics/ExpressionFactory#addSystemFunctions().mjava","sourceNew":"  /**\n   * Add the natively supported functionality.\n   */\n  public void addSystemFunctions() {\n    // Mapping Functions\n    expressionCreators.put(AbsoluteValueFunction.name, AbsoluteValueFunction.creatorFunction);\n    expressionCreators.put(AndFunction.name, AndFunction.creatorFunction);\n    expressionCreators.put(AddFunction.name, AddFunction.creatorFunction);\n    expressionCreators.put(BottomFunction.name, BottomFunction.creatorFunction);\n    expressionCreators.put(CeilingFunction.name, CeilingFunction.creatorFunction);\n    expressionCreators.put(ConcatFunction.name, ConcatFunction.creatorFunction);\n    expressionCreators.put(SeparatedConcatFunction.name, SeparatedConcatFunction.creatorFunction);\n    expressionCreators.put(DateMathFunction.name, DateMathFunction.creatorFunction);\n    expressionCreators.put(DateParseFunction.name, DateParseFunction.creatorFunction);\n    expressionCreators.put(DivideFunction.name, DivideFunction.creatorFunction);\n    expressionCreators.put(EqualFunction.name,EqualFunction.creatorFunction);\n    expressionCreators.put(ExistsFunction.name,ExistsFunction.creatorFunction);\n    expressionCreators.put(FillMissingFunction.name, FillMissingFunction.creatorFunction);\n    expressionCreators.put(FilterFunction.name, FilterFunction.creatorFunction);\n    expressionCreators.put(FloorFunction.name, FloorFunction.creatorFunction);\n    expressionCreators.put(GTFunction.name,GTFunction.creatorFunction);\n    expressionCreators.put(GTEFunction.name,GTEFunction.creatorFunction);\n    expressionCreators.put(IfFunction.name, IfFunction.creatorFunction);\n    expressionCreators.put(LogFunction.name,LogFunction.creatorFunction);\n    expressionCreators.put(LTFunction.name,LTFunction.creatorFunction);\n    expressionCreators.put(LTEFunction.name,LTEFunction.creatorFunction);\n    expressionCreators.put(MultFunction.name, MultFunction.creatorFunction);\n    expressionCreators.put(NegateFunction.name, NegateFunction.creatorFunction);\n    expressionCreators.put(OrFunction.name, OrFunction.creatorFunction);\n    expressionCreators.put(PowerFunction.name, PowerFunction.creatorFunction);\n    expressionCreators.put(ReplaceFunction.name, ReplaceFunction.creatorFunction);\n    expressionCreators.put(RemoveFunction.name, RemoveFunction.creatorFunction);\n    expressionCreators.put(RoundFunction.name, RoundFunction.creatorFunction);\n    expressionCreators.put(StringCastFunction.name, StringCastFunction.creatorFunction);\n    expressionCreators.put(SubtractFunction.name, SubtractFunction.creatorFunction);\n    expressionCreators.put(TopFunction.name, TopFunction.creatorFunction);\n\n    // Reduction Functions\n    expressionCreators.put(CountFunction.name, CountFunction.creatorFunction);\n    expressionCreators.put(DocCountFunction.name, DocCountFunction.creatorFunction);\n    expressionCreators.put(MaxFunction.name, MaxFunction.creatorFunction);\n    expressionCreators.put(MeanFunction.name, MeanFunction.creatorFunction);\n    expressionCreators.put(MedianFunction.name, MedianFunction.creatorFunction);\n    expressionCreators.put(MinFunction.name, MinFunction.creatorFunction);\n    expressionCreators.put(MissingFunction.name, MissingFunction.creatorFunction);\n    expressionCreators.put(OrdinalFunction.name, OrdinalFunction.creatorFunction);\n    expressionCreators.put(PercentileFunction.name, PercentileFunction.creatorFunction);\n    expressionCreators.put(SumFunction.name, SumFunction.creatorFunction);\n    expressionCreators.put(UniqueFunction.name, UniqueFunction.creatorFunction);\n\n    // Variables\n    addSystemVariableFunction(WeightedMeanVariableFunction.name, WeightedMeanVariableFunction.params, WeightedMeanVariableFunction.function);\n    addSystemVariableFunction(SumOfSquaresVariableFunction.name, SumOfSquaresVariableFunction.params, SumOfSquaresVariableFunction.function);\n    addSystemVariableFunction(SquareRootVariableFunction.name, SquareRootVariableFunction.params, SquareRootVariableFunction.function);\n    addSystemVariableFunction(VarianceVariableFunction.name, VarianceVariableFunction.params, VarianceVariableFunction.function);\n    addSystemVariableFunction(SandardDeviationVariableFunction.name, SandardDeviationVariableFunction.params, SandardDeviationVariableFunction.function);\n    addSystemVariableFunction(CSVVariableFunction.name, CSVVariableFunction.params, CSVVariableFunction.function);\n    addSystemVariableFunction(CSVOutputVariableFunction.name, CSVOutputVariableFunction.params, CSVOutputVariableFunction.function);\n  }\n\n","sourceOld":"  /**\n   * Add the natively supported functionality.\n   */\n  public void addSystemFunctions() {\n    // Mapping Functions\n    expressionCreators.put(AbsoluteValueFunction.name, AbsoluteValueFunction.creatorFunction);\n    expressionCreators.put(AndFunction.name, AndFunction.creatorFunction);\n    expressionCreators.put(AddFunction.name, AddFunction.creatorFunction);\n    expressionCreators.put(BottomFunction.name, BottomFunction.creatorFunction);\n    expressionCreators.put(CeilingFunction.name, CeilingFunction.creatorFunction);\n    expressionCreators.put(ConcatFunction.name, ConcatFunction.creatorFunction);\n    expressionCreators.put(SeparatedConcatFunction.name, SeparatedConcatFunction.creatorFunction);\n    expressionCreators.put(DateMathFunction.name, DateMathFunction.creatorFunction);\n    expressionCreators.put(DateParseFunction.name, DateParseFunction.creatorFunction);\n    expressionCreators.put(DivideFunction.name, DivideFunction.creatorFunction);\n    expressionCreators.put(EqualFunction.name,EqualFunction.creatorFunction);\n    expressionCreators.put(ExistsFunction.name,ExistsFunction.creatorFunction);\n    expressionCreators.put(FillMissingFunction.name, FillMissingFunction.creatorFunction);\n    expressionCreators.put(FilterFunction.name, FilterFunction.creatorFunction);\n    expressionCreators.put(FloorFunction.name, FloorFunction.creatorFunction);\n    expressionCreators.put(GTFunction.name,GTFunction.creatorFunction);\n    expressionCreators.put(GTEFunction.name,GTEFunction.creatorFunction);\n    expressionCreators.put(IfFunction.name, IfFunction.creatorFunction);\n    expressionCreators.put(LogFunction.name,LogFunction.creatorFunction);\n    expressionCreators.put(LTFunction.name,LTFunction.creatorFunction);\n    expressionCreators.put(LTEFunction.name,LTEFunction.creatorFunction);\n    expressionCreators.put(MultFunction.name, MultFunction.creatorFunction);\n    expressionCreators.put(NegateFunction.name, NegateFunction.creatorFunction);\n    expressionCreators.put(OrFunction.name, OrFunction.creatorFunction);\n    expressionCreators.put(PowerFunction.name, PowerFunction.creatorFunction);\n    expressionCreators.put(ReplaceFunction.name, ReplaceFunction.creatorFunction);\n    expressionCreators.put(RemoveFunction.name, RemoveFunction.creatorFunction);\n    expressionCreators.put(RoundFunction.name, RoundFunction.creatorFunction);\n    expressionCreators.put(StringCastFunction.name, StringCastFunction.creatorFunction);\n    expressionCreators.put(SubtractFunction.name, SubtractFunction.creatorFunction);\n    expressionCreators.put(TopFunction.name, TopFunction.creatorFunction);\n    \n    // Reduction Functions\n    expressionCreators.put(CountFunction.name, CountFunction.creatorFunction);\n    expressionCreators.put(DocCountFunction.name, DocCountFunction.creatorFunction);\n    expressionCreators.put(MaxFunction.name, MaxFunction.creatorFunction);\n    expressionCreators.put(MeanFunction.name, MeanFunction.creatorFunction);\n    expressionCreators.put(MedianFunction.name, MedianFunction.creatorFunction);\n    expressionCreators.put(MinFunction.name, MinFunction.creatorFunction);\n    expressionCreators.put(MissingFunction.name, MissingFunction.creatorFunction);\n    expressionCreators.put(OrdinalFunction.name, OrdinalFunction.creatorFunction);\n    expressionCreators.put(PercentileFunction.name, PercentileFunction.creatorFunction);\n    expressionCreators.put(SumFunction.name, SumFunction.creatorFunction);\n    expressionCreators.put(UniqueFunction.name, UniqueFunction.creatorFunction);\n    \n    // Variables\n    addSystemVariableFunction(WeightedMeanVariableFunction.name, WeightedMeanVariableFunction.params, WeightedMeanVariableFunction.function);\n    addSystemVariableFunction(SumOfSquaresVariableFunction.name, SumOfSquaresVariableFunction.params, SumOfSquaresVariableFunction.function);\n    addSystemVariableFunction(SquareRootVariableFunction.name, SquareRootVariableFunction.params, SquareRootVariableFunction.function);\n    addSystemVariableFunction(VarianceVariableFunction.name, VarianceVariableFunction.params, VarianceVariableFunction.function);\n    addSystemVariableFunction(SandardDeviationVariableFunction.name, SandardDeviationVariableFunction.params, SandardDeviationVariableFunction.function);\n    addSystemVariableFunction(CSVVariableFunction.name, CSVVariableFunction.params, CSVVariableFunction.function);\n    addSystemVariableFunction(CSVOutputVariableFunction.name, CSVOutputVariableFunction.params, CSVOutputVariableFunction.function);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"1e4e64b7199d2f2a17be7f3926c7532553910dce":["3bd4c6955956e76c96eb12dfe64108ed03522983"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"30c8e5574b55d57947e989443dfde611646530ee":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","28288370235ed02234a64753cdbf0c6ec096304a"],"c495edcca4d0bc51bf62d9be3527c87bf9b44ded":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"28288370235ed02234a64753cdbf0c6ec096304a":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","c495edcca4d0bc51bf62d9be3527c87bf9b44ded"],"f8061ddd97f3352007d927dae445884a6f3d857b":["3bd4c6955956e76c96eb12dfe64108ed03522983","1e4e64b7199d2f2a17be7f3926c7532553910dce"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["1e4e64b7199d2f2a17be7f3926c7532553910dce"],"3bd4c6955956e76c96eb12dfe64108ed03522983":["28288370235ed02234a64753cdbf0c6ec096304a"]},"commit2Childs":{"1e4e64b7199d2f2a17be7f3926c7532553910dce":["f8061ddd97f3352007d927dae445884a6f3d857b","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["30c8e5574b55d57947e989443dfde611646530ee","c495edcca4d0bc51bf62d9be3527c87bf9b44ded","28288370235ed02234a64753cdbf0c6ec096304a"],"30c8e5574b55d57947e989443dfde611646530ee":[],"c495edcca4d0bc51bf62d9be3527c87bf9b44ded":["28288370235ed02234a64753cdbf0c6ec096304a"],"28288370235ed02234a64753cdbf0c6ec096304a":["30c8e5574b55d57947e989443dfde611646530ee","3bd4c6955956e76c96eb12dfe64108ed03522983"],"f8061ddd97f3352007d927dae445884a6f3d857b":[],"3bd4c6955956e76c96eb12dfe64108ed03522983":["1e4e64b7199d2f2a17be7f3926c7532553910dce","f8061ddd97f3352007d927dae445884a6f3d857b"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["30c8e5574b55d57947e989443dfde611646530ee","f8061ddd97f3352007d927dae445884a6f3d857b","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}