{"path":"solr/core/src/java/org/apache/solr/filestore/DistribPackageStore#delete(String).mjava","commits":[{"id":"64ec73f19361ec6354e55c878a349735fa8bc52e","date":1596183798,"type":0,"author":"Marcus","isMerge":false,"pathNew":"solr/core/src/java/org/apache/solr/filestore/DistribPackageStore#delete(String).mjava","pathOld":"/dev/null","sourceNew":"  @Override\n  public void delete(String path) {\n    deleteLocal(path);\n    List<String> nodes = coreContainer.getPackageStoreAPI().shuffledNodes();\n    HttpClient client = coreContainer.getUpdateShardHandler().getDefaultHttpClient();\n    for (String node : nodes) {\n      String baseUrl = coreContainer.getZkController().getZkStateReader().getBaseUrlForNodeName(node);\n      String url = baseUrl.replace(\"/solr\", \"/api\") + \"/node/files\" + path;\n      HttpDelete del = new HttpDelete(url);\n      coreContainer.runAsync(() -> Utils.executeHttpMethod(client, url, null, del));//invoke delete command on all nodes asynchronously\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"64ec73f19361ec6354e55c878a349735fa8bc52e":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["64ec73f19361ec6354e55c878a349735fa8bc52e"]},"commit2Childs":{"64ec73f19361ec6354e55c878a349735fa8bc52e":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["64ec73f19361ec6354e55c878a349735fa8bc52e"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}