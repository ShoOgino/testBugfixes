{"path":"solr/core/src/test/org/apache/solr/update/RootFieldTest#testUpdateWithChildDocs().mjava","commits":[{"id":"aa4f44656c8081bbc63325a83abdb025eafd5a2b","date":1543200469,"type":0,"author":"Moshe","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/update/RootFieldTest#testUpdateWithChildDocs().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testUpdateWithChildDocs() throws Exception {\n    SolrClient client = getSolrClient();\n    client.deleteByQuery(\"*:*\");// delete everything!\n\n    // Add child free doc\n    SolrInputDocument docToUpdate = new SolrInputDocument();\n    String docId = \"11\";\n    docToUpdate.addField( \"id\", docId);\n    docToUpdate.addField( \"name\", \"parent doc with a child\" );\n    SolrInputDocument child = new SolrInputDocument();\n    child.addField(\"id\", \"111\");\n    child.addField(\"name\", \"child doc\");\n    docToUpdate.addChildDocument(child);\n    if (!useRootSchema) {\n      thrown.expect(SolrException.class);\n      thrown.expectMessage(\"Unable to index docs with children:\" +\n          \" the schema must include definitions for both a uniqueKey field\" +\n          \" and the '_root_' field, using the exact same fieldType\");\n    }\n    client.add(docToUpdate);\n    client.commit();\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"aa4f44656c8081bbc63325a83abdb025eafd5a2b":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["aa4f44656c8081bbc63325a83abdb025eafd5a2b"]},"commit2Childs":{"aa4f44656c8081bbc63325a83abdb025eafd5a2b":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["aa4f44656c8081bbc63325a83abdb025eafd5a2b"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}