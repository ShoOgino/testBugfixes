{"path":"solr/solrj/src/java/org/apache/solr/client/solrj/impl/Krb5HttpClientBuilder#createSPNEGOAuthentication().mjava","commits":[{"id":"1a77e5e21cbd575a8240b0e3926164f15295f4e8","date":1544979500,"type":0,"author":"Cao Manh Dat","isMerge":false,"pathNew":"solr/solrj/src/java/org/apache/solr/client/solrj/impl/Krb5HttpClientBuilder#createSPNEGOAuthentication().mjava","pathOld":"/dev/null","sourceNew":"  private SPNEGOAuthentication createSPNEGOAuthentication() {\n    SPNEGOAuthentication authentication = new SPNEGOAuthentication(null){\n\n      public boolean matches(String type, URI uri, String realm) {\n        return this.getType().equals(type);\n      }\n    };\n    String clientAppName = System.getProperty(\"solr.kerberos.jaas.appname\", \"Client\");\n    AppConfigurationEntry[] entries = jaasConfig.getAppConfigurationEntry(clientAppName);\n    if (entries == null) {\n      log.warn(\"Could not find login configuration entry for {}. SPNego authentication may not be successful.\", (Object)clientAppName);\n      return authentication;\n    }\n    if (entries.length != 1) {\n      log.warn(\"Multiple login modules are specified in the configuration file\");\n      return authentication;\n    }\n    Map<String, ?> options = entries[0].getOptions();\n    String keyTab = (String)options.get(\"keyTab\");\n    if (keyTab != null) {\n      authentication.setUserKeyTabPath(Paths.get(keyTab, new String[0]));\n    }\n    authentication.setServiceName(\"HTTP\");\n    authentication.setUserName((String)options.get(\"principal\"));\n    if (\"true\".equalsIgnoreCase((String)options.get(\"useTicketCache\"))) {\n      authentication.setUseTicketCache(true);\n      String ticketCachePath = (String)options.get(\"ticketCache\");\n      if (ticketCachePath != null) {\n        authentication.setTicketCachePath(Paths.get(ticketCachePath));\n      }\n      authentication.setRenewTGT(\"true\".equalsIgnoreCase((String)options.get(\"renewTGT\")));\n    }\n    return authentication;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"1a77e5e21cbd575a8240b0e3926164f15295f4e8":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["1a77e5e21cbd575a8240b0e3926164f15295f4e8"]},"commit2Childs":{"1a77e5e21cbd575a8240b0e3926164f15295f4e8":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["1a77e5e21cbd575a8240b0e3926164f15295f4e8"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}