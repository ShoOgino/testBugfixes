{"path":"analysis/common/src/java/org/apache/lucene/analysis/miscellaneous/ScandinavianNormalizationFilter#incrementToken().mjava","commits":[{"id":"5d316e4c5ce74390d1f508011bb46c6a17a3f0b7","date":1372856973,"type":0,"author":"Jan Høydahl","isMerge":false,"pathNew":"analysis/common/src/java/org/apache/lucene/analysis/miscellaneous/ScandinavianNormalizationFilter#incrementToken().mjava","pathOld":"/dev/null","sourceNew":"  @Override\n  public boolean incrementToken() throws IOException {\n    if (!input.incrementToken()) {\n      return false;\n    }\n\n    char[] buffer = charTermAttribute.buffer();\n    int length = charTermAttribute.length();\n\n\n    int i;\n    for (i = 0; i < length; i++) {\n\n      if (buffer[i] == ae_se) {\n        buffer[i] = ae;\n\n      } else if (buffer[i] == AE_se) {\n        buffer[i] = AE;\n\n      } else if (buffer[i] == oe_se) {\n        buffer[i] = oe;\n\n      } else if (buffer[i] == OE_se) {\n        buffer[i] = OE;\n\n      } else if (length - 1 > i) {\n\n        if (buffer[i] == 'a' && (buffer[i + 1] == 'a' || buffer[i + 1] == 'o' || buffer[i + 1] == 'A' || buffer[i + 1] == 'O')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = aa;\n\n        } else if (buffer[i] == 'A' && (buffer[i + 1] == 'a' || buffer[i + 1] == 'A' || buffer[i + 1] == 'o' || buffer[i + 1] == 'O')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = AA;\n\n        } else if (buffer[i] == 'a' && (buffer[i + 1] == 'e' || buffer[i + 1] == 'E')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = ae;\n\n        } else if (buffer[i] == 'A' && (buffer[i + 1] == 'e' || buffer[i + 1] == 'E')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = AE;\n\n        } else if (buffer[i] == 'o' && (buffer[i + 1] == 'e' || buffer[i + 1] == 'E' || buffer[i + 1] == 'o' || buffer[i + 1] == 'O')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = oe;\n\n        } else if (buffer[i] == 'O' && (buffer[i + 1] == 'e' || buffer[i + 1] == 'E' || buffer[i + 1] == 'o' || buffer[i + 1] == 'O')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = OE;\n\n        }\n\n      }\n    }\n\n    charTermAttribute.setLength(length);\n\n\n    return true;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"31dd7f042fa51eb7ba17997fccec32f16f99d31c","date":1372858098,"type":4,"author":"Jan Høydahl","isMerge":false,"pathNew":"/dev/null","pathOld":"analysis/common/src/java/org/apache/lucene/analysis/miscellaneous/ScandinavianNormalizationFilter#incrementToken().mjava","sourceNew":null,"sourceOld":"  @Override\n  public boolean incrementToken() throws IOException {\n    if (!input.incrementToken()) {\n      return false;\n    }\n\n    char[] buffer = charTermAttribute.buffer();\n    int length = charTermAttribute.length();\n\n\n    int i;\n    for (i = 0; i < length; i++) {\n\n      if (buffer[i] == ae_se) {\n        buffer[i] = ae;\n\n      } else if (buffer[i] == AE_se) {\n        buffer[i] = AE;\n\n      } else if (buffer[i] == oe_se) {\n        buffer[i] = oe;\n\n      } else if (buffer[i] == OE_se) {\n        buffer[i] = OE;\n\n      } else if (length - 1 > i) {\n\n        if (buffer[i] == 'a' && (buffer[i + 1] == 'a' || buffer[i + 1] == 'o' || buffer[i + 1] == 'A' || buffer[i + 1] == 'O')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = aa;\n\n        } else if (buffer[i] == 'A' && (buffer[i + 1] == 'a' || buffer[i + 1] == 'A' || buffer[i + 1] == 'o' || buffer[i + 1] == 'O')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = AA;\n\n        } else if (buffer[i] == 'a' && (buffer[i + 1] == 'e' || buffer[i + 1] == 'E')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = ae;\n\n        } else if (buffer[i] == 'A' && (buffer[i + 1] == 'e' || buffer[i + 1] == 'E')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = AE;\n\n        } else if (buffer[i] == 'o' && (buffer[i + 1] == 'e' || buffer[i + 1] == 'E' || buffer[i + 1] == 'o' || buffer[i + 1] == 'O')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = oe;\n\n        } else if (buffer[i] == 'O' && (buffer[i + 1] == 'e' || buffer[i + 1] == 'E' || buffer[i + 1] == 'o' || buffer[i + 1] == 'O')) {\n          length = StemmerUtil.delete(buffer, i + 1, length);\n          buffer[i] = OE;\n\n        }\n\n      }\n    }\n\n    charTermAttribute.setLength(length);\n\n\n    return true;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"31dd7f042fa51eb7ba17997fccec32f16f99d31c":["5d316e4c5ce74390d1f508011bb46c6a17a3f0b7"],"5d316e4c5ce74390d1f508011bb46c6a17a3f0b7":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["31dd7f042fa51eb7ba17997fccec32f16f99d31c"]},"commit2Childs":{"31dd7f042fa51eb7ba17997fccec32f16f99d31c":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"5d316e4c5ce74390d1f508011bb46c6a17a3f0b7":["31dd7f042fa51eb7ba17997fccec32f16f99d31c"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["5d316e4c5ce74390d1f508011bb46c6a17a3f0b7"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}