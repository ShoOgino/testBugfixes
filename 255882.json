{"path":"solr/core/src/test/org/apache/solr/cloud/BasicDistributedZkTest#testSortableTextFaceting().mjava","commits":[{"id":"bd66051e8d8d59ae300cec8b60f56810394a7511","date":1559669226,"type":0,"author":"erick","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/cloud/BasicDistributedZkTest#testSortableTextFaceting().mjava","pathOld":"/dev/null","sourceNew":"  private void testSortableTextFaceting() throws Exception {\n    SolrQuery query = new SolrQuery(\"*:*\");\n    query.addFacetField(tsort);\n    query.setFacetMissing(false);\n    QueryResponse resp = queryServer(query);\n    List<FacetField> ffs = resp.getFacetFields();\n    for (FacetField ff : ffs) {\n      if (ff.getName().equals(tsort) == false) continue;\n      for (FacetField.Count count : ff.getValues()) {\n        long num = count.getCount();\n        switch (count.getName()) {\n          case \"all the kings horses and all the kings men\":\n          case \"An eye for eye only ends up making the whole world blind.\":\n          case \"Great works are performed, not by strength, but by perseverance.\":\n          case \"how now brown cow\":\n          case \"no eggs on wall, lesson learned\":\n          case \"now is the time for all good men\":\n          case \"this too shall pass\":\n          case \"to come to the aid of their country.\":\n            assertEquals(\"Should have exactly one facet count for field \" + ff.getName(), 1, num);\n            break;\n          case \"the quick fox jumped over the lazy dog\":\n            assertEquals(\"Should have 5 docs for the lazy dog\", 5, num);\n            break;\n          default:\n            fail(\"No case for facet '\" + ff.getName() + \"'\");\n\n        }\n      }\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"bd66051e8d8d59ae300cec8b60f56810394a7511":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["bd66051e8d8d59ae300cec8b60f56810394a7511"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["bd66051e8d8d59ae300cec8b60f56810394a7511"],"bd66051e8d8d59ae300cec8b60f56810394a7511":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}