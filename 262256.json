{"path":"lucene/core/src/java/org/apache/lucene/util/SloppyMath#haversinMeters(double,double,double,double).mjava","commits":[{"id":"ec60431d008a694828dacb4bc3cda775b6c44a9f","date":1458570843,"type":2,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/util/SloppyMath#haversinMeters(double,double,double,double).mjava","pathOld":"lucene/core/src/java/org/apache/lucene/util/SloppyMath#haversin(double,double,double,double).mjava","sourceNew":"  /**\n   * Returns the Haversine distance in meters between two points\n   * specified in decimal degrees (latitude/longitude).  This works correctly\n   * even if the dateline is between the two points.\n   * <p>\n   * Error is around 1E-5 (0.01mm) from the actual haversine distance.\n   *\n   * @param lat1 Latitude of the first point.\n   * @param lon1 Longitude of the first point.\n   * @param lat2 Latitude of the second point.\n   * @param lon2 Longitude of the second point.\n   * @return distance in meters.\n   */\n  public static double haversinMeters(double lat1, double lon1, double lat2, double lon2) {\n    return haversinMeters(haversinSortKey(lat1, lon1, lat2, lon2));\n  }\n\n","sourceOld":"  /**\n   * Returns the Haversine distance in kilometers between two points\n   * specified in decimal degrees (latitude/longitude).  This works correctly\n   * even if the dateline is between the two points.\n   *\n   * @param lat1 Latitude of the first point.\n   * @param lon1 Longitude of the first point.\n   * @param lat2 Latitude of the second point.\n   * @param lon2 Longitude of the second point.\n   * @return distance in kilometers.\n   */\n  public static double haversin(double lat1, double lon1, double lat2, double lon2) {\n    double x1 = lat1 * TO_RADIANS;\n    double x2 = lat2 * TO_RADIANS;\n    double h1 = 1 - cos(x1 - x2);\n    double h2 = 1 - cos((lon1 - lon2) * TO_RADIANS);\n    double h = (h1 + cos(x1) * cos(x2) * h2) / 2;\n\n    double avgLat = (x1 + x2) / 2d;\n    double diameter = earthDiameter(avgLat);\n\n    return diameter * asin(Math.min(1, Math.sqrt(h)));\n    \n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"daf6e9d7d2b09412f97abae089a44cc03f5d5a14","date":1460042872,"type":3,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/util/SloppyMath#haversinMeters(double,double,double,double).mjava","pathOld":"lucene/core/src/java/org/apache/lucene/util/SloppyMath#haversinMeters(double,double,double,double).mjava","sourceNew":"  /**\n   * Returns the Haversine distance in meters between two points\n   * specified in decimal degrees (latitude/longitude).  This works correctly\n   * even if the dateline is between the two points.\n   * <p>\n   * Error is at most 2E-1 (20cm) from the actual haversine distance, but is typically\n   * much smaller for reasonable distances: around 1E-5 (0.01mm) for distances less than\n   * 1000km.\n   *\n   * @param lat1 Latitude of the first point.\n   * @param lon1 Longitude of the first point.\n   * @param lat2 Latitude of the second point.\n   * @param lon2 Longitude of the second point.\n   * @return distance in meters.\n   */\n  public static double haversinMeters(double lat1, double lon1, double lat2, double lon2) {\n    return haversinMeters(haversinSortKey(lat1, lon1, lat2, lon2));\n  }\n\n","sourceOld":"  /**\n   * Returns the Haversine distance in meters between two points\n   * specified in decimal degrees (latitude/longitude).  This works correctly\n   * even if the dateline is between the two points.\n   * <p>\n   * Error is around 1E-5 (0.01mm) from the actual haversine distance.\n   *\n   * @param lat1 Latitude of the first point.\n   * @param lon1 Longitude of the first point.\n   * @param lat2 Latitude of the second point.\n   * @param lon2 Longitude of the second point.\n   * @return distance in meters.\n   */\n  public static double haversinMeters(double lat1, double lon1, double lat2, double lon2) {\n    return haversinMeters(haversinSortKey(lat1, lon1, lat2, lon2));\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"09f15823cf5eb6e807005579e875e117d8598f95","date":1460066385,"type":3,"author":"Karl Wright","isMerge":true,"pathNew":"lucene/core/src/java/org/apache/lucene/util/SloppyMath#haversinMeters(double,double,double,double).mjava","pathOld":"lucene/core/src/java/org/apache/lucene/util/SloppyMath#haversinMeters(double,double,double,double).mjava","sourceNew":"  /**\n   * Returns the Haversine distance in meters between two points\n   * specified in decimal degrees (latitude/longitude).  This works correctly\n   * even if the dateline is between the two points.\n   * <p>\n   * Error is at most 2E-1 (20cm) from the actual haversine distance, but is typically\n   * much smaller for reasonable distances: around 1E-5 (0.01mm) for distances less than\n   * 1000km.\n   *\n   * @param lat1 Latitude of the first point.\n   * @param lon1 Longitude of the first point.\n   * @param lat2 Latitude of the second point.\n   * @param lon2 Longitude of the second point.\n   * @return distance in meters.\n   */\n  public static double haversinMeters(double lat1, double lon1, double lat2, double lon2) {\n    return haversinMeters(haversinSortKey(lat1, lon1, lat2, lon2));\n  }\n\n","sourceOld":"  /**\n   * Returns the Haversine distance in meters between two points\n   * specified in decimal degrees (latitude/longitude).  This works correctly\n   * even if the dateline is between the two points.\n   * <p>\n   * Error is around 1E-5 (0.01mm) from the actual haversine distance.\n   *\n   * @param lat1 Latitude of the first point.\n   * @param lon1 Longitude of the first point.\n   * @param lat2 Latitude of the second point.\n   * @param lon2 Longitude of the second point.\n   * @return distance in meters.\n   */\n  public static double haversinMeters(double lat1, double lon1, double lat2, double lon2) {\n    return haversinMeters(haversinSortKey(lat1, lon1, lat2, lon2));\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"209460cd1f56f4e67116ad368a9e1f98d627db95","date":1461023242,"type":3,"author":"Robert Muir","isMerge":false,"pathNew":"lucene/core/src/java/org/apache/lucene/util/SloppyMath#haversinMeters(double,double,double,double).mjava","pathOld":"lucene/core/src/java/org/apache/lucene/util/SloppyMath#haversinMeters(double,double,double,double).mjava","sourceNew":"  /**\n   * Returns the Haversine distance in meters between two points\n   * specified in decimal degrees (latitude/longitude).  This works correctly\n   * even if the dateline is between the two points.\n   * <p>\n   * Error is at most 4E-1 (40cm) from the actual haversine distance, but is typically\n   * much smaller for reasonable distances: around 1E-5 (0.01mm) for distances less than\n   * 1000km.\n   *\n   * @param lat1 Latitude of the first point.\n   * @param lon1 Longitude of the first point.\n   * @param lat2 Latitude of the second point.\n   * @param lon2 Longitude of the second point.\n   * @return distance in meters.\n   */\n  public static double haversinMeters(double lat1, double lon1, double lat2, double lon2) {\n    return haversinMeters(haversinSortKey(lat1, lon1, lat2, lon2));\n  }\n\n","sourceOld":"  /**\n   * Returns the Haversine distance in meters between two points\n   * specified in decimal degrees (latitude/longitude).  This works correctly\n   * even if the dateline is between the two points.\n   * <p>\n   * Error is at most 2E-1 (20cm) from the actual haversine distance, but is typically\n   * much smaller for reasonable distances: around 1E-5 (0.01mm) for distances less than\n   * 1000km.\n   *\n   * @param lat1 Latitude of the first point.\n   * @param lon1 Longitude of the first point.\n   * @param lat2 Latitude of the second point.\n   * @param lon2 Longitude of the second point.\n   * @return distance in meters.\n   */\n  public static double haversinMeters(double lat1, double lon1, double lat2, double lon2) {\n    return haversinMeters(haversinSortKey(lat1, lon1, lat2, lon2));\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"0e15955b4980562a0c1c81d08654904f3fadb83b","date":1461068916,"type":3,"author":"Karl Wright","isMerge":true,"pathNew":"lucene/core/src/java/org/apache/lucene/util/SloppyMath#haversinMeters(double,double,double,double).mjava","pathOld":"lucene/core/src/java/org/apache/lucene/util/SloppyMath#haversinMeters(double,double,double,double).mjava","sourceNew":"  /**\n   * Returns the Haversine distance in meters between two points\n   * specified in decimal degrees (latitude/longitude).  This works correctly\n   * even if the dateline is between the two points.\n   * <p>\n   * Error is at most 4E-1 (40cm) from the actual haversine distance, but is typically\n   * much smaller for reasonable distances: around 1E-5 (0.01mm) for distances less than\n   * 1000km.\n   *\n   * @param lat1 Latitude of the first point.\n   * @param lon1 Longitude of the first point.\n   * @param lat2 Latitude of the second point.\n   * @param lon2 Longitude of the second point.\n   * @return distance in meters.\n   */\n  public static double haversinMeters(double lat1, double lon1, double lat2, double lon2) {\n    return haversinMeters(haversinSortKey(lat1, lon1, lat2, lon2));\n  }\n\n","sourceOld":"  /**\n   * Returns the Haversine distance in meters between two points\n   * specified in decimal degrees (latitude/longitude).  This works correctly\n   * even if the dateline is between the two points.\n   * <p>\n   * Error is at most 2E-1 (20cm) from the actual haversine distance, but is typically\n   * much smaller for reasonable distances: around 1E-5 (0.01mm) for distances less than\n   * 1000km.\n   *\n   * @param lat1 Latitude of the first point.\n   * @param lon1 Longitude of the first point.\n   * @param lat2 Latitude of the second point.\n   * @param lon2 Longitude of the second point.\n   * @return distance in meters.\n   */\n  public static double haversinMeters(double lat1, double lon1, double lat2, double lon2) {\n    return haversinMeters(haversinSortKey(lat1, lon1, lat2, lon2));\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"ec60431d008a694828dacb4bc3cda775b6c44a9f":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"0e15955b4980562a0c1c81d08654904f3fadb83b":["09f15823cf5eb6e807005579e875e117d8598f95","209460cd1f56f4e67116ad368a9e1f98d627db95"],"daf6e9d7d2b09412f97abae089a44cc03f5d5a14":["ec60431d008a694828dacb4bc3cda775b6c44a9f"],"209460cd1f56f4e67116ad368a9e1f98d627db95":["09f15823cf5eb6e807005579e875e117d8598f95"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["0e15955b4980562a0c1c81d08654904f3fadb83b"],"09f15823cf5eb6e807005579e875e117d8598f95":["ec60431d008a694828dacb4bc3cda775b6c44a9f","daf6e9d7d2b09412f97abae089a44cc03f5d5a14"]},"commit2Childs":{"ec60431d008a694828dacb4bc3cda775b6c44a9f":["daf6e9d7d2b09412f97abae089a44cc03f5d5a14","09f15823cf5eb6e807005579e875e117d8598f95"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["ec60431d008a694828dacb4bc3cda775b6c44a9f"],"0e15955b4980562a0c1c81d08654904f3fadb83b":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"209460cd1f56f4e67116ad368a9e1f98d627db95":["0e15955b4980562a0c1c81d08654904f3fadb83b"],"daf6e9d7d2b09412f97abae089a44cc03f5d5a14":["09f15823cf5eb6e807005579e875e117d8598f95"],"09f15823cf5eb6e807005579e875e117d8598f95":["0e15955b4980562a0c1c81d08654904f3fadb83b","209460cd1f56f4e67116ad368a9e1f98d627db95"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}