{"path":"solr/core/src/test/org/apache/solr/core/TestCoreContainer#testCoresSameDataDir().mjava","commits":[{"id":"a0cf46558b3f7708ed3a21e174b9e11cd30e26be","date":1365551184,"type":0,"author":"Erick Erickson","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/core/TestCoreContainer#testCoresSameDataDir().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testCoresSameDataDir() throws IOException, ParserConfigurationException, SAXException {\n    //create solrHome\n    File solrHomeDirectory = new File(TEMP_DIR, this.getClass().getName()\n        + \"_sameDataDir\");\n    SetUpHome(solrHomeDirectory, SOLR_XML_SAME_DATADIR);\n    copyMinConf(new File(solrHomeDirectory, \"core1\"));\n    copyMinConf(new File(solrHomeDirectory, \"core2\"));\n    CoreContainer.Initializer init = new CoreContainer.Initializer();\n    CoreContainer cores = null;\n    SolrCore core1 = null;\n    SolrCore core2 = null;\n    try {\n      cores = init.initialize();\n      core1 = cores.getCore(\"core1\");\n      core2 = cores.getCore(\"core2\");\n    }\n    catch(SolrException se) {\n      assertEquals(\"Exception code should be 500\", 500, se.code());\n      assertTrue(\"Should have seen an exception when two cores have the same data dir\",\n          se.getMessage().contains(\"More than one core points to data dir\"));\n    } finally {\n      if (cores != null) {\n        if (core1 != null) core1.close();\n        if (core2 != null) core2.close();\n        cores.shutdown();\n      }\n      FileUtils.deleteDirectory(solrHomeDirectory);\n    }\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"3278df77f7f499b55fdb79861c0641450444e7d0","date":1366238988,"type":4,"author":"Mark Robert Miller","isMerge":false,"pathNew":"/dev/null","pathOld":"solr/core/src/test/org/apache/solr/core/TestCoreContainer#testCoresSameDataDir().mjava","sourceNew":null,"sourceOld":"  @Test\n  public void testCoresSameDataDir() throws IOException, ParserConfigurationException, SAXException {\n    //create solrHome\n    File solrHomeDirectory = new File(TEMP_DIR, this.getClass().getName()\n        + \"_sameDataDir\");\n    SetUpHome(solrHomeDirectory, SOLR_XML_SAME_DATADIR);\n    copyMinConf(new File(solrHomeDirectory, \"core1\"));\n    copyMinConf(new File(solrHomeDirectory, \"core2\"));\n    CoreContainer.Initializer init = new CoreContainer.Initializer();\n    CoreContainer cores = null;\n    SolrCore core1 = null;\n    SolrCore core2 = null;\n    try {\n      cores = init.initialize();\n      core1 = cores.getCore(\"core1\");\n      core2 = cores.getCore(\"core2\");\n    }\n    catch(SolrException se) {\n      assertEquals(\"Exception code should be 500\", 500, se.code());\n      assertTrue(\"Should have seen an exception when two cores have the same data dir\",\n          se.getMessage().contains(\"More than one core points to data dir\"));\n    } finally {\n      if (cores != null) {\n        if (core1 != null) core1.close();\n        if (core2 != null) core2.close();\n        cores.shutdown();\n      }\n      FileUtils.deleteDirectory(solrHomeDirectory);\n    }\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0cf46558b3f7708ed3a21e174b9e11cd30e26be":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"3278df77f7f499b55fdb79861c0641450444e7d0":["a0cf46558b3f7708ed3a21e174b9e11cd30e26be"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["3278df77f7f499b55fdb79861c0641450444e7d0"]},"commit2Childs":{"a0cf46558b3f7708ed3a21e174b9e11cd30e26be":["3278df77f7f499b55fdb79861c0641450444e7d0"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["a0cf46558b3f7708ed3a21e174b9e11cd30e26be"],"3278df77f7f499b55fdb79861c0641450444e7d0":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}