{"path":"contrib/spatial/src/java/org/apache/lucene/spatial/geometry/shape/Ellipse#intersect(Rectangle).mjava","commits":[{"id":"04a4a94db1eb59c8583adb166acfe686a031bedc","date":1230622637,"type":0,"author":"Ryan McKinley","isMerge":false,"pathNew":"contrib/spatial/src/java/org/apache/lucene/spatial/geometry/shape/Ellipse#intersect(Rectangle).mjava","pathOld":"/dev/null","sourceNew":"  public IntersectCase intersect(Rectangle r) {\n    // Test if all 4 corners of the rectangle are inside the ellipse\n    Point2D ul = new Point2D(r.MinPt().x(), r.MaxPt().y());\n    Point2D ur = new Point2D(r.MaxPt().x(), r.MaxPt().y());\n    Point2D ll = new Point2D(r.MinPt().x(), r.MinPt().y());\n    Point2D lr = new Point2D(r.MaxPt().x(), r.MinPt().y());\n    if (contains(ul) && contains(ur) && contains(ll) && contains(lr))\n      return IntersectCase.CONTAINS;\n\n    // Test if any of the rectangle edges intersect\n    Point2D pt0 = new Point2D(), pt1 = new Point2D();\n    LineSegment bottom = new LineSegment(ll, lr);\n    if (intersect(bottom, pt0, pt1) > 0)\n      return IntersectCase.INTERSECTS;\n\n    LineSegment top = new LineSegment(ul, ur);\n    if (intersect(top, pt0, pt1) > 0)\n      return IntersectCase.INTERSECTS;\n\n    LineSegment left = new LineSegment(ll, ul);\n    if (intersect(left, pt0, pt1) > 0)\n      return IntersectCase.INTERSECTS;\n\n    LineSegment right = new LineSegment(lr, ur);\n    if (intersect(right, pt0, pt1) > 0)\n      return IntersectCase.INTERSECTS;\n\n    // Ellipse does not intersect any edge : since the case for the ellipse\n    // containing the rectangle was considered above then if the center\n    // is inside the ellipse is fully inside and if center is outside\n    // the ellipse is fully outside\n    return (r.contains(center)) ? IntersectCase.WITHIN\n        : IntersectCase.OUTSIDE;\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"9454a6510e2db155fb01faa5c049b06ece95fab9","date":1453508333,"type":5,"author":"Dawid Weiss","isMerge":false,"pathNew":"lucene/contrib/spatial/src/java/org/apache/lucene/spatial/geometry/shape/Ellipse#intersect(Rectangle).mjava","pathOld":"contrib/spatial/src/java/org/apache/lucene/spatial/geometry/shape/Ellipse#intersect(Rectangle).mjava","sourceNew":"  public IntersectCase intersect(Rectangle r) {\n    // Test if all 4 corners of the rectangle are inside the ellipse\n    Point2D ul = new Point2D(r.MinPt().x(), r.MaxPt().y());\n    Point2D ur = new Point2D(r.MaxPt().x(), r.MaxPt().y());\n    Point2D ll = new Point2D(r.MinPt().x(), r.MinPt().y());\n    Point2D lr = new Point2D(r.MaxPt().x(), r.MinPt().y());\n    if (contains(ul) && contains(ur) && contains(ll) && contains(lr))\n      return IntersectCase.CONTAINS;\n\n    // Test if any of the rectangle edges intersect\n    Point2D pt0 = new Point2D(), pt1 = new Point2D();\n    LineSegment bottom = new LineSegment(ll, lr);\n    if (intersect(bottom, pt0, pt1) > 0)\n      return IntersectCase.INTERSECTS;\n\n    LineSegment top = new LineSegment(ul, ur);\n    if (intersect(top, pt0, pt1) > 0)\n      return IntersectCase.INTERSECTS;\n\n    LineSegment left = new LineSegment(ll, ul);\n    if (intersect(left, pt0, pt1) > 0)\n      return IntersectCase.INTERSECTS;\n\n    LineSegment right = new LineSegment(lr, ur);\n    if (intersect(right, pt0, pt1) > 0)\n      return IntersectCase.INTERSECTS;\n\n    // Ellipse does not intersect any edge : since the case for the ellipse\n    // containing the rectangle was considered above then if the center\n    // is inside the ellipse is fully inside and if center is outside\n    // the ellipse is fully outside\n    return (r.contains(center)) ? IntersectCase.WITHIN\n        : IntersectCase.OUTSIDE;\n  }\n\n","sourceOld":"  public IntersectCase intersect(Rectangle r) {\n    // Test if all 4 corners of the rectangle are inside the ellipse\n    Point2D ul = new Point2D(r.MinPt().x(), r.MaxPt().y());\n    Point2D ur = new Point2D(r.MaxPt().x(), r.MaxPt().y());\n    Point2D ll = new Point2D(r.MinPt().x(), r.MinPt().y());\n    Point2D lr = new Point2D(r.MaxPt().x(), r.MinPt().y());\n    if (contains(ul) && contains(ur) && contains(ll) && contains(lr))\n      return IntersectCase.CONTAINS;\n\n    // Test if any of the rectangle edges intersect\n    Point2D pt0 = new Point2D(), pt1 = new Point2D();\n    LineSegment bottom = new LineSegment(ll, lr);\n    if (intersect(bottom, pt0, pt1) > 0)\n      return IntersectCase.INTERSECTS;\n\n    LineSegment top = new LineSegment(ul, ur);\n    if (intersect(top, pt0, pt1) > 0)\n      return IntersectCase.INTERSECTS;\n\n    LineSegment left = new LineSegment(ll, ul);\n    if (intersect(left, pt0, pt1) > 0)\n      return IntersectCase.INTERSECTS;\n\n    LineSegment right = new LineSegment(lr, ur);\n    if (intersect(right, pt0, pt1) > 0)\n      return IntersectCase.INTERSECTS;\n\n    // Ellipse does not intersect any edge : since the case for the ellipse\n    // containing the rectangle was considered above then if the center\n    // is inside the ellipse is fully inside and if center is outside\n    // the ellipse is fully outside\n    return (r.contains(center)) ? IntersectCase.WITHIN\n        : IntersectCase.OUTSIDE;\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"04a4a94db1eb59c8583adb166acfe686a031bedc":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["9454a6510e2db155fb01faa5c049b06ece95fab9"],"9454a6510e2db155fb01faa5c049b06ece95fab9":["04a4a94db1eb59c8583adb166acfe686a031bedc"]},"commit2Childs":{"04a4a94db1eb59c8583adb166acfe686a031bedc":["9454a6510e2db155fb01faa5c049b06ece95fab9"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["04a4a94db1eb59c8583adb166acfe686a031bedc"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[],"9454a6510e2db155fb01faa5c049b06ece95fab9":["cd5edd1f2b162a5cfa08efd17851a07373a96817"]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}