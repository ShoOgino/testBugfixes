{"path":"solr/test-framework/src/java/org/apache/solr/SolrJettyTestBase#createAndStartJetty(String,String,String,String,boolean,SortedMap[ServletHolder,String]).mjava","commits":[{"id":"bb222a3f9d9421d5c95afce73013fbd8de07ea1f","date":1543514331,"type":1,"author":"markrmiller","isMerge":false,"pathNew":"solr/test-framework/src/java/org/apache/solr/SolrJettyTestBase#createAndStartJetty(String,String,String,String,boolean,SortedMap[ServletHolder,String]).mjava","pathOld":"solr/test-framework/src/java/org/apache/solr/SolrJettyTestBase#createJetty(String,String,String,String,boolean,SortedMap[ServletHolder,String]).mjava","sourceNew":"  public static JettySolrRunner createAndStartJetty(String solrHome, String configFile, String schemaFile, String context,\n                                            boolean stopAtShutdown, SortedMap<ServletHolder,String> extraServlets) \n      throws Exception { \n    // creates the data dir\n\n    context = context==null ? \"/solr\" : context;\n    SolrJettyTestBase.context = context;\n\n    JettyConfig jettyConfig = JettyConfig.builder()\n        .setContext(context)\n        .stopAtShutdown(stopAtShutdown)\n        .withServlets(extraServlets)\n        .withSSLConfig(sslConfig)\n        .build();\n\n    Properties nodeProps = new Properties();\n    if (configFile != null)\n      nodeProps.setProperty(\"solrconfig\", configFile);\n    if (schemaFile != null)\n      nodeProps.setProperty(\"schema\", schemaFile);\n    if (System.getProperty(\"solr.data.dir\") == null && System.getProperty(\"solr.hdfs.home\") == null) {\n      nodeProps.setProperty(\"solr.data.dir\", createTempDir().toFile().getCanonicalPath());\n    }\n\n    return createAndStartJetty(solrHome, nodeProps, jettyConfig);\n  }\n\n","sourceOld":"  public static JettySolrRunner createJetty(String solrHome, String configFile, String schemaFile, String context,\n                                            boolean stopAtShutdown, SortedMap<ServletHolder,String> extraServlets) \n      throws Exception { \n    // creates the data dir\n\n    context = context==null ? \"/solr\" : context;\n    SolrJettyTestBase.context = context;\n\n    JettyConfig jettyConfig = JettyConfig.builder()\n        .setContext(context)\n        .stopAtShutdown(stopAtShutdown)\n        .withServlets(extraServlets)\n        .withSSLConfig(sslConfig)\n        .build();\n\n    Properties nodeProps = new Properties();\n    if (configFile != null)\n      nodeProps.setProperty(\"solrconfig\", configFile);\n    if (schemaFile != null)\n      nodeProps.setProperty(\"schema\", schemaFile);\n    if (System.getProperty(\"solr.data.dir\") == null && System.getProperty(\"solr.hdfs.home\") == null) {\n      nodeProps.setProperty(\"solr.data.dir\", createTempDir().toFile().getCanonicalPath());\n    }\n\n    return createJetty(solrHome, nodeProps, jettyConfig);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"1a77e5e21cbd575a8240b0e3926164f15295f4e8","date":1544979500,"type":3,"author":"Cao Manh Dat","isMerge":false,"pathNew":"solr/test-framework/src/java/org/apache/solr/SolrJettyTestBase#createAndStartJetty(String,String,String,String,boolean,SortedMap[ServletHolder,String]).mjava","pathOld":"solr/test-framework/src/java/org/apache/solr/SolrJettyTestBase#createAndStartJetty(String,String,String,String,boolean,SortedMap[ServletHolder,String]).mjava","sourceNew":"  public static JettySolrRunner createAndStartJetty(String solrHome, String configFile, String schemaFile, String context,\n                                            boolean stopAtShutdown, SortedMap<ServletHolder,String> extraServlets) \n      throws Exception { \n    // creates the data dir\n\n    context = context==null ? \"/solr\" : context;\n    SolrJettyTestBase.context = context;\n\n    JettyConfig jettyConfig = JettyConfig.builder()\n        .setContext(context)\n        .stopAtShutdown(stopAtShutdown)\n        .withServlets(extraServlets)\n        .withSSLConfig(sslConfig.buildServerSSLConfig())\n        .build();\n\n    Properties nodeProps = new Properties();\n    if (configFile != null)\n      nodeProps.setProperty(\"solrconfig\", configFile);\n    if (schemaFile != null)\n      nodeProps.setProperty(\"schema\", schemaFile);\n    if (System.getProperty(\"solr.data.dir\") == null && System.getProperty(\"solr.hdfs.home\") == null) {\n      nodeProps.setProperty(\"solr.data.dir\", createTempDir().toFile().getCanonicalPath());\n    }\n\n    return createAndStartJetty(solrHome, nodeProps, jettyConfig);\n  }\n\n","sourceOld":"  public static JettySolrRunner createAndStartJetty(String solrHome, String configFile, String schemaFile, String context,\n                                            boolean stopAtShutdown, SortedMap<ServletHolder,String> extraServlets) \n      throws Exception { \n    // creates the data dir\n\n    context = context==null ? \"/solr\" : context;\n    SolrJettyTestBase.context = context;\n\n    JettyConfig jettyConfig = JettyConfig.builder()\n        .setContext(context)\n        .stopAtShutdown(stopAtShutdown)\n        .withServlets(extraServlets)\n        .withSSLConfig(sslConfig)\n        .build();\n\n    Properties nodeProps = new Properties();\n    if (configFile != null)\n      nodeProps.setProperty(\"solrconfig\", configFile);\n    if (schemaFile != null)\n      nodeProps.setProperty(\"schema\", schemaFile);\n    if (System.getProperty(\"solr.data.dir\") == null && System.getProperty(\"solr.hdfs.home\") == null) {\n      nodeProps.setProperty(\"solr.data.dir\", createTempDir().toFile().getCanonicalPath());\n    }\n\n    return createAndStartJetty(solrHome, nodeProps, jettyConfig);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"3c033cd5a1320f54b12d30182a3c231d8d38da4e","date":1567086766,"type":3,"author":"Jason Gerlowski","isMerge":false,"pathNew":"solr/test-framework/src/java/org/apache/solr/SolrJettyTestBase#createAndStartJetty(String,String,String,String,boolean,SortedMap[ServletHolder,String]).mjava","pathOld":"solr/test-framework/src/java/org/apache/solr/SolrJettyTestBase#createAndStartJetty(String,String,String,String,boolean,SortedMap[ServletHolder,String]).mjava","sourceNew":"  public static JettySolrRunner createAndStartJetty(String solrHome, String configFile, String schemaFile, String context,\n                                            boolean stopAtShutdown, SortedMap<ServletHolder,String> extraServlets)\n      throws Exception {\n    // creates the data dir\n\n    context = context==null ? \"/solr\" : context;\n    SolrJettyTestBase.context = context;\n\n    JettyConfig jettyConfig = JettyConfig.builder()\n        .setContext(context)\n        .stopAtShutdown(stopAtShutdown)\n        .withServlets(extraServlets)\n        .withSSLConfig(sslConfig.buildServerSSLConfig())\n        .build();\n\n    Properties nodeProps = new Properties();\n    if (configFile != null)\n      nodeProps.setProperty(\"solrconfig\", configFile);\n    if (schemaFile != null)\n      nodeProps.setProperty(\"schema\", schemaFile);\n    if (System.getProperty(\"solr.data.dir\") == null && System.getProperty(\"solr.hdfs.home\") == null) {\n      nodeProps.setProperty(\"solr.data.dir\", createTempDir().toFile().getCanonicalPath());\n    }\n\n    return createAndStartJetty(solrHome, nodeProps, jettyConfig);\n  }\n\n","sourceOld":"  public static JettySolrRunner createAndStartJetty(String solrHome, String configFile, String schemaFile, String context,\n                                            boolean stopAtShutdown, SortedMap<ServletHolder,String> extraServlets) \n      throws Exception { \n    // creates the data dir\n\n    context = context==null ? \"/solr\" : context;\n    SolrJettyTestBase.context = context;\n\n    JettyConfig jettyConfig = JettyConfig.builder()\n        .setContext(context)\n        .stopAtShutdown(stopAtShutdown)\n        .withServlets(extraServlets)\n        .withSSLConfig(sslConfig.buildServerSSLConfig())\n        .build();\n\n    Properties nodeProps = new Properties();\n    if (configFile != null)\n      nodeProps.setProperty(\"solrconfig\", configFile);\n    if (schemaFile != null)\n      nodeProps.setProperty(\"schema\", schemaFile);\n    if (System.getProperty(\"solr.data.dir\") == null && System.getProperty(\"solr.hdfs.home\") == null) {\n      nodeProps.setProperty(\"solr.data.dir\", createTempDir().toFile().getCanonicalPath());\n    }\n\n    return createAndStartJetty(solrHome, nodeProps, jettyConfig);\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"1a77e5e21cbd575a8240b0e3926164f15295f4e8":["bb222a3f9d9421d5c95afce73013fbd8de07ea1f"],"bb222a3f9d9421d5c95afce73013fbd8de07ea1f":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["3c033cd5a1320f54b12d30182a3c231d8d38da4e"],"3c033cd5a1320f54b12d30182a3c231d8d38da4e":["1a77e5e21cbd575a8240b0e3926164f15295f4e8"]},"commit2Childs":{"1a77e5e21cbd575a8240b0e3926164f15295f4e8":["3c033cd5a1320f54b12d30182a3c231d8d38da4e"],"bb222a3f9d9421d5c95afce73013fbd8de07ea1f":["1a77e5e21cbd575a8240b0e3926164f15295f4e8"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["bb222a3f9d9421d5c95afce73013fbd8de07ea1f"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[],"3c033cd5a1320f54b12d30182a3c231d8d38da4e":["cd5edd1f2b162a5cfa08efd17851a07373a96817"]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}