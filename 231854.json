{"path":"solr/core/src/test/org/apache/solr/util/SolrLogPostToolTest#testRecordsFirstInstanceOfSingleValuedParams().mjava","commits":[{"id":"88c63c47c168cb7f36e9b541fe0a3d3464c021b9","date":1590156506,"type":0,"author":"Jason Gerlowski","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/util/SolrLogPostToolTest#testRecordsFirstInstanceOfSingleValuedParams().mjava","pathOld":"/dev/null","sourceNew":"  // Requests which have multiple copies of the same param should be parsed so that the first param value only is\n  // indexed, since the log schema expects many of these to be single-valued fields and will throw errors if multiple\n  // values are received.\n  @Test\n  public void testRecordsFirstInstanceOfSingleValuedParams() throws Exception {\n    final String record = \"2019-12-09 15:05:01.931 INFO  (qtp2103763750-21) [c:logs4 s:shard1 r:core_node2 x:logs4_shard1_replica_n1] o.a.s.c.S.Request [logs4_shard1_replica_n1]  webapp=/solr path=/select params={q=*:*&q=inStock:true&_=1575835181759&shards.purpose=36&isShard=true&wt=javabin&wt=xml&distrib=false} hits=234868 status=0 QTime=8\\n\";\n\n    List<SolrInputDocument> docs = readDocs(record);\n    assertEquals(docs.size(), 1);\n    SolrInputDocument doc = docs.get(0);\n\n    assertEquals(doc.getFieldValues(\"q_s\").size(), 1);\n    assertEquals(doc.getFieldValue(\"q_s\"), \"*:*\");\n\n    assertEquals(doc.getFieldValues(\"wt_s\").size(), 1);\n    assertEquals(doc.getFieldValue(\"wt_s\"), \"javabin\");\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["88c63c47c168cb7f36e9b541fe0a3d3464c021b9"],"88c63c47c168cb7f36e9b541fe0a3d3464c021b9":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["88c63c47c168cb7f36e9b541fe0a3d3464c021b9"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[],"88c63c47c168cb7f36e9b541fe0a3d3464c021b9":["cd5edd1f2b162a5cfa08efd17851a07373a96817"]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}