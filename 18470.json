{"path":"solr/core/src/test/org/apache/solr/update/TestInPlaceUpdatesStandalone#testUpdateWithValueNull().mjava","commits":[{"id":"48924d191f1724fe63df8b6401965b79a2787c71","date":1561368051,"type":0,"author":"Munendra S N","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/update/TestInPlaceUpdatesStandalone#testUpdateWithValueNull().mjava","pathOld":"/dev/null","sourceNew":"  @Test\n  public void testUpdateWithValueNull() throws Exception {\n    long doc = addAndGetVersion(sdoc(\"id\", \"1\", \"title_s\", \"first\", \"inplace_updatable_float\", 42), null);\n    assertU(commit(\"softCommit\", \"false\"));\n\n    assertQ(req(\"q\", \"*:*\", \"fq\", \"inplace_updatable_float:[* TO *]\"), \"//*[@numFound='1']\");\n    // RTG before update\n    assertJQ(req(\"qt\",\"/get\", \"id\",\"1\", \"fl\",\"id,inplace_updatable_float,title_s\"),\n        \"=={'doc':{'id':'1', 'inplace_updatable_float':\" + 42.0 + \",'title_s':\" + \"first\" + \"}}\");\n\n    // set the value to null\n    doc = addAndAssertVersion(doc, \"id\", \"1\", \"inplace_updatable_float\", map(\"set\", null));\n    assertU(commit(\"softCommit\", \"false\"));\n\n    // numProducts should be 0\n    assertQ(req(\"q\", \"*:*\", \"fq\", \"inplace_updatable_float:[* TO *]\"), \"//*[@numFound='0']\");\n    // after update\n    assertJQ(req(\"qt\",\"/get\", \"id\",\"1\", \"fl\",\"id,inplace_updatable_float,title_s\"),\n        \"=={'doc':{'id':'1','title_s':first}}\");\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"48924d191f1724fe63df8b6401965b79a2787c71":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["48924d191f1724fe63df8b6401965b79a2787c71"]},"commit2Childs":{"48924d191f1724fe63df8b6401965b79a2787c71":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["48924d191f1724fe63df8b6401965b79a2787c71"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}