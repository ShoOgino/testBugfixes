{"path":"solr/core/src/test/org/apache/solr/highlight/HighlighterTest#testPreserveMulti().mjava","commits":[{"id":"66902e88b46bfaaa034e1a881715d5cde7c01146","date":1349210754,"type":0,"author":"Yonik Seeley","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/highlight/HighlighterTest#testPreserveMulti().mjava","pathOld":"/dev/null","sourceNew":" @Test\n  public void testPreserveMulti() {\n    HashMap<String,String> args = new HashMap<String,String>();\n    args.put(\"hl\", \"true\");\n    args.put(\"hl.fl\", \"cat\");\n    args.put(\"hl.snippets\", \"2\");\n    args.put(\"f.cat.hl.preserveMulti\", \"true\");\n    TestHarness.LocalRequestFactory sumLRF = h.getRequestFactory(\n        \"standard\", 0, 200, args);\n\n    assertU(adoc(\"cat\", \"electronics\",\n        \"cat\", \"monitor\",\n        \"id\", \"1\"));\n    assertU(commit());\n    assertU(optimize());\n    assertQ(\"Preserve multi\",\n        sumLRF.makeRequest(\"cat:monitor\"),\n        \"//lst[@name='highlighting']/lst[@name='1']\",\n        \"//lst[@name='1']/arr[@name='cat']/str[.=\\'electronics\\']\",\n        \"//lst[@name='1']/arr[@name='cat']/str[.=\\'<em>monitor</em>\\']\"\n    );\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"4cf27653a0ff79ebec6be4f231cadb121fafae33","date":1349816608,"type":3,"author":"Yonik Seeley","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/highlight/HighlighterTest#testPreserveMulti().mjava","pathOld":"solr/core/src/test/org/apache/solr/highlight/HighlighterTest#testPreserveMulti().mjava","sourceNew":"  @Test\n  public void testPreserveMulti() throws Exception {\n    assertU(adoc(\"id\",\"1\", \"cat\", \"electronics\", \"cat\", \"monitor\"));\n    assertU(commit());\n\n    assertJQ(req(\"q\", \"cat:monitor\", \"hl\", \"true\", \"hl.fl\", \"cat\", \"hl.snippets\", \"2\", \"f.cat.hl.preserveMulti\", \"true\"),\n        \"/highlighting/1/cat==['electronics','<em>monitor</em>']\"\n    );\n\n    // No match still lists all snippets?\n    assertJQ(req(\"q\", \"id:1 OR cat:duuuude\", \"hl\", \"true\", \"hl.fl\", \"cat\", \"hl.snippets\", \"2\", \"f.cat.hl.preserveMulti\", \"true\"),\n        \"/highlighting/1/cat==['electronics','monitor']\"\n    );\n  }\n\n","sourceOld":" @Test\n  public void testPreserveMulti() {\n    HashMap<String,String> args = new HashMap<String,String>();\n    args.put(\"hl\", \"true\");\n    args.put(\"hl.fl\", \"cat\");\n    args.put(\"hl.snippets\", \"2\");\n    args.put(\"f.cat.hl.preserveMulti\", \"true\");\n    TestHarness.LocalRequestFactory sumLRF = h.getRequestFactory(\n        \"standard\", 0, 200, args);\n\n    assertU(adoc(\"cat\", \"electronics\",\n        \"cat\", \"monitor\",\n        \"id\", \"1\"));\n    assertU(commit());\n    assertU(optimize());\n    assertQ(\"Preserve multi\",\n        sumLRF.makeRequest(\"cat:monitor\"),\n        \"//lst[@name='highlighting']/lst[@name='1']\",\n        \"//lst[@name='1']/arr[@name='cat']/str[.=\\'electronics\\']\",\n        \"//lst[@name='1']/arr[@name='cat']/str[.=\\'<em>monitor</em>\\']\"\n    );\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"19275ba31e621f6da1b83bf13af75233876fd3d4","date":1374846698,"type":3,"author":"Han Jiang","isMerge":false,"pathNew":"solr/core/src/test/org/apache/solr/highlight/HighlighterTest#testPreserveMulti().mjava","pathOld":"solr/core/src/test/org/apache/solr/highlight/HighlighterTest#testPreserveMulti().mjava","sourceNew":"  @Test\n  public void testPreserveMulti() throws Exception {\n    assertU(adoc(\"id\",\"1\", \"cat\", \"electronics\", \"cat\", \"monitor\"));\n    assertU(commit());\n\n    assertJQ(req(\"q\", \"cat:monitor\", \"hl\", \"true\", \"hl.fl\", \"cat\", \"hl.snippets\", \"2\", \"f.cat.hl.preserveMulti\", \"true\"),\n        \"/highlighting/1/cat==['electronics','<em>monitor</em>']\"\n    );\n\n    // No match still lists all snippets?\n    assertJQ(req(\"q\", \"id:1 OR cat:duuuude\", \"hl\", \"true\", \"hl.fl\", \"cat\", \"hl.snippets\", \"2\", \"f.cat.hl.preserveMulti\", \"true\"),\n        \"/highlighting/1/cat==['electronics','monitor']\"\n    );\n  }\n\n","sourceOld":"  @Test\n  public void testPreserveMulti() throws Exception {\n    assertU(adoc(\"id\",\"1\", \"cat\", \"electronics\", \"cat\", \"monitor\"));\n    assertU(commit());\n\n    assertJQ(req(\"q\", \"cat:monitor\", \"hl\", \"true\", \"hl.fl\", \"cat\", \"hl.snippets\", \"2\", \"f.cat.hl.preserveMulti\", \"true\"),\n        \"/highlighting/1/cat==['electronics','<em>monitor</em>']\"\n    );\n\n    // No match still lists all snippets?\n    assertJQ(req(\"q\", \"id:1 OR cat:duuuude\", \"hl\", \"true\", \"hl.fl\", \"cat\", \"hl.snippets\", \"2\", \"f.cat.hl.preserveMulti\", \"true\"),\n        \"/highlighting/1/cat==['electronics','monitor']\"\n    );\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"716d18f3a9b0993bc679d7fa7abdc9bfb03411ec","date":1376375609,"type":3,"author":"Han Jiang","isMerge":true,"pathNew":"solr/core/src/test/org/apache/solr/highlight/HighlighterTest#testPreserveMulti().mjava","pathOld":"solr/core/src/test/org/apache/solr/highlight/HighlighterTest#testPreserveMulti().mjava","sourceNew":"  @Test\n  public void testPreserveMulti() throws Exception {\n    assertU(adoc(\"id\",\"1\", \"cat\", \"electronics\", \"cat\", \"monitor\"));\n    assertU(commit());\n\n    assertJQ(req(\"q\", \"cat:monitor\", \"hl\", \"true\", \"hl.fl\", \"cat\", \"hl.snippets\", \"2\", \"f.cat.hl.preserveMulti\", \"true\"),\n        \"/highlighting/1/cat==['electronics','<em>monitor</em>']\"\n    );\n\n    // No match still lists all snippets?\n    assertJQ(req(\"q\", \"id:1 OR cat:duuuude\", \"hl\", \"true\", \"hl.fl\", \"cat\", \"hl.snippets\", \"2\", \"f.cat.hl.preserveMulti\", \"true\"),\n        \"/highlighting/1/cat==['electronics','monitor']\"\n    );\n  }\n\n","sourceOld":"  @Test\n  public void testPreserveMulti() throws Exception {\n    assertU(adoc(\"id\",\"1\", \"cat\", \"electronics\", \"cat\", \"monitor\"));\n    assertU(commit());\n\n    assertJQ(req(\"q\", \"cat:monitor\", \"hl\", \"true\", \"hl.fl\", \"cat\", \"hl.snippets\", \"2\", \"f.cat.hl.preserveMulti\", \"true\"),\n        \"/highlighting/1/cat==['electronics','<em>monitor</em>']\"\n    );\n\n    // No match still lists all snippets?\n    assertJQ(req(\"q\", \"id:1 OR cat:duuuude\", \"hl\", \"true\", \"hl.fl\", \"cat\", \"hl.snippets\", \"2\", \"f.cat.hl.preserveMulti\", \"true\"),\n        \"/highlighting/1/cat==['electronics','monitor']\"\n    );\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"716d18f3a9b0993bc679d7fa7abdc9bfb03411ec":["4cf27653a0ff79ebec6be4f231cadb121fafae33","19275ba31e621f6da1b83bf13af75233876fd3d4"],"4cf27653a0ff79ebec6be4f231cadb121fafae33":["66902e88b46bfaaa034e1a881715d5cde7c01146"],"66902e88b46bfaaa034e1a881715d5cde7c01146":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"19275ba31e621f6da1b83bf13af75233876fd3d4":["4cf27653a0ff79ebec6be4f231cadb121fafae33"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["19275ba31e621f6da1b83bf13af75233876fd3d4"]},"commit2Childs":{"716d18f3a9b0993bc679d7fa7abdc9bfb03411ec":[],"4cf27653a0ff79ebec6be4f231cadb121fafae33":["716d18f3a9b0993bc679d7fa7abdc9bfb03411ec","19275ba31e621f6da1b83bf13af75233876fd3d4"],"66902e88b46bfaaa034e1a881715d5cde7c01146":["4cf27653a0ff79ebec6be4f231cadb121fafae33"],"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["66902e88b46bfaaa034e1a881715d5cde7c01146"],"19275ba31e621f6da1b83bf13af75233876fd3d4":["716d18f3a9b0993bc679d7fa7abdc9bfb03411ec","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["716d18f3a9b0993bc679d7fa7abdc9bfb03411ec","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}