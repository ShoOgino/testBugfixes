{"path":"lucene/core/src/test/org/apache/lucene/search/similarities/TestBooleanSimilarity#testTermScoreIsEqualToBoost().mjava","commits":[{"id":"2247f9b905bc1344a659f142ce3ea23f96c9e827","date":1478786509,"type":0,"author":"Adrien Grand","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/search/similarities/TestBooleanSimilarity#testTermScoreIsEqualToBoost().mjava","pathOld":"/dev/null","sourceNew":"  public void testTermScoreIsEqualToBoost() throws IOException {\n    Directory dir = newDirectory();\n    RandomIndexWriter w = new RandomIndexWriter(random(), dir,\n        newIndexWriterConfig());\n    Document doc = new Document();\n    doc.add(new StringField(\"foo\", \"bar\", Store.NO));\n    doc.add(new StringField(\"foo\", \"baz\", Store.NO));\n    w.addDocument(doc);\n    doc = new Document();\n    doc.add(new StringField(\"foo\", \"bar\", Store.NO));\n    doc.add(new StringField(\"foo\", \"bar\", Store.NO));\n    w.addDocument(doc);\n\n    DirectoryReader reader = w.getReader();\n    w.close();\n    IndexSearcher searcher = newSearcher(reader);\n    searcher.setSimilarity(new BooleanSimilarity());\n    TopDocs topDocs = searcher.search(new TermQuery(new Term(\"foo\", \"bar\")), 2);\n    assertEquals(2, topDocs.totalHits);\n    assertEquals(1f, topDocs.scoreDocs[0].score, 0f);\n    assertEquals(1f, topDocs.scoreDocs[1].score, 0f);\n\n    topDocs = searcher.search(new TermQuery(new Term(\"foo\", \"baz\")), 1);\n    assertEquals(1, topDocs.totalHits);\n    assertEquals(1f, topDocs.scoreDocs[0].score, 0f);\n\n    topDocs = searcher.search(new BoostQuery(new TermQuery(new Term(\"foo\", \"baz\")), 3f), 1);\n    assertEquals(1, topDocs.totalHits);\n    assertEquals(3f, topDocs.scoreDocs[0].score, 0f);\n\n    reader.close();\n    dir.close();\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"199dfa410f1fdbfd3294106b04096cce5ed34b21","date":1478812506,"type":0,"author":"Kevin Risden","isMerge":true,"pathNew":"lucene/core/src/test/org/apache/lucene/search/similarities/TestBooleanSimilarity#testTermScoreIsEqualToBoost().mjava","pathOld":"/dev/null","sourceNew":"  public void testTermScoreIsEqualToBoost() throws IOException {\n    Directory dir = newDirectory();\n    RandomIndexWriter w = new RandomIndexWriter(random(), dir,\n        newIndexWriterConfig());\n    Document doc = new Document();\n    doc.add(new StringField(\"foo\", \"bar\", Store.NO));\n    doc.add(new StringField(\"foo\", \"baz\", Store.NO));\n    w.addDocument(doc);\n    doc = new Document();\n    doc.add(new StringField(\"foo\", \"bar\", Store.NO));\n    doc.add(new StringField(\"foo\", \"bar\", Store.NO));\n    w.addDocument(doc);\n\n    DirectoryReader reader = w.getReader();\n    w.close();\n    IndexSearcher searcher = newSearcher(reader);\n    searcher.setSimilarity(new BooleanSimilarity());\n    TopDocs topDocs = searcher.search(new TermQuery(new Term(\"foo\", \"bar\")), 2);\n    assertEquals(2, topDocs.totalHits);\n    assertEquals(1f, topDocs.scoreDocs[0].score, 0f);\n    assertEquals(1f, topDocs.scoreDocs[1].score, 0f);\n\n    topDocs = searcher.search(new TermQuery(new Term(\"foo\", \"baz\")), 1);\n    assertEquals(1, topDocs.totalHits);\n    assertEquals(1f, topDocs.scoreDocs[0].score, 0f);\n\n    topDocs = searcher.search(new BoostQuery(new TermQuery(new Term(\"foo\", \"baz\")), 3f), 1);\n    assertEquals(1, topDocs.totalHits);\n    assertEquals(3f, topDocs.scoreDocs[0].score, 0f);\n\n    reader.close();\n    dir.close();\n  }\n\n","sourceOld":null,"bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null},{"id":"83788ad129a5154d5c6562c4e8ce3db48793aada","date":1532961485,"type":3,"author":"Adrien Grand","isMerge":false,"pathNew":"lucene/core/src/test/org/apache/lucene/search/similarities/TestBooleanSimilarity#testTermScoreIsEqualToBoost().mjava","pathOld":"lucene/core/src/test/org/apache/lucene/search/similarities/TestBooleanSimilarity#testTermScoreIsEqualToBoost().mjava","sourceNew":"  public void testTermScoreIsEqualToBoost() throws IOException {\n    Directory dir = newDirectory();\n    RandomIndexWriter w = new RandomIndexWriter(random(), dir,\n        newIndexWriterConfig());\n    Document doc = new Document();\n    doc.add(new StringField(\"foo\", \"bar\", Store.NO));\n    doc.add(new StringField(\"foo\", \"baz\", Store.NO));\n    w.addDocument(doc);\n    doc = new Document();\n    doc.add(new StringField(\"foo\", \"bar\", Store.NO));\n    doc.add(new StringField(\"foo\", \"bar\", Store.NO));\n    w.addDocument(doc);\n\n    DirectoryReader reader = w.getReader();\n    w.close();\n    IndexSearcher searcher = newSearcher(reader);\n    searcher.setSimilarity(new BooleanSimilarity());\n    TopDocs topDocs = searcher.search(new TermQuery(new Term(\"foo\", \"bar\")), 2);\n    assertEquals(2, topDocs.totalHits.value);\n    assertEquals(1f, topDocs.scoreDocs[0].score, 0f);\n    assertEquals(1f, topDocs.scoreDocs[1].score, 0f);\n\n    topDocs = searcher.search(new TermQuery(new Term(\"foo\", \"baz\")), 1);\n    assertEquals(1, topDocs.totalHits.value);\n    assertEquals(1f, topDocs.scoreDocs[0].score, 0f);\n\n    topDocs = searcher.search(new BoostQuery(new TermQuery(new Term(\"foo\", \"baz\")), 3f), 1);\n    assertEquals(1, topDocs.totalHits.value);\n    assertEquals(3f, topDocs.scoreDocs[0].score, 0f);\n\n    reader.close();\n    dir.close();\n  }\n\n","sourceOld":"  public void testTermScoreIsEqualToBoost() throws IOException {\n    Directory dir = newDirectory();\n    RandomIndexWriter w = new RandomIndexWriter(random(), dir,\n        newIndexWriterConfig());\n    Document doc = new Document();\n    doc.add(new StringField(\"foo\", \"bar\", Store.NO));\n    doc.add(new StringField(\"foo\", \"baz\", Store.NO));\n    w.addDocument(doc);\n    doc = new Document();\n    doc.add(new StringField(\"foo\", \"bar\", Store.NO));\n    doc.add(new StringField(\"foo\", \"bar\", Store.NO));\n    w.addDocument(doc);\n\n    DirectoryReader reader = w.getReader();\n    w.close();\n    IndexSearcher searcher = newSearcher(reader);\n    searcher.setSimilarity(new BooleanSimilarity());\n    TopDocs topDocs = searcher.search(new TermQuery(new Term(\"foo\", \"bar\")), 2);\n    assertEquals(2, topDocs.totalHits);\n    assertEquals(1f, topDocs.scoreDocs[0].score, 0f);\n    assertEquals(1f, topDocs.scoreDocs[1].score, 0f);\n\n    topDocs = searcher.search(new TermQuery(new Term(\"foo\", \"baz\")), 1);\n    assertEquals(1, topDocs.totalHits);\n    assertEquals(1f, topDocs.scoreDocs[0].score, 0f);\n\n    topDocs = searcher.search(new BoostQuery(new TermQuery(new Term(\"foo\", \"baz\")), 3f), 1);\n    assertEquals(1, topDocs.totalHits);\n    assertEquals(3f, topDocs.scoreDocs[0].score, 0f);\n\n    reader.close();\n    dir.close();\n  }\n\n","bugFix":null,"bugIntro":[],"isBuggy":false,"nexts":[],"revCommit":null}],"commit2Parents":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":[],"199dfa410f1fdbfd3294106b04096cce5ed34b21":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85","2247f9b905bc1344a659f142ce3ea23f96c9e827"],"83788ad129a5154d5c6562c4e8ce3db48793aada":["2247f9b905bc1344a659f142ce3ea23f96c9e827"],"2247f9b905bc1344a659f142ce3ea23f96c9e827":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":["83788ad129a5154d5c6562c4e8ce3db48793aada"]},"commit2Childs":{"a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85":["199dfa410f1fdbfd3294106b04096cce5ed34b21","2247f9b905bc1344a659f142ce3ea23f96c9e827"],"199dfa410f1fdbfd3294106b04096cce5ed34b21":[],"2247f9b905bc1344a659f142ce3ea23f96c9e827":["199dfa410f1fdbfd3294106b04096cce5ed34b21","83788ad129a5154d5c6562c4e8ce3db48793aada"],"83788ad129a5154d5c6562c4e8ce3db48793aada":["cd5edd1f2b162a5cfa08efd17851a07373a96817"],"cd5edd1f2b162a5cfa08efd17851a07373a96817":[]},"heads":["199dfa410f1fdbfd3294106b04096cce5ed34b21","cd5edd1f2b162a5cfa08efd17851a07373a96817"],"roots":["a0e7ee9d0d12370e8d2b5ae0a23b6e687e018d85"],"pathCommit":null}